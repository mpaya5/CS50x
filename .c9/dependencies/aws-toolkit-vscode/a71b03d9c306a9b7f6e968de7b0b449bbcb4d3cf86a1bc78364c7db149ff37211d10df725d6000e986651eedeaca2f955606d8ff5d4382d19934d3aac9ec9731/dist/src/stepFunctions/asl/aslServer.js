/*! For license information please see aslServer.js.LICENSE.txt */
module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1946)}({104:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MESSAGES={INVALID_NEXT:'The value of "Next" property must be the name of an existing state.',INVALID_DEFAULT:'The value of "Default" property must be the name of an existing state.',INVALID_START_AT:'The value of "StartAt" property must be the name of an existing state.',INVALID_JSON_PATH_OR_INTRINSIC:"The value for the field must be a valid JSONPath or intrinsic function expression.",UNREACHABLE_STATE:"The state cannot be reached. It must be referenced by at least one other state.",NO_TERMINAL_STATE:'No terminal state. The state machine must have at least one terminal state (a state in which the "End" property is set to true).',INVALID_PROPERTY_NAME:"Field is not supported.",MUTUALLY_EXCLUSIVE_CHOICE_PROPERTIES:"Each Choice Rule can only have one comparison operator."}},105:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(53);t.default=function(e,t,r){const{length:o,offset:i}=e.keyNode,s=n.Range.create(t.positionAt(i),t.positionAt(i+o));return n.Diagnostic.create(s,r,n.DiagnosticSeverity.Error)}},12:function(e,t,r){"use strict";function n(e,t){void 0===t&&(t=!1);var r=e.length,n=0,a="",c=0,u=16,l=0,p=0,f=0,d=0,h=0;function m(t,r){for(var o=0,i=0;o<t||!r;){var s=e.charCodeAt(n);if(s>=48&&s<=57)i=16*i+s-48;else if(s>=65&&s<=70)i=16*i+s-65+10;else{if(!(s>=97&&s<=102))break;i=16*i+s-97+10}n++,o++}return o<t&&(i=-1),i}function g(){if(a="",h=0,c=n,p=l,d=f,n>=r)return c=r,u=17;var t=e.charCodeAt(n);if(o(t)){do{n++,a+=String.fromCharCode(t),t=e.charCodeAt(n)}while(o(t));return u=15}if(i(t))return n++,a+=String.fromCharCode(t),13===t&&10===e.charCodeAt(n)&&(n++,a+="\n"),l++,f=n,u=14;switch(t){case 123:return n++,u=1;case 125:return n++,u=2;case 91:return n++,u=3;case 93:return n++,u=4;case 58:return n++,u=6;case 44:return n++,u=5;case 34:return n++,a=function(){for(var t="",o=n;;){if(n>=r){t+=e.substring(o,n),h=2;break}var s=e.charCodeAt(n);if(34===s){t+=e.substring(o,n),n++;break}if(92!==s){if(s>=0&&s<=31){if(i(s)){t+=e.substring(o,n),h=2;break}h=6}n++}else{if(t+=e.substring(o,n),++n>=r){h=2;break}switch(e.charCodeAt(n++)){case 34:t+='"';break;case 92:t+="\\";break;case 47:t+="/";break;case 98:t+="\b";break;case 102:t+="\f";break;case 110:t+="\n";break;case 114:t+="\r";break;case 116:t+="\t";break;case 117:var a=m(4,!0);a>=0?t+=String.fromCharCode(a):h=4;break;default:h=5}o=n}}return t}(),u=10;case 47:var g=n-1;if(47===e.charCodeAt(n+1)){for(n+=2;n<r&&!i(e.charCodeAt(n));)n++;return a=e.substring(g,n),u=12}if(42===e.charCodeAt(n+1)){n+=2;for(var v=r-1,b=!1;n<v;){var S=e.charCodeAt(n);if(42===S&&47===e.charCodeAt(n+1)){n+=2,b=!0;break}n++,i(S)&&(13===S&&10===e.charCodeAt(n)&&n++,l++,f=n)}return b||(n++,h=1),a=e.substring(g,n),u=13}return a+=String.fromCharCode(t),n++,u=16;case 45:if(a+=String.fromCharCode(t),++n===r||!s(e.charCodeAt(n)))return u=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return a+=function(){var t=n;if(48===e.charCodeAt(n))n++;else for(n++;n<e.length&&s(e.charCodeAt(n));)n++;if(n<e.length&&46===e.charCodeAt(n)){if(!(++n<e.length&&s(e.charCodeAt(n))))return h=3,e.substring(t,n);for(n++;n<e.length&&s(e.charCodeAt(n));)n++}var r=n;if(n<e.length&&(69===e.charCodeAt(n)||101===e.charCodeAt(n)))if((++n<e.length&&43===e.charCodeAt(n)||45===e.charCodeAt(n))&&n++,n<e.length&&s(e.charCodeAt(n))){for(n++;n<e.length&&s(e.charCodeAt(n));)n++;r=n}else h=3;return e.substring(t,r)}(),u=11;default:for(;n<r&&y(t);)n++,t=e.charCodeAt(n);if(c!==n){switch(a=e.substring(c,n)){case"true":return u=8;case"false":return u=9;case"null":return u=7}return u=16}return a+=String.fromCharCode(t),n++,u=16}}function y(e){if(o(e)||i(e))return!1;switch(e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}return{setPosition:function(e){n=e,a="",c=0,u=16,h=0},getPosition:function(){return n},scan:t?function(){var e;do{e=g()}while(e>=12&&e<=15);return e}:g,getToken:function(){return u},getTokenValue:function(){return a},getTokenOffset:function(){return c},getTokenLength:function(){return n-c},getTokenStartLine:function(){return p},getTokenStartCharacter:function(){return c-d},getTokenError:function(){return h}}}function o(e){return 32===e||9===e||11===e||12===e||160===e||5760===e||e>=8192&&e<=8203||8239===e||8287===e||12288===e||65279===e}function i(e){return 10===e||13===e||8232===e||8233===e}function s(e){return e>=48&&e<=57}function a(e,t,r){var o,i,s,a,l;if(t){for(a=t.offset,l=a+t.length,s=a;s>0&&!u(e,s-1);)s--;for(var p=l;p<e.length&&!u(e,p);)p++;i=e.substring(s,p),o=function(e,t){var r=0,n=0,o=t.tabSize||4;for(;r<e.length;){var i=e.charAt(r);if(" "===i)n++;else{if("\t"!==i)break;n+=o}r++}return Math.floor(n/o)}(i,r)}else i=e,o=0,s=0,a=0,l=e.length;var f,d=function(e,t){for(var r=0;r<t.length;r++){var n=t.charAt(r);if("\r"===n)return r+1<t.length&&"\n"===t.charAt(r+1)?"\r\n":"\r";if("\n"===n)return"\n"}return e&&e.eol||"\n"}(r,e),h=!1,m=0;f=r.insertSpaces?c(" ",r.tabSize||4):"\t";var g=n(i,!1),y=!1;function v(){return d+c(f,o+m)}function b(){var e=g.scan();for(h=!1;15===e||14===e;)h=h||14===e,e=g.scan();return y=16===e||0!==g.getTokenError(),e}var S=[];function C(t,r,n){!y&&r<l&&n>a&&e.substring(r,n)!==t&&S.push({offset:r,length:n-r,content:t})}var O=b();if(17!==O){var T=g.getTokenOffset()+s;C(c(f,o),s,T)}for(;17!==O;){for(var P=g.getTokenOffset()+g.getTokenLength()+s,x=b(),R="";!h&&(12===x||13===x);){C(" ",P,g.getTokenOffset()+s),P=g.getTokenOffset()+g.getTokenLength()+s,R=12===x?v():"",x=b()}if(2===x)1!==O&&(m--,R=v());else if(4===x)3!==O&&(m--,R=v());else{switch(O){case 3:case 1:m++,R=v();break;case 5:case 12:R=v();break;case 13:R=h?v():" ";break;case 6:R=" ";break;case 10:if(6===x){R="";break}case 7:case 8:case 9:case 11:case 2:case 4:12===x||13===x?R=" ":5!==x&&17!==x&&(y=!0);break;case 16:y=!0}!h||12!==x&&13!==x||(R=v())}C(R,P,g.getTokenOffset()+s),O=x}return S}function c(e,t){for(var r="",n=0;n<t;n++)r+=e;return r}function u(e,t){return-1!=="\r\n".indexOf(e.charAt(t))}var l;function p(e,t,r){void 0===t&&(t=[]),void 0===r&&(r=l.DEFAULT);var n={type:"array",offset:-1,length:-1,children:[],parent:void 0};function o(e){"property"===n.type&&(n.length=e-n.offset,n=n.parent)}function i(e){return n.children.push(e),e}d(e,{onObjectBegin:function(e){n=i({type:"object",offset:e,length:-1,parent:n,children:[]})},onObjectProperty:function(e,t,r){(n=i({type:"property",offset:t,length:-1,parent:n,children:[]})).children.push({type:"string",value:e,offset:t,length:r,parent:n})},onObjectEnd:function(e,t){o(e+t),n.length=e+t-n.offset,n=n.parent,o(e+t)},onArrayBegin:function(e,t){n=i({type:"array",offset:e,length:-1,parent:n,children:[]})},onArrayEnd:function(e,t){n.length=e+t-n.offset,n=n.parent,o(e+t)},onLiteralValue:function(e,t,r){i({type:h(e),offset:t,length:r,parent:n,value:e}),o(t+r)},onSeparator:function(e,t,r){"property"===n.type&&(":"===e?n.colonOffset=t:","===e&&o(t))},onError:function(e,r,n){t.push({error:e,offset:r,length:n})}},r);var s=n.children[0];return s&&delete s.parent,s}function f(e,t){if(e){for(var r=e,n=0,o=t;n<o.length;n++){var i=o[n];if("string"==typeof i){if("object"!==r.type||!Array.isArray(r.children))return;for(var s=!1,a=0,c=r.children;a<c.length;a++){var u=c[a];if(Array.isArray(u.children)&&u.children[0].value===i){r=u.children[1],s=!0;break}}if(!s)return}else{var l=i;if("array"!==r.type||l<0||!Array.isArray(r.children)||l>=r.children.length)return;r=r.children[l]}}return r}}function d(e,t,r){void 0===r&&(r=l.DEFAULT);var o=n(e,!1);function i(e){return e?function(){return e(o.getTokenOffset(),o.getTokenLength(),o.getTokenStartLine(),o.getTokenStartCharacter())}:function(){return!0}}function s(e){return e?function(t){return e(t,o.getTokenOffset(),o.getTokenLength(),o.getTokenStartLine(),o.getTokenStartCharacter())}:function(){return!0}}var a=i(t.onObjectBegin),c=s(t.onObjectProperty),u=i(t.onObjectEnd),p=i(t.onArrayBegin),f=i(t.onArrayEnd),d=s(t.onLiteralValue),h=s(t.onSeparator),m=i(t.onComment),g=s(t.onError),y=r&&r.disallowComments,v=r&&r.allowTrailingComma;function b(){for(;;){var e=o.scan();switch(o.getTokenError()){case 4:S(14);break;case 5:S(15);break;case 3:S(13);break;case 1:y||S(11);break;case 2:S(12);break;case 6:S(16)}switch(e){case 12:case 13:y?S(10):m();break;case 16:S(1);break;case 15:case 14:break;default:return e}}}function S(e,t,r){if(void 0===t&&(t=[]),void 0===r&&(r=[]),g(e),t.length+r.length>0)for(var n=o.getToken();17!==n;){if(-1!==t.indexOf(n)){b();break}if(-1!==r.indexOf(n))break;n=b()}}function C(e){var t=o.getTokenValue();return e?d(t):c(t),b(),!0}function O(){switch(o.getToken()){case 3:return function(){p(),b();for(var e=!1;4!==o.getToken()&&17!==o.getToken();){if(5===o.getToken()){if(e||S(4,[],[]),h(","),b(),4===o.getToken()&&v)break}else e&&S(6,[],[]);O()||S(4,[],[4,5]),e=!0}return f(),4!==o.getToken()?S(8,[4],[]):b(),!0}();case 1:return function(){a(),b();for(var e=!1;2!==o.getToken()&&17!==o.getToken();){if(5===o.getToken()){if(e||S(4,[],[]),h(","),b(),2===o.getToken()&&v)break}else e&&S(6,[],[]);(10!==o.getToken()?(S(3,[],[2,5]),0):(C(!1),6===o.getToken()?(h(":"),b(),O()||S(4,[],[2,5])):S(5,[],[2,5]),1))||S(4,[],[2,5]),e=!0}return u(),2!==o.getToken()?S(7,[2],[]):b(),!0}();case 10:return C(!0);default:return function(){switch(o.getToken()){case 11:var e=o.getTokenValue(),t=Number(e);isNaN(t)&&(S(2),t=0),d(t);break;case 7:d(null);break;case 8:d(!0);break;case 9:d(!1);break;default:return!1}return b(),!0}()}}return b(),17===o.getToken()?!!r.allowEmptyContent||(S(4,[],[]),!1):O()?(17!==o.getToken()&&S(9,[],[]),!0):(S(4,[],[]),!1)}function h(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":return e?Array.isArray(e)?"array":"object":"null";default:return"null"}}function m(e,t,r,n){for(var o,i=t.slice(),s=p(e,[]),a=void 0,c=void 0;i.length>0&&(c=i.pop(),void 0===(a=f(s,i))&&void 0!==r);)"string"==typeof c?((o={})[c]=r,r=o):r=[r];if(a){if("object"===a.type&&"string"==typeof c&&Array.isArray(a.children)){var u=f(a,[c]);if(void 0!==u){if(void 0===r){if(!u.parent)throw new Error("Malformed AST");var l=a.children.indexOf(u.parent),d=void 0,h=u.parent.offset+u.parent.length;if(l>0)d=(T=a.children[l-1]).offset+T.length;else if(d=a.offset+1,a.children.length>1)h=a.children[1].offset;return g(e,{offset:d,length:h-d,content:""},n)}return g(e,{offset:u.offset,length:u.length,content:JSON.stringify(r)},n)}if(void 0===r)return[];var m=JSON.stringify(c)+": "+JSON.stringify(r),y=void 0;return g(e,y=(P=n.getInsertionIndex?n.getInsertionIndex(a.children.map((function(e){return e.children[0].value}))):a.children.length)>0?{offset:(T=a.children[P-1]).offset+T.length,length:0,content:","+m}:0===a.children.length?{offset:a.offset+1,length:0,content:m}:{offset:a.offset+1,length:0,content:m+","},n)}if("array"===a.type&&"number"==typeof c&&Array.isArray(a.children)){var v=c;if(-1===v){m=""+JSON.stringify(r),y=void 0;if(0===a.children.length)y={offset:a.offset+1,length:0,content:m};else y={offset:(T=a.children[a.children.length-1]).offset+T.length,length:0,content:","+m};return g(e,y,n)}if(void 0===r&&a.children.length>=0){var b=c,S=a.children[b];y=void 0;if(1===a.children.length)y={offset:a.offset+1,length:a.length-2,content:""};else if(a.children.length-1===b){var C=(T=a.children[b-1]).offset+T.length;y={offset:C,length:a.offset+a.length-2-C,content:""}}else y={offset:S.offset,length:a.children[b+1].offset-S.offset,content:""};return g(e,y,n)}if(void 0!==r){y=void 0,m=""+JSON.stringify(r);if(!n.isArrayInsertion&&a.children.length>c){var O=a.children[c];y={offset:O.offset,length:O.length,content:m}}else if(0===a.children.length||0===c)y={offset:a.offset+1,length:0,content:0===a.children.length?m:m+","};else{var T,P=c>a.children.length?a.children.length:c;y={offset:(T=a.children[P-1]).offset+T.length,length:0,content:","+m}}return g(e,y,n)}throw new Error("Can not "+(void 0===r?"remove":n.isArrayInsertion?"insert":"modify")+" Array index "+v+" as length is not sufficient")}throw new Error("Can not add "+("number"!=typeof c?"index":"property")+" to parent of type "+a.type)}if(void 0===r)throw new Error("Can not delete in empty document");return g(e,{offset:s?s.offset:0,length:s?s.length:0,content:JSON.stringify(r)},n)}function g(e,t,r){if(!r.formattingOptions)return[t];var n=y(e,t),o=t.offset,i=t.offset+t.content.length;if(0===t.length||0===t.content.length){for(;o>0&&!u(n,o-1);)o--;for(;i<n.length&&!u(n,i);)i++}for(var s=a(n,{offset:o,length:i-o},r.formattingOptions),c=s.length-1;c>=0;c--){var l=s[c];n=y(n,l),o=Math.min(o,l.offset),i=Math.max(i,l.offset+l.length),i+=l.content.length-l.length}return[{offset:o,length:e.length-(n.length-i)-o,content:n.substring(o,i)}]}function y(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}r.r(t),r.d(t,"createScanner",(function(){return v})),r.d(t,"getLocation",(function(){return b})),r.d(t,"parse",(function(){return S})),r.d(t,"parseTree",(function(){return C})),r.d(t,"findNodeAtLocation",(function(){return O})),r.d(t,"findNodeAtOffset",(function(){return T})),r.d(t,"getNodePath",(function(){return P})),r.d(t,"getNodeValue",(function(){return x})),r.d(t,"visit",(function(){return R})),r.d(t,"stripComments",(function(){return k})),r.d(t,"printParseErrorCode",(function(){return N})),r.d(t,"format",(function(){return E})),r.d(t,"modify",(function(){return w})),r.d(t,"applyEdits",(function(){return q})),function(e){e.DEFAULT={allowTrailingComma:!1}}(l||(l={}));var v=n,b=function(e,t){var r=[],n=new Object,o=void 0,i={value:{},offset:0,length:0,type:"object",parent:void 0},s=!1;function a(e,t,r,n){i.value=e,i.offset=t,i.length=r,i.type=n,i.colonOffset=void 0,o=i}try{d(e,{onObjectBegin:function(e,i){if(t<=e)throw n;o=void 0,s=t>e,r.push("")},onObjectProperty:function(e,o,i){if(t<o)throw n;if(a(e,o,i,"property"),r[r.length-1]=e,t<=o+i)throw n},onObjectEnd:function(e,i){if(t<=e)throw n;o=void 0,r.pop()},onArrayBegin:function(e,i){if(t<=e)throw n;o=void 0,r.push(0)},onArrayEnd:function(e,i){if(t<=e)throw n;o=void 0,r.pop()},onLiteralValue:function(e,r,o){if(t<r)throw n;if(a(e,r,o,h(e)),t<=r+o)throw n},onSeparator:function(e,i,a){if(t<=i)throw n;if(":"===e&&o&&"property"===o.type)o.colonOffset=i,s=!1,o=void 0;else if(","===e){var c=r[r.length-1];"number"==typeof c?r[r.length-1]=c+1:(s=!0,r[r.length-1]=""),o=void 0}}})}catch(e){if(e!==n)throw e}return{path:r,previousNode:o,isAtPropertyKey:s,matches:function(e){for(var t=0,n=0;t<e.length&&n<r.length;n++)if(e[t]===r[n]||"*"===e[t])t++;else if("**"!==e[t])return!1;return t===e.length}}},S=function(e,t,r){void 0===t&&(t=[]),void 0===r&&(r=l.DEFAULT);var n=null,o=[],i=[];function s(e){Array.isArray(o)?o.push(e):null!==n&&(o[n]=e)}return d(e,{onObjectBegin:function(){var e={};s(e),i.push(o),o=e,n=null},onObjectProperty:function(e){n=e},onObjectEnd:function(){o=i.pop()},onArrayBegin:function(){var e=[];s(e),i.push(o),o=e,n=null},onArrayEnd:function(){o=i.pop()},onLiteralValue:s,onError:function(e,r,n){t.push({error:e,offset:r,length:n})}},r),o[0]},C=p,O=f,T=function e(t,r,n){if(void 0===n&&(n=!1),function(e,t,r){return void 0===r&&(r=!1),t>=e.offset&&t<e.offset+e.length||r&&t===e.offset+e.length}(t,r,n)){var o=t.children;if(Array.isArray(o))for(var i=0;i<o.length&&o[i].offset<=r;i++){var s=e(o[i],r,n);if(s)return s}return t}},P=function e(t){if(!t.parent||!t.parent.children)return[];var r=e(t.parent);if("property"===t.parent.type){var n=t.parent.children[0].value;r.push(n)}else if("array"===t.parent.type){var o=t.parent.children.indexOf(t);-1!==o&&r.push(o)}return r},x=function e(t){switch(t.type){case"array":return t.children.map(e);case"object":for(var r=Object.create(null),n=0,o=t.children;n<o.length;n++){var i=o[n],s=i.children[1];s&&(r[i.children[0].value]=e(s))}return r;case"null":case"string":case"number":case"boolean":return t.value;default:return}},R=d,k=function(e,t){var r,o,i=n(e),s=[],a=0;do{switch(o=i.getPosition(),r=i.scan()){case 12:case 13:case 17:a!==o&&s.push(e.substring(a,o)),void 0!==t&&s.push(i.getTokenValue().replace(/[^\r\n]/g,t)),a=i.getPosition()}}while(17!==r);return s.join("")};function N(e){switch(e){case 1:return"InvalidSymbol";case 2:return"InvalidNumberFormat";case 3:return"PropertyNameExpected";case 4:return"ValueExpected";case 5:return"ColonExpected";case 6:return"CommaExpected";case 7:return"CloseBraceExpected";case 8:return"CloseBracketExpected";case 9:return"EndOfFileExpected";case 10:return"InvalidCommentToken";case 11:return"UnexpectedEndOfComment";case 12:return"UnexpectedEndOfString";case 13:return"UnexpectedEndOfNumber";case 14:return"InvalidUnicode";case 15:return"InvalidEscapeCharacter";case 16:return"InvalidCharacter"}return"<unknown ParseErrorCode>"}function E(e,t,r){return a(e,t,r)}function w(e,t,r,n){return m(e,t,r,n)}function q(e,t){for(var r=t.length-1;r>=0;r--)e=y(e,t[r]);return e}},13:function(e,t){e.exports=require("crypto")},14:function(e,t){e.exports=require("fs")},16:function(e,t){e.exports=require("os")},160:function(e,t){e.exports=require("timers")},188:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(53),s=o(r(189)),a=r(43),c=o(r(190)),u=o(r(195));!function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(53)),t.ASL_SCHEMA=s.default,t.doCompleteAsl=c.default,t.getLanguageService=function(e){const t=i.getLanguageService(Object.assign(Object.assign({},e),{})),r=t.doValidation.bind(t),o=t.doComplete.bind(t);return t.configure({validate:!0,allowComments:!1,schemas:[{uri:"asl",fileMatch:["*"],schema:s.default}]}),t.doValidation=function(t,o,s){return n(this,void 0,void 0,(function*(){const n=(yield r(t,o,s)).map((e=>"asl"!==e.source?Object.assign(Object.assign({},e),{severity:i.DiagnosticSeverity.Error}):e)),c=o.root;if(c&&a.isObjectNode(c)){const r=u.default(c,t,!0,e.aslOptions);return n.concat(r)}return n}))},t.doComplete=function(t,r,i){return n(this,void 0,void 0,(function*(){const n=yield o(t,r,i);return c.default(t,r,i,n,e.aslOptions)}))},t}},189:function(e){e.exports=JSON.parse('{"type":"object","properties":{"Version":{"type":"string","description":"The version of the Amazon States Language used in the state machine.","enum":["1.0"]},"Comment":{"type":"string","description":"A human-readable comment or description.","minLength":1},"TimeoutSeconds":{"description":"The maximum number of seconds an execution of the state machine can run. If it runs longer than the specified time, the execution fails with a States.Timeout error.","type":"integer","minimum":0,"maximum":99999999},"StartAt":{"type":"string","description":"A string that must exactly match (is case sensitive) the name of a state.","minLength":1},"States":{"type":"object","description":"An object containing a comma-delimited set of states.","additionalProperties":{"oneOf":[{"description":"A Pass state passes its input to its output, without performing work. Pass states are useful when constructing and debugging state machines.","allOf":[{"type":"object","properties":{"Type":{"type":"string","description":"The state\'s type.","minLength":1,"enum":["Pass","Succeed","Fail","Task","Choice","Wait","Parallel","Map"]},"Comment":{"$ref":"#/properties/Comment"}},"required":["Type"]},{"properties":{"InputPath":{"description":"A path that selects a portion of the state\'s input to be passed to the state\'s task for processing. If omitted, it has the value $ which designates the entire input.","oneOf":[{"type":"string"},{"type":"null"}]},"ResultPath":{"description":"A path that specifies where to place the Result, relative to the raw input. If the raw input has a field at the location addressed by the ResultPath value then in the output that field is discarded and overwritten by the state\'s result. Otherwise, a new field is created in the state output, with intervening fields constructed as necessary.","oneOf":[{"type":"string","minLength":1},{"type":"null"}]},"OutputPath":{"description":"A path that selects a portion of the state\'s input to be passed to the state\'s output. If omitted, it has the value $ which designates the entire input.","oneOf":[{"type":"string"},{"type":"null"}]}}},{"oneOf":[{"required":["Next"]},{"required":["End"]}],"properties":{"Next":{"type":"string","description":"The name of the next state that is run when the current state finishes.","minLength":1},"End":{"type":"boolean","description":"Designates this state as a terminal state (ends the execution) if set to true. There can be any number of terminal states per state machine."}}},{"properties":{"Type":{"enum":["Pass"]},"Parameters":{"description":"Used to pass information to the API actions of connected resources. The Parameters can use a mix of static JSON, JsonPath and intrinsic functions.","type":"object"}}}]},{"description":"A Succeed state stops an execution successfully. The Succeed state is a useful target for Choice state branches that don\'t do anything but stop the execution.","allOf":[{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/0"},{"properties":{"InputPath":{"description":"A path that selects a portion of the state\'s input to be passed to the state\'s task for processing. If omitted, it has the value $ which designates the entire input.","oneOf":[{"type":"string"},{"type":"null"}]},"OutputPath":{"description":"A path that selects a portion of the state\'s input to be passed to the state\'s output. If omitted, it has the value $ which designates the entire input.","oneOf":[{"type":"string"},{"type":"null"}]}}},{"properties":{"Type":{"enum":["Succeed"]}}}]},{"description":"A Fail state stops the execution of the state machine and marks it as a failure.","allOf":[{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/0"},{"properties":{"Type":{"enum":["Fail"]},"Comment":{"$ref":"#/properties/Comment"},"Error":{"type":"string","description":"Provides an error name that can be used for error handling (Retry/Catch), operational, or diagnostic purposes.","minLength":1},"Cause":{"type":"string","description":"Provides a custom failure string that can be used for operational or diagnostic purposes.","minLength":1}}}]},{"description":"A Task state represents a single unit of work performed by a state machine.\\nAll work in your state machine is done by tasks. A task performs work identified by the stateâ€™s Resource field, which is often an AWS Lambda function or other Step Functions service integrations.","allOf":[{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/0"},{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1"},{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/2"},{"properties":{"Type":{"enum":["Task"]},"Resource":{"type":"string","description":"A URI, especially an ARN that uniquely identifies the specific task to execute.","examples":["arn:aws:states:::batch:submitJob","arn:aws:states:::batch:submitJob.sync","arn:aws:states:::dynamodb:deleteItem","arn:aws:states:::dynamodb:getItem","arn:aws:states:::dynamodb:putItem","arn:aws:states:::dynamodb:updateItem","arn:aws:states:::ecs:runTask","arn:aws:states:::ecs:runTask.sync","arn:aws:states:::ecs:runTask.waitForTaskToken","arn:aws:states:::elasticmapreduce:addStep","arn:aws:states:::elasticmapreduce:addStep.sync","arn:aws:states:::elasticmapreduce:cancelStep","arn:aws:states:::elasticmapreduce:createCluster","arn:aws:states:::elasticmapreduce:createCluster.sync","arn:aws:states:::elasticmapreduce:modifyInstanceFleetByName","arn:aws:states:::elasticmapreduce:modifyInstanceGroupByName","arn:aws:states:::elasticmapreduce:setClusterTerminationProtection","arn:aws:states:::elasticmapreduce:terminateCluster","arn:aws:states:::elasticmapreduce:terminateCluster.sync","arn:aws:states:::glue:startJobRun","arn:aws:states:::glue:startJobRun.sync","arn:aws:states:::lambda:invoke","arn:aws:states:::lambda:invoke.waitForTaskToken","arn:aws:states:::sagemaker:createEndpoint","arn:aws:states:::sagemaker:createEndpointConfig","arn:aws:states:::sagemaker:createHyperParameterTuningJob","arn:aws:states:::sagemaker:createHyperParameterTuningJob.sync","arn:aws:states:::sagemaker:createLabelingJob","arn:aws:states:::sagemaker:createLabelingJob.sync","arn:aws:states:::sagemaker:createModel","arn:aws:states:::sagemaker:createTrainingJob","arn:aws:states:::sagemaker:createTrainingJob.sync","arn:aws:states:::sagemaker:createTransformJob","arn:aws:states:::sagemaker:createTransformJob.sync","arn:aws:states:::sagemaker:updateEndpoint","arn:aws:states:::sns:publish","arn:aws:states:::sns:publish.waitForTaskToken","arn:aws:states:::sqs:sendMessage","arn:aws:states:::sqs:sendMessage.waitForTaskToken","arn:aws:states:::states:startExecution","arn:aws:states:::states:startExecution.sync","arn:aws:states:::states:startExecution.waitForTaskToken"]},"Parameters":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/3/properties/Parameters","description":"Used to pass information to the API actions of connected resources. The Parameters can use a mix of static JSON, JsonPath and intrinsic functions."},"ResultSelector":{"description":"Used to transform the result. The ResultSelector can use a mix of static JSON, JsonPath and intrinsic functions.","type":"object"},"TimeoutSeconds":{"$ref":"#/properties/TimeoutSeconds","description":"If the task runs longer than the specified seconds, this state fails with a States.Timeout error name. Must be a positive, non-zero integer. If not provided, the default value is 99999999. The count begins after the task has been started, for example, when ActivityStarted or LambdaFunctionStarted are logged in the Execution event history."},"TimeoutSecondsPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath","description":"If the task runs longer than the specified seconds, this state fails with a States.Timeout error. Specified using JsonPath syntax, to select the value from the state\'s input data."},"HeartbeatSeconds":{"$ref":"#/properties/TimeoutSeconds","description":"If more time than the specified seconds elapses between heartbeats from the task, this state fails with a States.Timeout error name. Must be a positive, non-zero integer less than the number of seconds specified in the TimeoutSeconds field. If not provided, the default value is 99999999. For Activities, the count begins when GetActivityTask receives a token and ActivityStarted is logged in the Execution event history."},"HeartbeatSecondsPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath","description":"If more time than the specified seconds elapses between heartbeats from the task, this state fails with a States.Timeout error. Specified using JsonPath syntax, to select the value from the state\'s input data."},"Retry":{"description":"An array of objects, called Retriers, that define a retry policy if the state encounters runtime errors.","type":"array","items":{"type":"object","properties":{"ErrorEquals":{"description":"A non-empty array of Error Names. The retry policy for this Retrier is implemented if the reported error matches one of the Error Names.","type":"array","minItems":1,"items":{"type":"string"}},"IntervalSeconds":{"$ref":"#/properties/TimeoutSeconds","description":"A positive integer representing the number of seconds before the first retry attempt. (Default: 1)"},"MaxAttempts":{"type":"integer","description":"A non-negative integer representing the maximum number of retry attempts. (Default: 3)","minimum":0},"BackoffRate":{"type":"number","description":"A number (>= 1) which is the multiplier that increases the retry interval on each attempt. (Default: 2.0)","minimum":1},"Comment":{"$ref":"#/properties/Comment"}},"required":["ErrorEquals"]}},"Catch":{"description":"An array of objects, called Catchers, that define a fallback state. This state is executed if the state encounters runtime errors and its retry policy is exhausted or isn\'t defined.","type":"array","items":{"type":"object","properties":{"ErrorEquals":{"$ref":"#/properties/States/additionalProperties/oneOf/3/allOf/3/properties/Retry/items/properties/ErrorEquals","description":"A non-empty array of Error Names. The state machine transitions to this Catcher\'s fallback state if the reported error matches one of the Error Names."},"Next":{"type":"string","description":"The state to transition to on Error Name match.","minLength":1},"ResultPath":{"oneOf":[{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0","description":"A path that specifies where to place the Result, relative to the raw input. If the raw input has a field at the location addressed by the ResultPath value then in the output that field is discarded and overwritten by the state\'s result. Otherwise, a new field is created in the state output, with intervening fields constructed as necessary."},{"type":"null"}]},"Comment":{"$ref":"#/properties/Comment"}},"required":["ErrorEquals","Next"]}}},"required":["Resource"]}]},{"description":"A Choice state adds branching logic to a state machine.","allOf":[{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/0"},{"$ref":"#/properties/States/additionalProperties/oneOf/1/allOf/1"},{"properties":{"Type":{"enum":["Choice"]},"Choices":{"type":"array","description":"An array of Choice Rules that determines which state the state machine transitions to next.","minItems":1,"items":{"oneOf":[{"type":"object","properties":{"StringEquals":{"type":"string"},"Variable":{"type":"string","description":"A reference path specifying the input value to apply the comparison operator to.","minLength":1},"Next":{"type":"string","description":"The state to transition to if there is an exact match between the input value and the comparison operator for this Choice Rule.","minLength":1},"Comment":{"$ref":"#/properties/Comment"}},"required":["StringEquals","Variable","Next"]},{"type":"object","properties":{"StringGreaterThan":{"type":"string"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["StringGreaterThan","Variable","Next"]},{"type":"object","properties":{"StringGreaterThanEquals":{"type":"string"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["StringGreaterThanEquals","Variable","Next"]},{"type":"object","properties":{"StringLessThan":{"type":"string"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["StringLessThan","Variable","Next"]},{"type":"object","properties":{"StringLessThanEquals":{"type":"string"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["StringLessThanEquals","Variable","Next"]},{"type":"object","properties":{"NumericEquals":{"type":"number"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["NumericEquals","Variable","Next"]},{"type":"object","properties":{"NumericGreaterThan":{"type":"number"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["NumericGreaterThan","Variable","Next"]},{"type":"object","properties":{"NumericGreaterThanEquals":{"type":"number"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["NumericGreaterThanEquals","Variable","Next"]},{"type":"object","properties":{"NumericLessThan":{"type":"number"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["NumericLessThan","Variable","Next"]},{"type":"object","properties":{"NumericLessThanEquals":{"type":"number"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["NumericLessThanEquals","Variable","Next"]},{"type":"object","properties":{"BooleanEquals":{"type":"boolean"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["BooleanEquals","Variable","Next"]},{"type":"object","properties":{"TimestampEquals":{"type":"string","format":"date-time"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["TimestampEquals","Variable","Next"]},{"type":"object","properties":{"TimestampGreaterThan":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/11/properties/TimestampEquals"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["TimestampGreaterThan","Variable","Next"]},{"type":"object","properties":{"TimestampGreaterThanEquals":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/11/properties/TimestampEquals"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["TimestampGreaterThanEquals","Variable","Next"]},{"type":"object","properties":{"TimestampLessThan":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/11/properties/TimestampEquals"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["TimestampLessThan","Variable","Next"]},{"type":"object","properties":{"TimestampLessThanEquals":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/11/properties/TimestampEquals"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["TimestampLessThanEquals","Variable","Next"]},{"type":"object","properties":{"And":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/17/properties/Or"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["And","Next"]},{"type":"object","properties":{"Or":{"type":"array","minItems":1,"items":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/18/properties/Not"}},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["Or","Next"]},{"type":"object","properties":{"Not":{"oneOf":[{"type":"object","properties":{"StringEquals":{"type":"string"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Comment":{"$ref":"#/properties/Comment"}},"required":["StringEquals","Variable"]},{"type":"object","properties":{"StringLessThan":{"type":"string"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Comment":{"$ref":"#/properties/Comment"}},"required":["StringLessThan","Variable"]},{"type":"object","properties":{"StringGreaterThan":{"type":"string"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Comment":{"$ref":"#/properties/Comment"}},"required":["StringGreaterThan","Variable"]},{"type":"object","properties":{"StringLessThanEquals":{"type":"string"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Comment":{"$ref":"#/properties/Comment"}},"required":["StringLessThanEquals","Variable"]},{"type":"object","properties":{"StringGreaterThanEquals":{"type":"string"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Comment":{"$ref":"#/properties/Comment"}},"required":["StringGreaterThanEquals","Variable"]},{"type":"object","properties":{"NumericEquals":{"type":"number"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Comment":{"$ref":"#/properties/Comment"}},"required":["NumericEquals","Variable"]},{"type":"object","properties":{"NumericLessThan":{"type":"number"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Comment":{"$ref":"#/properties/Comment"}},"required":["NumericLessThan","Variable"]},{"type":"object","properties":{"NumericGreaterThan":{"type":"number"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Comment":{"$ref":"#/properties/Comment"}},"required":["NumericGreaterThan","Variable"]},{"type":"object","properties":{"NumericLessThanEquals":{"type":"number"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Comment":{"$ref":"#/properties/Comment"}},"required":["NumericLessThanEquals","Variable"]},{"type":"object","properties":{"NumericGreaterThanEquals":{"type":"number"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Comment":{"$ref":"#/properties/Comment"}},"required":["NumericGreaterThanEquals","Variable"]},{"type":"object","properties":{"BooleanEquals":{"type":"boolean"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0"},"Comment":{"$ref":"#/properties/Comment"}},"required":["BooleanEquals","Variable"]},{"type":"object","properties":{"TimestampEquals":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/11/properties/TimestampEquals"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0"},"Comment":{"$ref":"#/properties/Comment"}},"required":["TimestampEquals","Variable"]},{"type":"object","properties":{"TimestampLessThan":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/11/properties/TimestampEquals"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0"},"Comment":{"$ref":"#/properties/Comment"}},"required":["TimestampLessThan","Variable"]},{"type":"object","properties":{"TimestampGreaterThan":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/11/properties/TimestampEquals"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0"},"Comment":{"$ref":"#/properties/Comment"}},"required":["TimestampGreaterThan","Variable"]},{"type":"object","properties":{"TimestampLessThanEquals":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/11/properties/TimestampEquals"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0"},"Comment":{"$ref":"#/properties/Comment"}},"required":["TimestampLessThanEquals","Variable"]},{"type":"object","properties":{"TimestampGreaterThanEquals":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/11/properties/TimestampEquals"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0"},"Comment":{"$ref":"#/properties/Comment"}},"required":["TimestampGreaterThanEquals","Variable"]},{"type":"object","properties":{"And":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/17/properties/Or"},"Comment":{"$ref":"#/properties/Comment"}},"required":["And"]},{"type":"object","properties":{"Or":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/17/properties/Or"},"Comment":{"$ref":"#/properties/Comment"}},"required":["Or"]},{"type":"object","properties":{"Not":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/18/properties/Not"},"Comment":{"$ref":"#/properties/Comment"}},"required":["Not"]},{"type":"object","properties":{"StringEqualsPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Comment":{"$ref":"#/properties/Comment"}},"required":["StringEqualsPath","Variable"]},{"type":"object","properties":{"StringLessThanPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Comment":{"$ref":"#/properties/Comment"}},"required":["StringLessThanPath","Variable"]},{"type":"object","properties":{"StringGreaterThanPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Comment":{"$ref":"#/properties/Comment"}},"required":["StringGreaterThanPath","Variable"]},{"type":"object","properties":{"StringLessThanEqualsPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Comment":{"$ref":"#/properties/Comment"}},"required":["StringLessThanEqualsPath","Variable"]},{"type":"object","properties":{"StringGreaterThanEqualsPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Comment":{"$ref":"#/properties/Comment"}},"required":["StringGreaterThanEqualsPath","Variable"]},{"type":"object","properties":{"NumericEqualsPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Comment":{"$ref":"#/properties/Comment"}},"required":["NumericEqualsPath","Variable"]},{"type":"object","properties":{"NumericLessThanPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Comment":{"$ref":"#/properties/Comment"}},"required":["NumericLessThanPath","Variable"]},{"type":"object","properties":{"NumericGreaterThanPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Comment":{"$ref":"#/properties/Comment"}},"required":["NumericGreaterThanPath","Variable"]},{"type":"object","properties":{"NumericLessThanEqualsPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Comment":{"$ref":"#/properties/Comment"}},"required":["NumericLessThanEqualsPath","Variable"]},{"type":"object","properties":{"NumericGreaterThanEqualsPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Comment":{"$ref":"#/properties/Comment"}},"required":["NumericGreaterThanEqualsPath","Variable"]},{"type":"object","properties":{"BooleanEqualsPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0"},"Comment":{"$ref":"#/properties/Comment"}},"required":["BooleanEqualsPath","Variable"]},{"type":"object","properties":{"TimestampEqualsPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0"},"Comment":{"$ref":"#/properties/Comment"}},"required":["TimestampEqualsPath","Variable"]},{"type":"object","properties":{"TimestampLessThanPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0"},"Comment":{"$ref":"#/properties/Comment"}},"required":["TimestampLessThanPath","Variable"]},{"type":"object","properties":{"TimestampGreaterThanPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0"},"Comment":{"$ref":"#/properties/Comment"}},"required":["TimestampGreaterThanPath","Variable"]},{"type":"object","properties":{"TimestampLessThanEqualsPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0"},"Comment":{"$ref":"#/properties/Comment"}},"required":["TimestampLessThanEqualsPath","Variable"]},{"type":"object","properties":{"TimestampGreaterThanEqualsPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0"},"Comment":{"$ref":"#/properties/Comment"}},"required":["TimestampGreaterThanEqualsPath","Variable"]},{"type":"object","properties":{"IsNull":{"type":"boolean"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0"},"Comment":{"$ref":"#/properties/Comment"}},"required":["IsNull","Variable"]},{"type":"object","properties":{"IsPresent":{"type":"boolean"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0"},"Comment":{"$ref":"#/properties/Comment"}},"required":["IsPresent","Variable"]},{"type":"object","properties":{"IsNumeric":{"type":"boolean"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0"},"Comment":{"$ref":"#/properties/Comment"}},"required":["IsNumeric","Variable"]},{"type":"object","properties":{"IsString":{"type":"boolean"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0"},"Comment":{"$ref":"#/properties/Comment"}},"required":["IsString","Variable"]},{"type":"object","properties":{"IsBoolean":{"type":"boolean"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0"},"Comment":{"$ref":"#/properties/Comment"}},"required":["IsBoolean","Variable"]},{"type":"object","properties":{"IsTimestamp":{"type":"boolean"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0"},"Comment":{"$ref":"#/properties/Comment"}},"required":["IsTimestamp","Variable"]},{"type":"object","properties":{"StringMatches":{"type":"string"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0"},"Comment":{"$ref":"#/properties/Comment"}},"required":["StringMatches","Variable"]}]},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["Not","Next"]},{"type":"object","properties":{"StringEqualsPath":{"type":"string","pattern":"\\\\$.*"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["StringEqualsPath","Variable","Next"]},{"type":"object","properties":{"StringGreaterThanPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["StringGreaterThanPath","Variable","Next"]},{"type":"object","properties":{"StringGreaterThanEqualsPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["StringGreaterThanEqualsPath","Variable","Next"]},{"type":"object","properties":{"StringLessThanPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["StringLessThanPath","Variable","Next"]},{"type":"object","properties":{"StringLessThanEqualsPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["StringLessThanEqualsPath","Variable","Next"]},{"type":"object","properties":{"NumericEqualsPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["NumericEqualsPath","Variable","Next"]},{"type":"object","properties":{"NumericGreaterThanPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["NumericGreaterThanPath","Variable","Next"]},{"type":"object","properties":{"NumericGreaterThanEqualsPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["NumericGreaterThanEqualsPath","Variable","Next"]},{"type":"object","properties":{"NumericLessThanPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["NumericLessThanPath","Variable","Next"]},{"type":"object","properties":{"NumericLessThanEqualsPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["NumericLessThanEqualsPath","Variable","Next"]},{"type":"object","properties":{"BooleanEqualsPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["BooleanEqualsPath","Variable","Next"]},{"type":"object","properties":{"TimestampEqualsPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["TimestampEqualsPath","Variable","Next"]},{"type":"object","properties":{"TimestampGreaterThanPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["TimestampGreaterThanPath","Variable","Next"]},{"type":"object","properties":{"TimestampGreaterThanEqualsPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["TimestampGreaterThanEqualsPath","Variable","Next"]},{"type":"object","properties":{"TimestampLessThanPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["TimestampLessThanPath","Variable","Next"]},{"type":"object","properties":{"TimestampLessThanEqualsPath":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/19/properties/StringEqualsPath"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Variable"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["TimestampLessThanEqualsPath","Variable","Next"]},{"type":"object","properties":{"IsNull":{"type":"boolean"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["IsNull","Variable","Next"]},{"type":"object","properties":{"IsPresent":{"type":"boolean"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["IsPresent","Variable","Next"]},{"type":"object","properties":{"IsNumeric":{"type":"boolean"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["IsNumeric","Variable","Next"]},{"type":"object","properties":{"IsString":{"type":"boolean"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["IsString","Variable","Next"]},{"type":"object","properties":{"IsBoolean":{"type":"boolean"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["IsBoolean","Variable","Next"]},{"type":"object","properties":{"IsTimestamp":{"type":"boolean"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["IsTimestamp","Variable","Next"]},{"type":"object","properties":{"StringMatches":{"type":"string"},"Variable":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0"},"Next":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/0/properties/Next"},"Comment":{"$ref":"#/properties/Comment"}},"required":["StringMatches","Variable","Next"]}]},"additionalItems":false},"Default":{"type":"string","description":"The name of the state to transition to if none of the Choice Rules match."}},"required":["Choices"]}]},{"description":"A Wait state delays the state machine from continuing for a specified time. You can choose either a relative time, specified in seconds from when the state begins, or an absolute end time, specified as a timestamp.","allOf":[{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/0"},{"$ref":"#/properties/States/additionalProperties/oneOf/1/allOf/1"},{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/2"},{"properties":{"Type":{"enum":["Wait"]},"Seconds":{"$ref":"#/properties/TimeoutSeconds","description":"A time, in seconds, to wait before beginning the state specified in the \\"Next\\" field."},"Timestamp":{"$ref":"#/properties/States/additionalProperties/oneOf/4/allOf/2/properties/Choices/items/oneOf/11/properties/TimestampEquals","description":"An absolute time to wait until beginning the state specified in the \\"Next\\" field.\\n\\nTimestamps must conform to the RFC3339 profile of ISO 8601, with the further restrictions that an uppercase T must separate the date and time portions, and an uppercase Z must denote that a numeric time zone offset is not present, for example, 2016-08-18T17:33:00Z."},"SecondsPath":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0","description":"A time, in seconds, to wait before beginning the state specified in the \\"Next\\" field, specified using a path from the state\'s input data."},"TimestampPath":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0","description":"An absolute time to wait until beginning the state specified in the \\"Next\\" field, specified using a path from the state\'s input data."}},"oneOf":[{"required":["Type","Seconds"]},{"required":["Type","Timestamp"]},{"required":["Type","SecondsPath"]},{"required":["Type","TimestampPath"]}]}]},{"description":"The Parallel state can be used to create parallel branches of execution in your state machine.","allOf":[{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/0"},{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1"},{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/2"},{"properties":{"Type":{"enum":["Parallel"]},"Parameters":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/3/properties/Parameters","description":"Used to pass information to the API actions of connected resources. The Parameters can use a mix of static JSON, JsonPath and intrinsic functions."},"ResultSelector":{"$ref":"#/properties/States/additionalProperties/oneOf/3/allOf/3/properties/ResultSelector","description":"Used to transform the result. The ResultSelector can use a mix of static JSON, JsonPath and intrinsic functions."},"Branches":{"type":"array","description":"An array of objects that specifies state machines to execute in parallel.","minItems":1,"items":{"type":"object","properties":{"StartAt":{"type":"string","description":"A string that must exactly match (is case sensitive) the name of one of the state objects."},"States":{"$ref":"#/properties/States"}},"required":["StartAt","States"]}},"Retry":{"$ref":"#/properties/States/additionalProperties/oneOf/3/allOf/3/properties/Retry","description":"Contains an array of objects, called Retriers, that define a retry policy if the state encounters runtime errors."},"Catch":{"$ref":"#/properties/States/additionalProperties/oneOf/3/allOf/3/properties/Catch","description":"Contains an array of objects, called Catchers, that define a fallback state. This state is executed if the state encounters runtime errors and its retry policy is exhausted or isn\'t defined."}},"required":["Branches"]}]},{"description":"The Map state can be used to run a set of steps for each element of an input array. While the Parallel state executes multiple branches of steps using the same input, a Map state will execute the same steps for multiple entries of an array in the state input.","allOf":[{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/0"},{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1"},{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/2"},{"properties":{"Type":{"enum":["Map"]},"Parameters":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/3/properties/Parameters","description":"Used to pass information to the API actions of connected resources. The Parameters can use a mix of static JSON, JsonPath and intrinsic functions."},"ResultSelector":{"$ref":"#/properties/States/additionalProperties/oneOf/3/allOf/3/properties/ResultSelector","description":"Used to transform the result. The ResultSelector can use a mix of static JSON, JsonPath and intrinsic functions."},"ItemsPath":{"$ref":"#/properties/States/additionalProperties/oneOf/0/allOf/1/properties/ResultPath/oneOf/0","description":"Reference path identifying where in the effective input the array field is found."},"Iterator":{"type":"object","description":"A state machine which will process each element of the array.","properties":{"StartAt":{"type":"string","description":"A string that must exactly match (is case sensitive) the name of one of the state objects.","minLength":1},"States":{"$ref":"#/properties/States"}},"required":["StartAt","States"]},"MaxConcurrency":{"type":"integer","description":"Provides an upper bound on how many invocations of the Iterator may run in parallel.\\n\\nThe default value is 0, which places no limit on parallelism and iterations are invoked as concurrently as possible.","minimum":0},"Retry":{"$ref":"#/properties/States/additionalProperties/oneOf/3/allOf/3/properties/Retry","description":"Contains an array of objects, called Retriers, that define a retry policy if the state encounters runtime errors."},"Catch":{"$ref":"#/properties/States/additionalProperties/oneOf/3/allOf/3/properties/Catch","description":"Contains an array of objects, called Catchers, that define a fallback state. This state is executed if the state encounters runtime errors and its retry policy is exhausted or isn\'t defined."}},"required":["Iterator"]}]}]}}},"required":["States","StartAt"]}')},190:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(43),i=n(r(191)),s=n(r(194));t.default=function(e,t,r,n,a){var c;const u=e.offsetAt(t),l=r.root;if(!l)return{isIncomplete:!1,items:[]};const p=o.findNodeAtLocation(l,u),f=i.default(p);let d=null!==(c=s.default(p,u,e,a))&&void 0!==c?c:n;return(null==d?void 0:d.items)?d.items=d.items.concat(f):d={isIncomplete:!1,items:f},d.items.map(((e,t)=>Object.assign(Object.assign({},e),{sortText:t.toString()}))),d}},191:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(53),i=r(43),s=n(r(192)),a=n(r(193)),c=["Task","Parallel","Map"];function u(e){return e.map((e=>{const t=o.CompletionItem.create(e.name);return t.kind=o.CompletionItemKind.Snippet,t.insertTextFormat=o.InsertTextFormat.Snippet,t.insertText=e.body.join("\n"),t.documentation=e.description,t}))}t.stateSnippets=u(a.default),t.errorHandlingSnippets=u(s.default),t.default=function(e){if(e){if(i.isChildOfStates(e))return t.stateSnippets;if(i.insideStateNode(e)&&function(e){var t;let r;return i.isObjectNode(e)&&(r=i.findPropChildByName(e,"Type")),c.includes(null===(t=null==r?void 0:r.valueNode)||void 0===t?void 0:t.value)}(e))return t.errorHandlingSnippets}return[]}},192:function(e){e.exports=JSON.parse('[{"name":"Retry","body":["\\"Retry\\": [","\\t{","\\t\\t\\"ErrorEquals\\": [","\\t\\t\\t\\"ErrorA\\",","\\t\\t\\t\\"ErrorB\\"","\\t\\t],","\\t\\t\\"IntervalSeconds\\": 1,","\\t\\t\\"BackoffRate\\": 2,","\\t\\t\\"MaxAttempts\\": 2","\\t},","\\t{","\\t\\t\\"ErrorEquals\\": [","\\t\\t\\t\\"ErrorC\\"","\\t\\t],","\\t\\t\\"IntervalSeconds\\": 5","\\t}","]"],"description":"Code snippet for a Retry field.\\n\\nUse a Retry field to retry a task state after an error occurs."},{"name":"Catch","body":["\\"Catch\\": [","\\t{","\\t\\t\\"ErrorEquals\\": [","\\t\\t\\t\\"${2:States.ALL}\\"","\\t\\t],","\\t\\t\\"Next\\": \\"${1:NextState}\\"","\\t}","]"],"description":"Code snippet for a Catch field.\\n\\nUse a Catch field to catch errors and revert to a fallback state."}]')},193:function(e){e.exports=JSON.parse('[{"name":"Pass State","body":["\\"${1:PassState}\\": {","\\t\\"Type\\": \\"Pass\\",","\\t\\"Result\\": {","\\t\\t\\"data1\\": 0.5,","\\t\\t\\"data2\\": 1.5","\\t},","\\t\\"ResultPath\\": \\"$.result\\",","\\t\\"Next\\": \\"${2:NextState}\\"","}"],"description":"Code snippet for a Pass state.\\n\\nA Pass state passes its input to its output, without performing work."},{"name":"Lambda Task State","body":["\\"${1:Invoke Lambda function}\\": {","\\t\\"Type\\": \\"Task\\",","\\t\\"Resource\\": \\"arn:aws:states:::lambda:invoke\\",","\\t\\"Parameters\\": {","\\t\\t\\"FunctionName\\": \\"${3:arn:aws:lambda:REGION:ACCOUNT_ID:function:FUNCTION_NAME}\\",","\\t\\t\\"Payload\\": {","\\t\\t\\t\\"Input.$\\": \\"$\\"","\\t\\t}","\\t},","\\t\\"Next\\": \\"${2:NextState}\\"","}"],"description":"Code snippet for a Lambda Task state.\\n\\nCalls the AWS Lambda Invoke API to invoke a function."},{"name":"SNS Task State","body":["\\"${1:Send message to SNS}\\": {","\\t\\"Type\\": \\"Task\\",","\\t\\"Resource\\": \\"arn:aws:states:::sns:publish\\",","\\t\\"Parameters\\": {","\\t\\t\\"TopicArn\\": \\"${3:arn:aws:sns:REGION:ACCOUNT_ID:myTopic}\\",","\\t\\t\\"Message\\": {","\\t\\t\\t\\"Input\\": \\"${4:Hello from Step Functions!}\\"","\\t\\t}","\\t},","\\t\\"Next\\": \\"${2:NextState}\\"","}"],"description":"Code snippet for an SNS Publish Task state.\\n\\nCalls the Amazon SNS Publish API to send a message to a destination."},{"name":"Batch Task State","body":["\\"${1:Manage Batch task}\\": {","\\t\\"Type\\": \\"Task\\",","\\t\\"Resource\\": \\"arn:aws:states:::batch:submitJob.sync\\",","\\t\\"Parameters\\": {","\\t\\t\\"JobDefinition\\": \\"${3:arn:aws:batch:REGION:ACCOUNT_ID:job-definition/testJobDefinition}\\",","\\t\\t\\"JobName\\": \\"${4:myJobName}\\",","\\t\\t\\"JobQueue\\": \\"${5:arn:aws:batch:REGION:ACCOUNT_ID:job-queue/testQueue}\\"","\\t},","\\t\\"Next\\": \\"${2:NextState}\\"","}"],"description":"Code snippet for a Batch job Task state.\\n\\nCalls the AWS Batch SubmitJob API and resumes the execution once the job is complete."},{"name":"ECS Task State","body":["\\"${1:Manage ECS task}\\": {","\\t\\"Type\\": \\"Task\\",","\\t\\"Resource\\": \\"arn:aws:states:::ecs:runTask.sync\\",","\\t\\"Parameters\\": {","\\t\\t\\"LaunchType\\": \\"FARGATE\\",","\\t\\t\\"Cluster\\": \\"${3:arn:aws:ecs:REGION:ACCOUNT_ID:cluster/MyECSCluster}\\",","\\t\\t\\"TaskDefinition\\": \\"${4:arn:aws:ecs:REGION:ACCOUNT_ID:task-definition/MyTaskDefinition:1}\\"","\\t},","\\t\\"Next\\": \\"${2:NextState}\\"","}"],"description":"Code snippet for an ECS RunTask Task state.\\n\\nCalls the Amazon ECS RunTask API and resumes the execution once the ECS task is complete."},{"name":"SQS Task State","body":["\\"${1:Send message to SQS}\\": {","\\t\\"Type\\": \\"Task\\",","\\t\\"Resource\\": \\"arn:aws:states:::sqs:sendMessage\\",","\\t\\"Parameters\\": {","\\t\\t\\"QueueUrl\\": \\"${3:https://sqs.REGION.amazonaws.com/ACCOUNT_ID/myQueue}\\",","\\t\\t\\"MessageBody\\": {","\\t\\t\\t\\"Input\\": \\"${4:Hello from Step Functions!}\\"","\\t\\t}","\\t},","\\t\\"Next\\": \\"${2:NextState}\\"","}"],"description":"Code snippet for an SQS Publish Task state.\\n\\nCalls the Amazon SQS SendMessage API to send a message to a queue."},{"name":"Choice State","body":["\\"${1:ChoiceState}\\": {","\\t\\"Type\\": \\"Choice\\",","\\t\\"Choices\\": [","\\t\\t{","\\t\\t\\t\\"Variable\\": \\"$.${2:variable}\\",","\\t\\t\\t\\"BooleanEquals\\": true,","\\t\\t\\t\\"Next\\": \\"TrueState\\"","\\t\\t},","\\t\\t{","\\t\\t\\t\\"Variable\\": \\"$.${2:variable}\\",","\\t\\t\\t\\"BooleanEquals\\": false,","\\t\\t\\t\\"Next\\": \\"FalseState\\"","\\t\\t}","\\t],","\\t\\"Default\\": \\"${3:DefaultState}\\"","}"],"description":"Code snippet for a Choice state.\\n\\nA Choice state adds branching logic to a state machine."},{"name":"Wait State","body":["\\"${1:WaitState}\\": {","\\t\\"Type\\": \\"Wait\\",","\\t\\"Seconds\\": 10,","\\t\\"Next\\": \\"${2:NextState}\\"","}"],"description":"Code snippet for a Wait state.\\n\\nA Wait state delays the state machine from continuing for a specified time."},{"name":"Succeed State","body":["\\"${1:SuccessState}\\": {","\\t\\"Type\\": \\"Succeed\\"","}"],"description":"Code snippet for a Succeed state.\\n\\nA Succeed state stops an execution successfully."},{"name":"Fail State","body":["\\"${1:FailState}\\": {","\\t\\"Type\\": \\"Fail\\",","\\t\\"Cause\\": \\"${2:Invalid response.}\\",","\\t\\"Error\\": \\"${3:ErrorA}\\"","}"],"description":"Code snippet for a Fail state.\\n\\nA Fail state stops the execution of the state machine and marks it as a failure."},{"name":"Parallel State","body":["\\"${1:ParallelState}\\": {","\\t\\"Type\\": \\"Parallel\\",","\\t\\"Branches\\": [","\\t\\t{","\\t\\t\\t\\"StartAt\\": \\"State1\\",","\\t\\t\\t\\"States\\": {","\\t\\t\\t\\t\\"State1\\": {","\\t\\t\\t\\t\\t\\"Type\\": \\"Pass\\",","\\t\\t\\t\\t\\t\\"End\\": true","\\t\\t\\t\\t}","\\t\\t\\t}","\\t\\t},","\\t\\t{","\\t\\t\\t\\"StartAt\\": \\"State2\\",","\\t\\t\\t\\"States\\": {","\\t\\t\\t\\t\\"State2\\": {","\\t\\t\\t\\t\\t\\"Type\\": \\"Pass\\",","\\t\\t\\t\\t\\t\\"End\\": true","\\t\\t\\t\\t}","\\t\\t\\t}","\\t\\t}","\\t],","\\t\\"Next\\": \\"${2:NextState}\\"","}"],"description":"Code snippet for a Parallel state.\\n\\nA Parallel state can be used to create parallel branches of execution in your state machine."},{"name":"Map State","body":["\\"${1:MapState}\\": {","\\t\\"Type\\": \\"Map\\",","\\t\\"ItemsPath\\": \\"$.array\\",","\\t\\"MaxConcurrency\\": 0,","\\t\\"Iterator\\": {","\\t\\t\\"StartAt\\": \\"Pass\\",","\\t\\t\\"States\\": {","\\t\\t\\t\\"Pass\\": {","\\t\\t\\t\\t\\"Type\\": \\"Pass\\",","\\t\\t\\t\\t\\"Result\\": \\"Done!\\",","\\t\\t\\t\\t\\"End\\": true","\\t\\t\\t}","\\t\\t}","\\t},","\\t\\"ResultPath\\": \\"$.output\\",","\\t\\"Next\\": \\"${2:NextState}\\"","}"],"description":"Code snippet for a Map state.\\n\\nThe Map state can be used to run a set of steps for each element of an input array. While the Parallel state executes multiple branches of steps using the same input, a Map state will execute the same steps for multiple entries of an array in the state input."}]')},194:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(53),o=r(43);function i(e,t){var r,n,i;switch(e.keyNode.value){case"StartAt":return function(e,t){if("StartAt"===e.keyNode.value&&e.parent&&o.isObjectNode(e.parent)){const r=e.parent.properties.find((e=>"States"===e.keyNode.value));if(r)return o.getListOfStateNamesFromStateNode(r,null==t?void 0:t.ignoreColonOffset)}return[]}(e,t);case"Next":case"Default":{const s=o.findClosestAncestorStateNode(e),a=null===(r=e.parent)||void 0===r?void 0:r.parent;let c;return a&&o.isPropertyNode(a)?c=a.keyNode.value:(null===(i=null===(n=null==a?void 0:a.parent)||void 0===n?void 0:n.parent)||void 0===i?void 0:i.parent)&&o.isPropertyNode(a.parent.parent.parent)&&(c=a.parent.parent.parent.keyNode.value),s?o.getListOfStateNamesFromStateNode(s,null==t?void 0:t.ignoreColonOffset).filter((e=>e!==c)):[]}default:return[]}}function s(e,t,r,o,i){return{isIncomplete:!1,items:e.map((e=>{const s=n.CompletionItem.create(e);return s.commitCharacters=[","],s.kind=n.CompletionItemKind.Value,s.textEdit=n.TextEdit.replace(t,`${o?" ":""}${r?'"':""}${e}"${i?",":""}`),s.filterText=e,s}))}}t.default=function(e,t,r,a){if(e&&o.isPropertyNode(e)&&e.colonOffset){const t=i(e,a);if(t.length){const o=r.positionAt(e.colonOffset+1);let i=r.positionAt(e.offset+e.length);o.line!==i.line&&(i=o);return s(t,n.Range.create(o,i),!0,!0,!0)}}if(e&&e.parent&&o.isPropertyNode(e.parent)){const c=e.parent;if(o.isStringNode(e)){const o=i(c,a);if(o.length){const i=r.positionAt(e.offset+1),a=r.positionAt(e.offset+e.length);return s(o,n.Range.create(i,a),t===e.offset)}}}}},1946:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(188),i=r(597),s=r(2),a=r(160),c=r(55),u=r(1953),l=r(1954);var p,f;!function(e){e.type=new i.NotificationType("asl/resultLimitReached")}(p||(p={})),function(e){e.type=new i.RequestType("asl/validate")}(f||(f={}));const d=i.createConnection();process.on("unhandledRejection",(e=>{console.error(l.formatError("Unhandled exception",e))})),process.on("uncaughtException",(e=>{console.error(l.formatError("Unhandled exception",e))})),console.log=d.console.log.bind(d.console),console.error=d.console.error.bind(d.console);const h={resolveRelativePath:(e,t)=>c.resolve(t,e)};let m=o.getLanguageService({workspaceContext:h,contributions:[],clientCapabilities:o.ClientCapabilities.LATEST});const g=new i.TextDocuments(o.TextDocument);g.listen(d);let y=!1,v=!1,b=!1,S=Number.MAX_VALUE,C=Number.MAX_VALUE,O=Number.MAX_VALUE;var T;let P;d.onInitialize((e=>{function t(t,r){const n=t.split(".");let o=e.capabilities;for(let e=0;o&&e<n.length;e++){if(!o.hasOwnProperty(n[e]))return r;o=o[n[e]]}return o}m=o.getLanguageService({workspaceContext:h,contributions:[],clientCapabilities:e.capabilities}),y=t("textDocument.completion.completionItem.snippetSupport",!1),v=t("textDocument.rangeFormatting.dynamicRegistration",!1)&&"boolean"!=typeof e.initializationOptions.provideFormatter,S=t("textDocument.foldingRange.rangeLimit",Number.MAX_VALUE),b=t("textDocument.documentSymbol.hierarchicalDocumentSymbolSupport",!1);return{capabilities:{textDocumentSync:i.TextDocumentSyncKind.Incremental,completionProvider:y?{resolveProvider:!0,triggerCharacters:['"',":"]}:void 0,hoverProvider:!0,documentSymbolProvider:!0,documentRangeFormattingProvider:!0===e.initializationOptions.provideFormatter,colorProvider:{},foldingRangeProvider:!0,selectionRangeProvider:!0}}})),function(e){const t={};e.cancel=function(e){const r=t[e];r&&r.timeout&&(a.clearTimeout(r.timeout),delete t[e])},e.onResultLimitExceeded=function(e,r,n){return()=>{let o=t[e];if(o){if(!o.timeout)return;o.features[n]=n,o.timeout.refresh()}else o={features:{[n]:n}},o.timeout=a.setTimeout((()=>{d.sendNotification(p.type,`${s.posix.basename(e)}: For performance reasons, ${Object.keys(o.features).join(" and ")} have been limited to ${r} items.`),o.timeout=void 0}),2e3),t[e]=o}}}(T||(T={})),d.onDidChangeConfiguration((e=>{var t,r,n,o,s,a,c,u,l,p;const f=e.settings;if(C=Math.trunc(Math.max((null===(n=null===(r=null===(t=null==f?void 0:f.aws)||void 0===t?void 0:t.stepfunctions)||void 0===r?void 0:r.asl)||void 0===n?void 0:n.resultLimit)||S,0)),O=Math.trunc(Math.max((null===(a=null===(s=null===(o=null==f?void 0:f.aws)||void 0===o?void 0:o.stepfunctions)||void 0===s?void 0:s.asl)||void 0===a?void 0:a.resultLimit)||Number.MAX_VALUE,0)),v){(null===(p=null===(l=null===(u=null===(c=null==f?void 0:f.aws)||void 0===c?void 0:c.stepfunctions)||void 0===u?void 0:u.asl)||void 0===l?void 0:l.format)||void 0===p?void 0:p.enable)?P||(P=d.client.register(i.DocumentRangeFormattingRequest.type,{documentSelector:[{language:"asl"}]})):P&&(P.then((e=>e.dispose())),P=void 0)}})),d.onRequest(f.type,(e=>n(void 0,void 0,void 0,(function*(){return new Promise((t=>{const r=g.get(e);r?N(r,(e=>{t(e)})):t([])}))})))),g.onDidChangeContent((e=>{T.cancel(e.document.uri),k(e.document)})),g.onDidClose((e=>{T.cancel(e.document.uri),R(e.document),d.sendDiagnostics({uri:e.document.uri,diagnostics:[]})}));const x={};function R(e){const t=x[e.uri];t&&(a.clearTimeout(t),delete x[e.uri])}function k(e){R(e),x[e.uri]=a.setTimeout((()=>{delete x[e.uri],N(e)}),500)}function N(e,t){const r=r=>{d.sendDiagnostics({uri:e.uri,diagnostics:r}),t&&t(r)};if(0===e.getText().length)return void r([]);const n=w(e),o=e.version;m.doValidation(e,n,{comments:"error",trailingCommas:"error"}).then((t=>{a.setTimeout((()=>{const n=g.get(e.uri);n&&n.version===o&&r(t)}),100)}),(t=>{d.console.error(l.formatError("Error while validating "+e.uri,t))}))}d.onDidChangeWatchedFiles((e=>{let t=!1;e.changes.forEach((e=>{m.resetSchema(e.uri)&&(t=!0)})),t&&g.all().forEach(k)}));const E=u.getLanguageModelCache(10,60,(e=>m.parseJSONDocument(e)));function w(e){return E.get(e)}g.onDidClose((e=>{E.onDocumentRemoved(e.document)})),d.onShutdown((()=>{E.dispose()})),d.onCompletion(((e,t)=>l.runSafeAsync((()=>n(void 0,void 0,void 0,(function*(){const t=g.get(e.textDocument.uri);if(t){const r=w(t);return m.doComplete(t,e.position,r)}}))),void 0,"Error while computing completions for "+e.textDocument.uri,t))),d.onCompletionResolve(((e,t)=>l.runSafeAsync((()=>m.doResolve(e)),e,"Error while resolving completion proposal",t))),d.onHover(((e,t)=>l.runSafeAsync((()=>n(void 0,void 0,void 0,(function*(){const t=g.get(e.textDocument.uri);if(t){const r=w(t);return m.doHover(t,e.position,r)}}))),void 0,"Error while computing hover for "+e.textDocument.uri,t))),d.onDocumentSymbol(((e,t)=>l.runSafe((()=>{const t=g.get(e.textDocument.uri);if(t){const e=w(t),r=T.onResultLimitExceeded(t.uri,O,"document symbols");return b?m.findDocumentSymbols2(t,e,{resultLimit:O,onResultLimitExceeded:r}):m.findDocumentSymbols(t,e,{resultLimit:O,onResultLimitExceeded:r})}return[]}),[],"Error while computing document symbols for "+e.textDocument.uri,t))),d.onDocumentRangeFormatting(((e,t)=>l.runSafe((()=>{const t=g.get(e.textDocument.uri);return t?m.format(t,e.range,e.options):[]}),[],"Error while formatting range for "+e.textDocument.uri,t))),d.onDocumentColor(((e,t)=>l.runSafeAsync((()=>n(void 0,void 0,void 0,(function*(){const t=g.get(e.textDocument.uri);if(t){const e=T.onResultLimitExceeded(t.uri,O,"document colors"),r=w(t);return m.findDocumentColors(t,r,{resultLimit:O,onResultLimitExceeded:e})}return[]}))),[],"Error while computing document colors for "+e.textDocument.uri,t))),d.onColorPresentation(((e,t)=>l.runSafe((()=>{const t=g.get(e.textDocument.uri);if(t){const r=w(t);return m.getColorPresentations(t,r,e.color,e.range)}return[]}),[],"Error while computing color presentations for "+e.textDocument.uri,t))),d.onFoldingRanges(((e,t)=>l.runSafe((()=>{const t=g.get(e.textDocument.uri);if(t){const e=T.onResultLimitExceeded(t.uri,C,"folding ranges");return m.getFoldingRanges(t,{rangeLimit:C,onRangeLimitExceeded:e})}}),void 0,"Error while computing folding ranges for "+e.textDocument.uri,t))),d.onSelectionRanges(((e,t)=>l.runSafe((()=>{const t=g.get(e.textDocument.uri);if(t){const r=w(t);return m.getSelectionRanges(t,e.positions,r)}return[]}),[],"Error while computing selection ranges for "+e.textDocument.uri,t))),d.listen()},1947:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(23),o=r(598);t.ConfigurationFeature=e=>class extends e{getConfiguration(e){return e?o.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let t={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(n.ConfigurationRequest.type,t).then((t=>Array.isArray(e)?t:t[0]))}}},1948:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(23);t.WorkspaceFoldersFeature=e=>class extends e{initialize(e){let t=e.workspace;t&&t.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new n.Emitter,this.connection.onNotification(n.DidChangeWorkspaceFoldersNotification.type,(e=>{this._onDidChangeWorkspaceFolders.fire(e.event)})))}getWorkspaceFolders(){return this.connection.sendRequest(n.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(n.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}}},1949:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(23),o=r(599);class i{constructor(e,t){this._connection=e,this._token=t,i.Instances.set(this._token,this),this._source=new n.CancellationTokenSource}get token(){return this._source.token}begin(e,t,r,o){let i={kind:"begin",title:e,percentage:t,message:r,cancellable:o};this._connection.sendProgress(n.WorkDoneProgress.type,this._token,i)}report(e,t){let r={kind:"report"};"number"==typeof e?(r.percentage=e,void 0!==t&&(r.message=t)):r.message=e,this._connection.sendProgress(n.WorkDoneProgress.type,this._token,r)}done(){i.Instances.delete(this._token),this._source.dispose(),this._connection.sendProgress(n.WorkDoneProgress.type,this._token,{kind:"end"})}cancel(){this._source.cancel()}}i.Instances=new Map;class s{constructor(){this._source=new n.CancellationTokenSource}get token(){return this._source.token}begin(){}report(){}done(){}}var a;t.attachWorkDone=function(e,t){if(void 0===t||void 0===t.workDoneToken)return new s;const r=t.workDoneToken;return delete t.workDoneToken,new i(e,r)},t.ProgressFeature=e=>class extends e{initialize(e){var t;!0===(null===(t=null==e?void 0:e.window)||void 0===t?void 0:t.workDoneProgress)&&(this._progressSupported=!0,this.connection.onNotification(n.WorkDoneProgressCancelNotification.type,(e=>{let t=i.Instances.get(e.token);void 0!==t&&t.cancel()})))}attachWorkDoneProgress(e){return void 0===e?new s:new i(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){const e=o.generateUuid();return this.connection.sendRequest(n.WorkDoneProgressCreateRequest.type,{token:e}).then((()=>new i(this.connection,e)))}return Promise.resolve(new s)}},function(e){e.type=new n.ProgressType}(a||(a={}));class c{constructor(e,t){this._connection=e,this._token=t}report(e){this._connection.sendProgress(a.type,this._token,e)}}t.attachPartialResult=function(e,t){if(void 0===t||void 0===t.partialResultToken)return;const r=t.partialResultToken;return delete t.partialResultToken,new c(e,r)}},195:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(53),i=r(43),s=r(104),a=n(r(105)),c=n(r(196)),u=n(r(85)),l=/^States\.(JsonToString|Format|StringToJson|Array)\(.+\)$/;function p(e,t,r,n){var i;const s=t.includes(null===(i=null==e?void 0:e.valueNode)||void 0===i?void 0:i.value);if(e&&e.valueNode&&!s){const{length:t,offset:i}=e.valueNode,s=o.Range.create(r.positionAt(i),r.positionAt(i+t));return o.Diagnostic.create(s,n,o.DiagnosticSeverity.Error)}}function f(e,t){let r=[];const n=e.valueNode;return n&&i.isObjectNode(n)&&n.properties.forEach((e=>{if(e.valueNode&&e.keyNode.value.endsWith(".$")){const n=e.valueNode.value;if("string"!=typeof n||!n.startsWith("$")&&!function(e){const t=e.trimRight();return l.test(t)}(n)){const{length:n,offset:i}=e.valueNode,a=o.Range.create(t.positionAt(i),t.positionAt(i+n));r.push(o.Diagnostic.create(a,s.MESSAGES.INVALID_JSON_PATH_OR_INTRINSIC,o.DiagnosticSeverity.Error))}}else e.valueNode&&i.isObjectNode(e.valueNode)&&(r=r.concat(f(e,t)))})),r}function d(e,t,r,n){const o=i.findPropChildByName(t,e),a=[],c={};return(null==o?void 0:o.valueNode)&&i.isArrayNode(o.valueNode)&&o.valueNode.items.forEach((e=>{var t;if(i.isObjectNode(e)){const o=i.findPropChildByName(e,"Next");if(o){const e=null===(t=o.valueNode)||void 0===t?void 0:t.value,i=p(o,r,n,s.MESSAGES.INVALID_NEXT);i?a.push(i):"string"==typeof e&&(c[e]=!0)}}})),{diagnostics:a,reachedStates:c}}t.default=function e(t,r,n,l){var h,m;const g=i.findPropChildByName(t,"States"),y=i.findPropChildByName(t,"StartAt"),v=n?u.default.Root:u.default.NestedRoot;let b=[];if(t.properties.forEach((e=>{const t=e.keyNode.value;v[t]||b.push(a.default(e,r,s.MESSAGES.INVALID_PROPERTY_NAME))})),g){const t=i.getListOfStateNamesFromStateNode(g,null==l?void 0:l.ignoreColonOffset),n=g.valueNode;if(y){const e=t.includes(null===(h=y.valueNode)||void 0===h?void 0:h.value);if(y.valueNode&&!e){const{length:e,offset:t}=y.valueNode,n=o.Range.create(r.positionAt(t),r.positionAt(t+e));b.push(o.Diagnostic.create(n,s.MESSAGES.INVALID_START_AT,o.DiagnosticSeverity.Error))}}if(n&&i.isObjectNode(n)){let a={},u=!1;const h=null===(m=null==y?void 0:y.valueNode)||void 0===m?void 0:m.value;if("string"==typeof h&&(a[h]=!0),n.properties.forEach((n=>{var o,h,m,g,y;const v=n.valueNode;if(v&&i.isObjectNode(v)){b=b.concat(c.default(v,r));const S=i.findPropChildByName(v,"Next"),C=i.findPropChildByName(v,"End"),O=null===(h=null===(o=v.properties.find((e=>"Type"===e.keyNode.value)))||void 0===o?void 0:o.valueNode)||void 0===h?void 0:h.value,T=null===(m=null==S?void 0:S.valueNode)||void 0===m?void 0:m.value;n.keyNode.value;if(C&&!0===(null===(g=C.valueNode)||void 0===g?void 0:g.value)&&(u=!0),"string"==typeof T&&(a[T]=!0),["Pass","Task","Parallel","Map"].includes(O)){const e=i.findPropChildByName(v,"Parameters");if(e){const t=f(e,r);b=b.concat(t)}}if(["Task","Parallel","Map"].includes(O)){const e=d("Catch",v,t,r),n=i.findPropChildByName(v,"ResultSelector");if(b=b.concat(e.diagnostics),a=Object.assign(Object.assign({},a),e.reachedStates),n){const e=f(n,r);b=b.concat(e)}}switch(O){case"Map":{const t=i.findPropChildByName(v,"Iterator");t&&t.valueNode&&i.isObjectNode(t.valueNode)&&(b=[...b,...e(t.valueNode,r,void 0,l)]);break}case"Parallel":{const t=i.findPropChildByName(v,"Branches");t&&t.valueNode&&i.isArrayNode(t.valueNode)&&t.valueNode.children.forEach((t=>{i.isObjectNode(t)&&(b=[...b,...e(t,r,void 0,l)])}));break}case"Choice":{const e=i.findPropChildByName(v,"Default");if(e){const n=null===(y=null==e?void 0:e.valueNode)||void 0===y?void 0:y.value,o=p(e,t,r,s.MESSAGES.INVALID_DEFAULT);o?b.push(o):"string"==typeof n&&(a[n]=!0)}const n=d("Choices",v,t,r);b=b.concat(n.diagnostics),a=Object.assign(Object.assign({},a),n.reachedStates);break}case"Succeed":case"Fail":u=!0}if(S){const e=p(S,t,r,s.MESSAGES.INVALID_NEXT);e&&b.push(e)}}})),!u){const{length:e,offset:t}=g.keyNode,n=o.Range.create(r.positionAt(t),r.positionAt(t+e));b.push(o.Diagnostic.create(n,s.MESSAGES.NO_TERMINAL_STATE,o.DiagnosticSeverity.Error))}n.properties.filter((e=>{const t=e.keyNode.value;return!a[t]})).forEach((e=>{const{length:t,offset:n}=e.keyNode,i=o.Range.create(r.positionAt(n),r.positionAt(n+t));b.push(o.Diagnostic.create(i,s.MESSAGES.UNREACHABLE_STATE,o.DiagnosticSeverity.Error))}))}}return b}},1950:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const n=r(55),o=r(2),i=r(14),s=r(95);function a(){return"win32"===process.platform}function c(e,t,r,n){const a=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise(((c,u)=>{let l=process.env,p=Object.create(null);Object.keys(l).forEach((e=>p[e]=l[e])),t&&i.existsSync(t)&&(p.NODE_PATH?p.NODE_PATH=t+o.delimiter+p.NODE_PATH:p.NODE_PATH=t,n&&n("NODE_PATH value is: "+p.NODE_PATH)),p.ELECTRON_RUN_AS_NODE="1";try{let t=s.fork("",[],{cwd:r,env:p,execArgv:["-e",a]});if(void 0===t.pid)return void u(new Error(`Starting process to resolve node module  ${e} failed`));t.on("error",(e=>{u(e)})),t.on("message",(r=>{"r"===r.c&&(t.send({c:"e"}),r.s?c(r.r):u(new Error("Failed to resolve module: "+e)))}));let n={c:"rs",a:e};t.send(n)}catch(e){u(e)}}))}function u(e){let t="npm";const r=Object.create(null);Object.keys(process.env).forEach((e=>r[e]=process.env[e])),r.NO_UPDATE_NOTIFIER="true";const n={encoding:"utf8",env:r};a()&&(t="npm.cmd",n.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let r=s.spawnSync(t,["config","get","prefix"],n).stdout;if(!r)return void(e&&e("'npm config get prefix' didn't return a value."));let c=r.trim();return e&&e("'npm config get prefix' value is: "+c),c.length>0?a()?o.join(c,"node_modules"):o.join(c,"lib","node_modules"):void 0}catch(e){return}finally{process.removeListener("SIGPIPE",i)}}var l;t.uriToFilePath=function(e){let t=n.parse(e);if("file:"!==t.protocol||!t.path)return;let r=t.path.split("/");for(var i=0,s=r.length;i<s;i++)r[i]=decodeURIComponent(r[i]);if("win32"===process.platform&&r.length>1){let e=r[0],t=r[1];0===e.length&&t.length>1&&":"===t[1]&&r.shift()}return o.normalize(r.join("/"))},t.resolve=c,t.resolveGlobalNodePath=u,t.resolveGlobalYarnPath=function(e){let t="yarn",r={encoding:"utf8"};a()&&(t="yarn.cmd",r.shell=!0);let n=()=>{};try{process.on("SIGPIPE",n);let i=s.spawnSync(t,["global","dir","--json"],r),a=i.stdout;if(!a)return void(e&&(e("'yarn global dir' didn't return a value."),i.stderr&&e(i.stderr)));let c=a.trim().split(/\r?\n/);for(let e of c)try{let t=JSON.parse(e);if("log"===t.type)return o.join(t.data,"node_modules")}catch(e){}return}catch(e){return}finally{process.removeListener("SIGPIPE",n)}},function(t){let r=void 0;function n(){return void 0!==r||(r="win32"!==process.platform&&(!i.existsSync(e.toUpperCase())||!i.existsSync(e.toLowerCase()))),r}t.isCaseSensitive=n,t.isParent=function(e,t){return n()?0===o.normalize(t).indexOf(o.normalize(e)):0===o.normalize(t).toLowerCase().indexOf(o.normalize(e).toLowerCase())}}(l=t.FileSystem||(t.FileSystem={})),t.resolveModulePath=function(e,t,r,n){return r?(o.isAbsolute(r)||(r=o.join(e,r)),c(t,r,r,n).then((e=>l.isParent(r,e)?e:Promise.reject(new Error(`Failed to load ${t} from node path location.`)))).then(void 0,(r=>c(t,u(n),e,n)))):c(t,u(n),e,n)}}).call(this,"/index.js")},1951:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(23);t.CallHierarchyFeature=e=>class extends e{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(n.Proposed.CallHierarchyPrepareRequest.type,((t,r)=>e(t,r,this.attachWorkDoneProgress(t),void 0)))},onIncomingCalls:e=>{const t=n.Proposed.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(t,((r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(t,r))))},onOutgoingCalls:e=>{const t=n.Proposed.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(t,((r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(t,r))))}}}}},1952:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(23);t.SemanticTokensFeature=e=>class extends e{get semanticTokens(){return{on:e=>{const t=n.Proposed.SemanticTokensRequest.type;this.connection.onRequest(t,((r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(t,r))))},onEdits:e=>{const t=n.Proposed.SemanticTokensEditsRequest.type;this.connection.onRequest(t,((r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(t,r))))},onRange:e=>{const t=n.Proposed.SemanticTokensRangeRequest.type;this.connection.onRequest(t,((r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(t,r))))}}}};t.SemanticTokensBuilder=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,t,r,n,o){let i=e,s=t;this._dataLen>0&&(i-=this._prevLine,0===i&&(s-=this._prevChar)),this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._data[this._dataLen++]=r,this._data[this._dataLen++]=n,this._data[this._dataLen++]=o,this._prevLine=e,this._prevChar=t}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return void 0!==this._prevData}buildEdits(){if(void 0!==this._prevData){const e=this._prevData.length,t=this._data.length;let r=0;for(;r<t&&r<e&&this._prevData[r]===this._data[r];)r++;if(r<t&&r<e){let n=0;for(;n<t&&n<e&&this._prevData[e-1-n]===this._data[t-1-n];)n++;const o=this._data.slice(r,t-n);return{resultId:this.id,edits:[{start:r,deleteCount:e-n-r,data:o}]}}return r<t?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<e?{resultId:this.id,edits:[{start:r,deleteCount:e-r}]}:{resultId:this.id,edits:[]}}return this.build()}}},1953:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLanguageModelCache=void 0,t.getLanguageModelCache=function(e,t,r){let n,o={},i=0;return t>0&&(n=setInterval((()=>{const e=Date.now()-1e3*t,r=Object.keys(o);for(const t of r){o[t].cTime<e&&(delete o[t],i--)}}),1e3*t)),{get(t){const n=t.version,s=t.languageId,a=o[t.uri];if(a&&a.version===n&&a.languageId===s)return a.cTime=Date.now(),a.languageModel;const c=r(t);if(o[t.uri]={languageModel:c,version:n,languageId:s,cTime:Date.now()},a||i++,i===e){let e,t=Number.MAX_VALUE;for(const r of Object.keys(o)){const n=o[r];n.cTime<t&&(e=r,t=n.cTime)}e&&(delete o[e],i--)}return c},onDocumentRemoved(e){const t=e.uri;o[t]&&(delete o[t],i--)},dispose(){void 0!==n&&(clearInterval(n),n=void 0,o={},i=0)}}}},1954:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runSafe=t.runSafeAsync=t.formatError=void 0;const n=r(597);function o(e,t){if(t instanceof Error){const r=t;return`${e}: ${r.message}\n${r.stack}`}return"string"==typeof t?`${e}: ${t}`:t?`${e}: ${t.toString()}`:e}function i(){return console.log("cancelled"),new n.ResponseError(n.ErrorCodes.RequestCancelled,"Request cancelled")}t.formatError=o,t.runSafeAsync=function(e,t,r,n){return new Promise((s=>{setImmediate((()=>(n.isCancellationRequested&&s(i()),e().then((e=>{n.isCancellationRequested?s(i()):s(e)}),(e=>{console.error(o(r,e)),s(t)})))))}))},t.runSafe=function(e,t,r,n){return new Promise((s=>{setImmediate((()=>{if(n.isCancellationRequested)s(i());else try{const t=e();if(n.isCancellationRequested)return void s(i());s(t)}catch(e){console.error(o(r,e)),s(t)}}))}))}},196:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(43),i=n(r(197)),s=n(r(85));t.default=function(e,t){var r,n,a,c;const u=null===(n=null===(r=o.findPropChildByName(e,"Type"))||void 0===r?void 0:r.valueNode)||void 0===n?void 0:n.value,l=[];if("string"==typeof u){const r=!!(null===(a=s.default.StateTypes[u])||void 0===a?void 0:a.hasCommonProperties),n=null===(c=s.default.StateTypes[u])||void 0===c?void 0:c.Properties;if(!n)return[];const o=r?Object.assign(Object.assign({},s.default.Common),n):Object.assign({},n);l.push(...i.default(e,t,o))}return l}},197:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(43),i=n(r(105)),s=r(104),a=n(r(85)).default.ReferenceTypes;function c(e){return e===Object(e)}function u(e,t,r){const n=r["Fn:ArrayOf"],l=r["Fn:OneOf"],p=r["Fn:ValueOf"];if("string"==typeof n&&o.isArrayNode(e))return function(e,t,r){const n=a[r];let i=[];return c(n)&&e.items.forEach((e=>{o.isObjectNode(e)&&(i=i.concat(u(e,t,n)))})),i}(e,t,n);if("string"==typeof l&&o.isObjectNode(e))return function(e,t,r,n){const o=a[n],l=[];let p=[];if(e.properties.forEach((e=>{if(!c(o))return;const n=e.keyNode.value,a=o[n];a?l.push({propNode:e,schemaValue:a}):r[n]||p.push(i.default(e,t,s.MESSAGES.INVALID_PROPERTY_NAME))})),l.length>1)l.forEach((e=>{p.push(i.default(e.propNode,t,s.MESSAGES.MUTUALLY_EXCLUSIVE_CHOICE_PROPERTIES))}));else if(l.length){const{schemaValue:e,propNode:r}=l[0],{valueNode:n}=r;n&&c(e)&&(p=p.concat(u(n,t,e)))}return p}(e,t,r,l);if("string"==typeof p&&o.isObjectNode(e)){return u(e,t,a[p])}return o.isObjectNode(e)?function(e,t,r){const n=[];return r.properties&&(r=r.properties),e.properties.forEach((e=>{const o=e.keyNode.value,a=r[o];a?e.valueNode&&c(a)&&n.push(...u(e.valueNode,t,a)):n.push(i.default(e,t,s.MESSAGES.INVALID_PROPERTY_NAME))})),n}(e,t,r):[]}t.default=u},2:function(e,t){e.exports=require("path")},23:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});const o=r(26);t.ErrorCodes=o.ErrorCodes,t.ResponseError=o.ResponseError,t.CancellationToken=o.CancellationToken,t.CancellationTokenSource=o.CancellationTokenSource,t.Disposable=o.Disposable,t.Event=o.Event,t.Emitter=o.Emitter,t.Trace=o.Trace,t.TraceFormat=o.TraceFormat,t.SetTraceNotification=o.SetTraceNotification,t.LogTraceNotification=o.LogTraceNotification,t.RequestType=o.RequestType,t.RequestType0=o.RequestType0,t.NotificationType=o.NotificationType,t.NotificationType0=o.NotificationType0,t.MessageReader=o.MessageReader,t.MessageWriter=o.MessageWriter,t.ConnectionStrategy=o.ConnectionStrategy,t.StreamMessageReader=o.StreamMessageReader,t.StreamMessageWriter=o.StreamMessageWriter,t.IPCMessageReader=o.IPCMessageReader,t.IPCMessageWriter=o.IPCMessageWriter,t.createClientPipeTransport=o.createClientPipeTransport,t.createServerPipeTransport=o.createServerPipeTransport,t.generateRandomPipeName=o.generateRandomPipeName,t.createClientSocketTransport=o.createClientSocketTransport,t.createServerSocketTransport=o.createServerSocketTransport,t.ProgressType=o.ProgressType,n(r(8)),n(r(278));const i=r(289),s=r(290);!function(e){let t,r,n,o,a,c;!function(e){e.method=i.CallHierarchyPrepareRequest.method,e.type=i.CallHierarchyPrepareRequest.type}(t=e.CallHierarchyPrepareRequest||(e.CallHierarchyPrepareRequest={})),function(e){e.method=i.CallHierarchyIncomingCallsRequest.method,e.type=i.CallHierarchyIncomingCallsRequest.type}(r=e.CallHierarchyIncomingCallsRequest||(e.CallHierarchyIncomingCallsRequest={})),function(e){e.method=i.CallHierarchyOutgoingCallsRequest.method,e.type=i.CallHierarchyOutgoingCallsRequest.type}(n=e.CallHierarchyOutgoingCallsRequest||(e.CallHierarchyOutgoingCallsRequest={})),e.SemanticTokenTypes=s.SemanticTokenTypes,e.SemanticTokenModifiers=s.SemanticTokenModifiers,e.SemanticTokens=s.SemanticTokens,function(e){e.method=s.SemanticTokensRequest.method,e.type=s.SemanticTokensRequest.type}(o=e.SemanticTokensRequest||(e.SemanticTokensRequest={})),function(e){e.method=s.SemanticTokensEditsRequest.method,e.type=s.SemanticTokensEditsRequest.type}(a=e.SemanticTokensEditsRequest||(e.SemanticTokensEditsRequest={})),function(e){e.method=s.SemanticTokensRangeRequest.method,e.type=s.SemanticTokensRangeRequest.type}(c=e.SemanticTokensRangeRequest||(e.SemanticTokensRangeRequest={}))}(t.Proposed||(t.Proposed={})),t.createProtocolConnection=function(e,t,r,n){return o.createMessageConnection(e,t,r,n)}},24:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(26);class o extends n.RequestType0{constructor(e){super(e)}}t.ProtocolRequestType0=o;class i extends n.RequestType{constructor(e){super(e)}}t.ProtocolRequestType=i;class s extends n.NotificationType{constructor(e){super(e)}}t.ProtocolNotificationType=s;class a extends n.NotificationType0{constructor(e){super(e)}}t.ProtocolNotificationType0=a},26:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});const o=r(61),i=r(273);t.RequestType=i.RequestType,t.RequestType0=i.RequestType0,t.RequestType1=i.RequestType1,t.RequestType2=i.RequestType2,t.RequestType3=i.RequestType3,t.RequestType4=i.RequestType4,t.RequestType5=i.RequestType5,t.RequestType6=i.RequestType6,t.RequestType7=i.RequestType7,t.RequestType8=i.RequestType8,t.RequestType9=i.RequestType9,t.ResponseError=i.ResponseError,t.ErrorCodes=i.ErrorCodes,t.NotificationType=i.NotificationType,t.NotificationType0=i.NotificationType0,t.NotificationType1=i.NotificationType1,t.NotificationType2=i.NotificationType2,t.NotificationType3=i.NotificationType3,t.NotificationType4=i.NotificationType4,t.NotificationType5=i.NotificationType5,t.NotificationType6=i.NotificationType6,t.NotificationType7=i.NotificationType7,t.NotificationType8=i.NotificationType8,t.NotificationType9=i.NotificationType9;const s=r(90);t.MessageReader=s.MessageReader,t.StreamMessageReader=s.StreamMessageReader,t.IPCMessageReader=s.IPCMessageReader,t.SocketMessageReader=s.SocketMessageReader;const a=r(91);t.MessageWriter=a.MessageWriter,t.StreamMessageWriter=a.StreamMessageWriter,t.IPCMessageWriter=a.IPCMessageWriter,t.SocketMessageWriter=a.SocketMessageWriter;const c=r(73);t.Disposable=c.Disposable,t.Event=c.Event,t.Emitter=c.Emitter;const u=r(274);t.CancellationTokenSource=u.CancellationTokenSource,t.CancellationToken=u.CancellationToken;const l=r(275);var p,f,d,h,m,g,y,v;n(r(276)),n(r(277)),function(e){e.type=new i.NotificationType("$/cancelRequest")}(p||(p={})),function(e){e.type=new i.NotificationType("$/progress")}(f||(f={}));t.ProgressType=class{constructor(){}},t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"}(d=t.Trace||(t.Trace={})),function(e){e.fromString=function(t){if(!o.string(t))return e.Off;switch(t=t.toLowerCase()){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(d=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(h=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new i.NotificationType("$/setTraceNotification")}(m=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new i.NotificationType("$/logTraceNotification")}(g=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(y=t.ConnectionErrors||(t.ConnectionErrors={}));class b extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,b.prototype)}}function S(e,t,r,n){let s=0,a=0,S=0;const C="2.0";let O,T,P=void 0,x=Object.create(null),R=void 0,k=Object.create(null),N=new Map,E=new l.LinkedMap,w=Object.create(null),q=Object.create(null),_=d.Off,A=h.Text,D=v.New,I=new c.Emitter,$=new c.Emitter,j=new c.Emitter,M=new c.Emitter,V=new c.Emitter;function L(e){return"req-"+e.toString()}function F(e,t){var r;i.isRequestMessage(t)?e.set(L(t.id),t):i.isResponseMessage(t)?e.set(null===(r=t.id)?"res-unknown-"+(++S).toString():"res-"+r.toString(),t):e.set("not-"+(++a).toString(),t)}function W(e){}function U(){return D===v.Listening}function H(){return D===v.Closed}function B(){return D===v.Disposed}function G(){D!==v.New&&D!==v.Listening||(D=v.Closed,$.fire(void 0))}function J(){O||0===E.size||(O=setImmediate((()=>{O=void 0,function(){if(0===E.size)return;let e=E.shift();try{i.isRequestMessage(e)?function(e){if(B())return;function r(r,n,o){let s={jsonrpc:C,id:e.id};r instanceof i.ResponseError?s.error=r.toJson():s.result=void 0===r?null:r,K(s,n,o),t.write(s)}function n(r,n,o){let i={jsonrpc:C,id:e.id,error:r.toJson()};K(i,n,o),t.write(i)}function s(r,n,o){void 0===r&&(r=null);let i={jsonrpc:C,id:e.id,result:r};K(i,n,o),t.write(i)}!function(e){if(_===d.Off||!T)return;if(A===h.Text){let t=void 0;_===d.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),T.log(`Received request '${e.method} - (${e.id})'.`,t)}else X("receive-request",e)}(e);let a,c,l=x[e.method];l&&(a=l.type,c=l.handler);let p=Date.now();if(c||P){let t=new u.CancellationTokenSource,l=String(e.id);q[l]=t;try{let u;u=void 0===e.params||void 0!==a&&0===a.numberOfParams?c?c(t.token):P(e.method,t.token):o.array(e.params)&&(void 0===a||a.numberOfParams>1)?c?c(...e.params,t.token):P(e.method,...e.params,t.token):c?c(e.params,t.token):P(e.method,e.params,t.token);let f=u;u?f.then?f.then((t=>{delete q[l],r(t,e.method,p)}),(t=>{delete q[l],t instanceof i.ResponseError?n(t,e.method,p):t&&o.string(t.message)?n(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,p):n(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,p)})):(delete q[l],r(u,e.method,p)):(delete q[l],s(u,e.method,p))}catch(t){delete q[l],t instanceof i.ResponseError?r(t,e.method,p):t&&o.string(t.message)?n(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,p):n(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,p)}}else n(new i.ResponseError(i.ErrorCodes.MethodNotFound,"Unhandled method "+e.method),e.method,p)}(e):i.isNotificationMessage(e)?function(e){if(B())return;let t,n=void 0;if(e.method===p.type.method)t=e=>{let t=e.id,r=q[String(t)];r&&r.cancel()};else{let r=k[e.method];r&&(t=r.handler,n=r.type)}if(t||R)try{!function(e){if(_===d.Off||!T||e.method===g.type.method)return;if(A===h.Text){let t=void 0;_===d.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),T.log(`Received notification '${e.method}'.`,t)}else X("receive-notification",e)}(e),void 0===e.params||void 0!==n&&0===n.numberOfParams?t?t():R(e.method):o.array(e.params)&&(void 0===n||n.numberOfParams>1)?t?t(...e.params):R(e.method,...e.params):t?t(e.params):R(e.method,e.params)}catch(t){t.message?r.error(`Notification handler '${e.method}' failed with message: ${t.message}`):r.error(`Notification handler '${e.method}' failed unexpectedly.`)}else j.fire(e)}(e):i.isResponseMessage(e)?function(e){if(B())return;if(null===e.id)e.error?r.error("Received response message without id: Error is: \n"+JSON.stringify(e.error,void 0,4)):r.error("Received response message without id. No further error information provided.");else{let t=String(e.id),n=w[t];if(function(e,t){if(_===d.Off||!T)return;if(A===h.Text){let r=void 0;if(_===d.Verbose&&(e.error&&e.error.data?r=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?r=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),t){let n=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";T.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${n}`,r)}else T.log(`Received response ${e.id} without active response promise.`,r)}else X("receive-response",e)}(e,n),n){delete w[t];try{if(e.error){let t=e.error;n.reject(new i.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");n.resolve(e.result)}}catch(e){e.message?r.error(`Response handler '${n.method}' failed with message: ${e.message}`):r.error(`Response handler '${n.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void r.error("Received empty message.");r.error("Received message which is neither a response nor a notification message:\n"+JSON.stringify(e,null,4));let t=e;if(o.string(t.id)||o.number(t.id)){let e=String(t.id),r=w[e];r&&r.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{J()}}()})))}e.onClose(G),e.onError((function(e){I.fire([e,void 0,void 0])})),t.onClose(G),t.onError((function(e){I.fire(e)}));let z=e=>{try{if(i.isNotificationMessage(e)&&e.method===p.type.method){let r=L(e.params.id),o=E.get(r);if(i.isRequestMessage(o)){let i=n&&n.cancelUndispatched?n.cancelUndispatched(o,W):void 0;if(i&&(void 0!==i.error||void 0!==i.result))return E.delete(r),i.id=o.id,K(i,e.method,Date.now()),void t.write(i)}}F(E,e)}finally{J()}};function K(e,t,r){if(_!==d.Off&&T)if(A===h.Text){let n=void 0;_===d.Verbose&&(e.error&&e.error.data?n=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?n=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),T.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-r}ms`,n)}else X("send-response",e)}function X(e,t){if(!T||_===d.Off)return;const r={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};T.log(r)}function Q(){if(H())throw new b(y.Closed,"Connection is closed.");if(B())throw new b(y.Disposed,"Connection is disposed.")}function Y(e){return void 0===e?null:e}function Z(e,t){let r,n=e.numberOfParams;switch(n){case 0:r=null;break;case 1:r=Y(t[0]);break;default:r=[];for(let e=0;e<t.length&&e<n;e++)r.push(Y(t[e]));if(t.length<n)for(let e=t.length;e<n;e++)r.push(null)}return r}let ee={sendNotification:(e,...r)=>{let n,i;if(Q(),o.string(e))switch(n=e,r.length){case 0:i=null;break;case 1:i=r[0];break;default:i=r}else n=e.method,i=Z(e,r);let s={jsonrpc:C,method:n,params:i};!function(e){if(_!==d.Off&&T)if(A===h.Text){let t=void 0;_===d.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),T.log(`Sending notification '${e.method}'.`,t)}else X("send-notification",e)}(s),t.write(s)},onNotification:(e,t)=>{Q(),o.func(e)?R=e:t&&(o.string(e)?k[e]={type:void 0,handler:t}:k[e.method]={type:e,handler:t})},onProgress:(e,t,r)=>{if(N.has(t))throw new Error(`Progress handler for token ${t} already registered`);return N.set(t,r),{dispose:()=>{N.delete(t)}}},sendProgress:(e,t,r)=>{ee.sendNotification(f.type,{token:t,value:r})},onUnhandledProgress:M.event,sendRequest:(e,...r)=>{let n,a;Q(),function(){if(!U())throw new Error("Call listen() first.")}();let c=void 0;if(o.string(e))switch(n=e,r.length){case 0:a=null;break;case 1:u.CancellationToken.is(r[0])?(a=null,c=r[0]):a=Y(r[0]);break;default:const e=r.length-1;u.CancellationToken.is(r[e])?(c=r[e],a=2===r.length?Y(r[0]):r.slice(0,e).map((e=>Y(e)))):a=r.map((e=>Y(e)))}else{n=e.method,a=Z(e,r);let t=e.numberOfParams;c=u.CancellationToken.is(r[t])?r[t]:void 0}let l=s++,f=new Promise(((e,r)=>{let o={jsonrpc:C,id:l,method:n,params:a},s={method:n,timerStart:Date.now(),resolve:e,reject:r};!function(e){if(_!==d.Off&&T)if(A===h.Text){let t=void 0;_===d.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),T.log(`Sending request '${e.method} - (${e.id})'.`,t)}else X("send-request",e)}(o);try{t.write(o)}catch(e){s.reject(new i.ResponseError(i.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),s=null}s&&(w[String(l)]=s)}));return c&&c.onCancellationRequested((()=>{ee.sendNotification(p.type,{id:l})})),f},onRequest:(e,t)=>{Q(),o.func(e)?P=e:t&&(o.string(e)?x[e]={type:void 0,handler:t}:x[e.method]={type:e,handler:t})},trace:(e,t,r)=>{let n=!1,i=h.Text;void 0!==r&&(o.boolean(r)?n=r:(n=r.sendNotification||!1,i=r.traceFormat||h.Text)),_=e,A=i,T=_===d.Off?void 0:t,!n||H()||B()||ee.sendNotification(m.type,{value:d.toString(e)})},onError:I.event,onClose:$.event,onUnhandledNotification:j.event,onDispose:V.event,dispose:()=>{if(B())return;D=v.Disposed,V.fire(void 0);let r=new Error("Connection got disposed.");Object.keys(w).forEach((e=>{w[e].reject(r)})),w=Object.create(null),q=Object.create(null),E=new l.LinkedMap,o.func(t.dispose)&&t.dispose(),o.func(e.dispose)&&e.dispose()},listen:()=>{Q(),function(){if(U())throw new b(y.AlreadyListening,"Connection is already listening")}(),D=v.Listening,e.listen(z)},inspect:()=>{console.log("inspect")}};return ee.onNotification(g.type,(e=>{_!==d.Off&&T&&T.log(e.message,_===d.Verbose?e.verbose:void 0)})),ee.onNotification(f.type,(e=>{const t=N.get(e.token);t?t(e.value):M.fire(e)})),ee}t.ConnectionError=b,function(e){e.is=function(e){let t=e;return t&&o.func(t.cancelUndispatched)}}(t.ConnectionStrategy||(t.ConnectionStrategy={})),function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(v||(v={})),t.createMessageConnection=function(e,r,n,o){var i;return n||(n=t.NullLogger),S(void 0!==(i=e).listen&&void 0===i.read?e:new s.StreamMessageReader(e),function(e){return void 0!==e.write&&void 0===e.end}(r)?r:new a.StreamMessageWriter(r),n,o)}},273:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(61);var o;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.RequestCancelled=-32800,e.ContentModified=-32801,e.MessageWriteError=1,e.MessageReadError=2}(o=t.ErrorCodes||(t.ErrorCodes={}));class i extends Error{constructor(e,t,r){super(t),this.code=n.number(e)?e:o.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,i.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}t.ResponseError=i;class s{constructor(e,t){this._method=e,this._numberOfParams=t}get method(){return this._method}get numberOfParams(){return this._numberOfParams}}t.AbstractMessageType=s;t.RequestType0=class extends s{constructor(e){super(e,0)}};t.RequestType=class extends s{constructor(e){super(e,1)}};t.RequestType1=class extends s{constructor(e){super(e,1)}};t.RequestType2=class extends s{constructor(e){super(e,2)}};t.RequestType3=class extends s{constructor(e){super(e,3)}};t.RequestType4=class extends s{constructor(e){super(e,4)}};t.RequestType5=class extends s{constructor(e){super(e,5)}};t.RequestType6=class extends s{constructor(e){super(e,6)}};t.RequestType7=class extends s{constructor(e){super(e,7)}};t.RequestType8=class extends s{constructor(e){super(e,8)}};t.RequestType9=class extends s{constructor(e){super(e,9)}};t.NotificationType=class extends s{constructor(e){super(e,1),this._=void 0}};t.NotificationType0=class extends s{constructor(e){super(e,0)}};t.NotificationType1=class extends s{constructor(e){super(e,1)}};t.NotificationType2=class extends s{constructor(e){super(e,2)}};t.NotificationType3=class extends s{constructor(e){super(e,3)}};t.NotificationType4=class extends s{constructor(e){super(e,4)}};t.NotificationType5=class extends s{constructor(e){super(e,5)}};t.NotificationType6=class extends s{constructor(e){super(e,6)}};t.NotificationType7=class extends s{constructor(e){super(e,7)}};t.NotificationType8=class extends s{constructor(e){super(e,8)}};t.NotificationType9=class extends s{constructor(e){super(e,9)}},t.isRequestMessage=function(e){let t=e;return t&&n.string(t.method)&&(n.string(t.id)||n.number(t.id))},t.isNotificationMessage=function(e){let t=e;return t&&n.string(t.method)&&void 0===e.id},t.isResponseMessage=function(e){let t=e;return t&&(void 0!==t.result||!!t.error)&&(n.string(t.id)||n.number(t.id)||null===t.id)}},274:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(73),o=r(61);var i;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:n.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:n.Event.None}),e.is=function(t){let r=t;return r&&(r===e.None||r===e.Cancelled||o.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}}(i=t.CancellationToken||(t.CancellationToken={}));const s=Object.freeze((function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}));class a{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?s:(this._emitter||(this._emitter=new n.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new a),this._token}cancel(){this._token?this._token.cancel():this._token=i.Cancelled}dispose(){this._token?this._token instanceof a&&this._token.dispose():this._token=i.None}}},275:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.None=0,e.First=1,e.Last=2}(n=t.Touch||(t.Touch={}));t.LinkedMap=class{constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(e){return this._map.has(e)}get(e){const t=this._map.get(e);if(t)return t.value}set(e,t,r=n.None){let o=this._map.get(e);if(o)o.value=t,r!==n.None&&this.touch(o,r);else{switch(o={key:e,value:t,next:void 0,previous:void 0},r){case n.None:this.addItemLast(o);break;case n.First:this.addItemFirst(o);break;case n.Last:default:this.addItemLast(o)}this._map.set(e,o),this._size++}}delete(e){const t=this._map.get(e);return!!t&&(this._map.delete(e),this.removeItem(t),this._size--,!0)}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let r=this._head;for(;r;)t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),r=r.next}forEachReverse(e,t){let r=this._tail;for(;r;)t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),r=r.previous}values(){let e=[],t=this._head;for(;t;)e.push(t.value),t=t.next;return e}keys(){let e=[],t=this._head;for(;t;)e.push(t.key),t=t.next;return e}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head)this._head=e.next;else if(e===this._tail)this._tail=e.previous;else{const t=e.next,r=e.previous;if(!t||!r)throw new Error("Invalid list");t.previous=r,r.next=t}}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===n.First||t===n.Last)if(t===n.First){if(e===this._head)return;const t=e.next,r=e.previous;e===this._tail?(r.next=void 0,this._tail=r):(t.previous=r,r.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(t===n.Last){if(e===this._tail)return;const t=e.next,r=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=r,r.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}}}},276:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),o=r(16),i=r(13),s=r(60),a=r(90),c=r(91);t.generateRandomPipeName=function(){const e=i.randomBytes(21).toString("hex");return"win32"===process.platform?`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`:n.join(o.tmpdir(),`vscode-${e}.sock`)},t.createClientPipeTransport=function(e,t="utf-8"){let r,n=new Promise(((e,t)=>{r=e}));return new Promise(((o,i)=>{let u=s.createServer((e=>{u.close(),r([new a.SocketMessageReader(e,t),new c.SocketMessageWriter(e,t)])}));u.on("error",i),u.listen(e,(()=>{u.removeListener("error",i),o({onConnected:()=>n})}))}))},t.createServerPipeTransport=function(e,t="utf-8"){const r=s.createConnection(e);return[new a.SocketMessageReader(r,t),new c.SocketMessageWriter(r,t)]}},277:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(60),o=r(90),i=r(91);t.createClientSocketTransport=function(e,t="utf-8"){let r,s=new Promise(((e,t)=>{r=e}));return new Promise(((a,c)=>{let u=n.createServer((e=>{u.close(),r([new o.SocketMessageReader(e,t),new i.SocketMessageWriter(e,t)])}));u.on("error",c),u.listen(e,"127.0.0.1",(()=>{u.removeListener("error",c),a({onConnected:()=>s})}))}))},t.createServerSocketTransport=function(e,t="utf-8"){const r=n.createConnection(e,"127.0.0.1");return[new o.SocketMessageReader(r,t),new i.SocketMessageWriter(r,t)]}},278:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(279),o=r(26),i=r(24),s=r(280);t.ImplementationRequest=s.ImplementationRequest;const a=r(281);t.TypeDefinitionRequest=a.TypeDefinitionRequest;const c=r(282);t.WorkspaceFoldersRequest=c.WorkspaceFoldersRequest,t.DidChangeWorkspaceFoldersNotification=c.DidChangeWorkspaceFoldersNotification;const u=r(283);t.ConfigurationRequest=u.ConfigurationRequest;const l=r(284);t.DocumentColorRequest=l.DocumentColorRequest,t.ColorPresentationRequest=l.ColorPresentationRequest;const p=r(285);t.FoldingRangeRequest=p.FoldingRangeRequest;const f=r(286);t.DeclarationRequest=f.DeclarationRequest;const d=r(287);t.SelectionRangeRequest=d.SelectionRangeRequest;const h=r(288);var m,g;t.WorkDoneProgress=h.WorkDoneProgress,t.WorkDoneProgressCreateRequest=h.WorkDoneProgressCreateRequest,t.WorkDoneProgressCancelNotification=h.WorkDoneProgressCancelNotification,function(e){e.is=function(e){const t=e;return n.string(t.language)||n.string(t.scheme)||n.string(t.pattern)}}(m=t.DocumentFilter||(t.DocumentFilter={})),function(e){e.is=function(e){if(!Array.isArray(e))return!1;for(let t of e)if(!n.string(t)&&!m.is(t))return!1;return!0}}(g=t.DocumentSelector||(t.DocumentSelector={})),function(e){e.type=new i.ProtocolRequestType("client/registerCapability")}(t.RegistrationRequest||(t.RegistrationRequest={})),function(e){e.type=new i.ProtocolRequestType("client/unregisterCapability")}(t.UnregistrationRequest||(t.UnregistrationRequest={})),function(e){e.Create="create",e.Rename="rename",e.Delete="delete"}(t.ResourceOperationKind||(t.ResourceOperationKind={})),function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"}(t.FailureHandlingKind||(t.FailureHandlingKind={})),function(e){e.hasId=function(e){const t=e;return t&&n.string(t.id)&&t.id.length>0}}(t.StaticRegistrationOptions||(t.StaticRegistrationOptions={})),function(e){e.is=function(e){const t=e;return t&&(null===t.documentSelector||g.is(t.documentSelector))}}(t.TextDocumentRegistrationOptions||(t.TextDocumentRegistrationOptions={})),function(e){e.is=function(e){const t=e;return n.objectLiteral(t)&&(void 0===t.workDoneProgress||n.boolean(t.workDoneProgress))},e.hasWorkDoneProgress=function(e){const t=e;return t&&n.boolean(t.workDoneProgress)}}(t.WorkDoneProgressOptions||(t.WorkDoneProgressOptions={})),function(e){e.type=new i.ProtocolRequestType("initialize")}(t.InitializeRequest||(t.InitializeRequest={})),function(e){e.unknownProtocolVersion=1}(t.InitializeError||(t.InitializeError={})),function(e){e.type=new i.ProtocolNotificationType("initialized")}(t.InitializedNotification||(t.InitializedNotification={})),function(e){e.type=new i.ProtocolRequestType0("shutdown")}(t.ShutdownRequest||(t.ShutdownRequest={})),function(e){e.type=new i.ProtocolNotificationType0("exit")}(t.ExitNotification||(t.ExitNotification={})),function(e){e.type=new i.ProtocolNotificationType("workspace/didChangeConfiguration")}(t.DidChangeConfigurationNotification||(t.DidChangeConfigurationNotification={})),function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4}(t.MessageType||(t.MessageType={})),function(e){e.type=new i.ProtocolNotificationType("window/showMessage")}(t.ShowMessageNotification||(t.ShowMessageNotification={})),function(e){e.type=new i.ProtocolRequestType("window/showMessageRequest")}(t.ShowMessageRequest||(t.ShowMessageRequest={})),function(e){e.type=new i.ProtocolNotificationType("window/logMessage")}(t.LogMessageNotification||(t.LogMessageNotification={})),function(e){e.type=new i.ProtocolNotificationType("telemetry/event")}(t.TelemetryEventNotification||(t.TelemetryEventNotification={})),function(e){e.None=0,e.Full=1,e.Incremental=2}(t.TextDocumentSyncKind||(t.TextDocumentSyncKind={})),function(e){e.method="textDocument/didOpen",e.type=new i.ProtocolNotificationType(e.method)}(t.DidOpenTextDocumentNotification||(t.DidOpenTextDocumentNotification={})),function(e){e.method="textDocument/didChange",e.type=new i.ProtocolNotificationType(e.method)}(t.DidChangeTextDocumentNotification||(t.DidChangeTextDocumentNotification={})),function(e){e.method="textDocument/didClose",e.type=new i.ProtocolNotificationType(e.method)}(t.DidCloseTextDocumentNotification||(t.DidCloseTextDocumentNotification={})),function(e){e.method="textDocument/didSave",e.type=new i.ProtocolNotificationType(e.method)}(t.DidSaveTextDocumentNotification||(t.DidSaveTextDocumentNotification={})),function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3}(t.TextDocumentSaveReason||(t.TextDocumentSaveReason={})),function(e){e.method="textDocument/willSave",e.type=new i.ProtocolNotificationType(e.method)}(t.WillSaveTextDocumentNotification||(t.WillSaveTextDocumentNotification={})),function(e){e.method="textDocument/willSaveWaitUntil",e.type=new i.ProtocolRequestType(e.method)}(t.WillSaveTextDocumentWaitUntilRequest||(t.WillSaveTextDocumentWaitUntilRequest={})),function(e){e.type=new i.ProtocolNotificationType("workspace/didChangeWatchedFiles")}(t.DidChangeWatchedFilesNotification||(t.DidChangeWatchedFilesNotification={})),function(e){e.Created=1,e.Changed=2,e.Deleted=3}(t.FileChangeType||(t.FileChangeType={})),function(e){e.Create=1,e.Change=2,e.Delete=4}(t.WatchKind||(t.WatchKind={})),function(e){e.type=new i.ProtocolNotificationType("textDocument/publishDiagnostics")}(t.PublishDiagnosticsNotification||(t.PublishDiagnosticsNotification={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3}(t.CompletionTriggerKind||(t.CompletionTriggerKind={})),function(e){e.method="textDocument/completion",e.type=new i.ProtocolRequestType(e.method),e.resultType=new o.ProgressType}(t.CompletionRequest||(t.CompletionRequest={})),function(e){e.method="completionItem/resolve",e.type=new i.ProtocolRequestType(e.method)}(t.CompletionResolveRequest||(t.CompletionResolveRequest={})),function(e){e.method="textDocument/hover",e.type=new i.ProtocolRequestType(e.method)}(t.HoverRequest||(t.HoverRequest={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3}(t.SignatureHelpTriggerKind||(t.SignatureHelpTriggerKind={})),function(e){e.method="textDocument/signatureHelp",e.type=new i.ProtocolRequestType(e.method)}(t.SignatureHelpRequest||(t.SignatureHelpRequest={})),function(e){e.method="textDocument/definition",e.type=new i.ProtocolRequestType(e.method),e.resultType=new o.ProgressType}(t.DefinitionRequest||(t.DefinitionRequest={})),function(e){e.method="textDocument/references",e.type=new i.ProtocolRequestType(e.method),e.resultType=new o.ProgressType}(t.ReferencesRequest||(t.ReferencesRequest={})),function(e){e.method="textDocument/documentHighlight",e.type=new i.ProtocolRequestType(e.method),e.resultType=new o.ProgressType}(t.DocumentHighlightRequest||(t.DocumentHighlightRequest={})),function(e){e.method="textDocument/documentSymbol",e.type=new i.ProtocolRequestType(e.method),e.resultType=new o.ProgressType}(t.DocumentSymbolRequest||(t.DocumentSymbolRequest={})),function(e){e.method="textDocument/codeAction",e.type=new i.ProtocolRequestType(e.method),e.resultType=new o.ProgressType}(t.CodeActionRequest||(t.CodeActionRequest={})),function(e){e.method="workspace/symbol",e.type=new i.ProtocolRequestType(e.method),e.resultType=new o.ProgressType}(t.WorkspaceSymbolRequest||(t.WorkspaceSymbolRequest={})),function(e){e.type=new i.ProtocolRequestType("textDocument/codeLens"),e.resultType=new o.ProgressType}(t.CodeLensRequest||(t.CodeLensRequest={})),function(e){e.type=new i.ProtocolRequestType("codeLens/resolve")}(t.CodeLensResolveRequest||(t.CodeLensResolveRequest={})),function(e){e.method="textDocument/documentLink",e.type=new i.ProtocolRequestType(e.method),e.resultType=new o.ProgressType}(t.DocumentLinkRequest||(t.DocumentLinkRequest={})),function(e){e.type=new i.ProtocolRequestType("documentLink/resolve")}(t.DocumentLinkResolveRequest||(t.DocumentLinkResolveRequest={})),function(e){e.method="textDocument/formatting",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentFormattingRequest||(t.DocumentFormattingRequest={})),function(e){e.method="textDocument/rangeFormatting",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentRangeFormattingRequest||(t.DocumentRangeFormattingRequest={})),function(e){e.method="textDocument/onTypeFormatting",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentOnTypeFormattingRequest||(t.DocumentOnTypeFormattingRequest={})),function(e){e.method="textDocument/rename",e.type=new i.ProtocolRequestType(e.method)}(t.RenameRequest||(t.RenameRequest={})),function(e){e.method="textDocument/prepareRename",e.type=new i.ProtocolRequestType(e.method)}(t.PrepareRenameRequest||(t.PrepareRenameRequest={})),function(e){e.type=new i.ProtocolRequestType("workspace/executeCommand")}(t.ExecuteCommandRequest||(t.ExecuteCommandRequest={})),function(e){e.type=new i.ProtocolRequestType("workspace/applyEdit")}(t.ApplyWorkspaceEditRequest||(t.ApplyWorkspaceEditRequest={}))},279:function(e,t,r){"use strict";function n(e){return"string"==typeof e||e instanceof String}function o(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=o,t.stringArray=function(e){return o(e)&&e.every((e=>n(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.objectLiteral=function(e){return null!==e&&"object"==typeof e}},280:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(26),o=r(24);!function(e){e.method="textDocument/implementation",e.type=new o.ProtocolRequestType(e.method),e.resultType=new n.ProgressType}(t.ImplementationRequest||(t.ImplementationRequest={}))},281:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(26),o=r(24);!function(e){e.method="textDocument/typeDefinition",e.type=new o.ProtocolRequestType(e.method),e.resultType=new n.ProgressType}(t.TypeDefinitionRequest||(t.TypeDefinitionRequest={}))},282:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(24);!function(e){e.type=new n.ProtocolRequestType0("workspace/workspaceFolders")}(t.WorkspaceFoldersRequest||(t.WorkspaceFoldersRequest={})),function(e){e.type=new n.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")}(t.DidChangeWorkspaceFoldersNotification||(t.DidChangeWorkspaceFoldersNotification={}))},283:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(24);!function(e){e.type=new n.ProtocolRequestType("workspace/configuration")}(t.ConfigurationRequest||(t.ConfigurationRequest={}))},284:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(26),o=r(24);!function(e){e.method="textDocument/documentColor",e.type=new o.ProtocolRequestType(e.method),e.resultType=new n.ProgressType}(t.DocumentColorRequest||(t.DocumentColorRequest={})),function(e){e.type=new o.ProtocolRequestType("textDocument/colorPresentation")}(t.ColorPresentationRequest||(t.ColorPresentationRequest={}))},285:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(26),o=r(24);!function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(t.FoldingRangeKind||(t.FoldingRangeKind={})),function(e){e.method="textDocument/foldingRange",e.type=new o.ProtocolRequestType(e.method),e.resultType=new n.ProgressType}(t.FoldingRangeRequest||(t.FoldingRangeRequest={}))},286:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(26),o=r(24);!function(e){e.method="textDocument/declaration",e.type=new o.ProtocolRequestType(e.method),e.resultType=new n.ProgressType}(t.DeclarationRequest||(t.DeclarationRequest={}))},287:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(26),o=r(24);!function(e){e.method="textDocument/selectionRange",e.type=new o.ProtocolRequestType(e.method),e.resultType=new n.ProgressType}(t.SelectionRangeRequest||(t.SelectionRangeRequest={}))},288:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(26),o=r(24);!function(e){e.type=new n.ProgressType}(t.WorkDoneProgress||(t.WorkDoneProgress={})),function(e){e.type=new o.ProtocolRequestType("window/workDoneProgress/create")}(t.WorkDoneProgressCreateRequest||(t.WorkDoneProgressCreateRequest={})),function(e){e.type=new o.ProtocolNotificationType("window/workDoneProgress/cancel")}(t.WorkDoneProgressCancelNotification||(t.WorkDoneProgressCancelNotification={}))},289:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(24);!function(e){e.method="textDocument/prepareCallHierarchy",e.type=new n.ProtocolRequestType(e.method)}(t.CallHierarchyPrepareRequest||(t.CallHierarchyPrepareRequest={})),function(e){e.method="callHierarchy/incomingCalls",e.type=new n.ProtocolRequestType(e.method)}(t.CallHierarchyIncomingCallsRequest||(t.CallHierarchyIncomingCallsRequest={})),function(e){e.method="callHierarchy/outgoingCalls",e.type=new n.ProtocolRequestType(e.method)}(t.CallHierarchyOutgoingCallsRequest||(t.CallHierarchyOutgoingCallsRequest={}))},290:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(24);!function(e){e.comment="comment",e.keyword="keyword",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.namespace="namespace",e.type="type",e.struct="struct",e.class="class",e.interface="interface",e.enum="enum",e.typeParameter="typeParameter",e.function="function",e.member="member",e.property="property",e.macro="macro",e.variable="variable",e.parameter="parameter",e.label="label"}(t.SemanticTokenTypes||(t.SemanticTokenTypes={})),function(e){e.documentation="documentation",e.declaration="declaration",e.definition="definition",e.reference="reference",e.static="static",e.abstract="abstract",e.deprecated="deprecated",e.async="async",e.volatile="volatile",e.readonly="readonly"}(t.SemanticTokenModifiers||(t.SemanticTokenModifiers={})),function(e){e.is=function(e){const t=e;return void 0!==t&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])}}(t.SemanticTokens||(t.SemanticTokens={})),function(e){e.method="textDocument/semanticTokens",e.type=new n.ProtocolRequestType(e.method)}(t.SemanticTokensRequest||(t.SemanticTokensRequest={})),function(e){e.method="textDocument/semanticTokens/edits",e.type=new n.ProtocolRequestType(e.method)}(t.SemanticTokensEditsRequest||(t.SemanticTokensEditsRequest={})),function(e){e.method="textDocument/semanticTokens/range",e.type=new n.ProtocolRequestType(e.method)}(t.SemanticTokensRangeRequest||(t.SemanticTokensRangeRequest={}))},43:function(e,t,r){"use strict";function n(e){return"property"===e.type}function o(e){return"object"===e.type}function i(e,t){return t>=e.offset&&t<=e.offset+e.length}Object.defineProperty(t,"__esModule",{value:!0}),t.isStringNode=function(e){return"string"===e.type},t.isPropertyNode=n,t.isObjectNode=o,t.isArrayNode=function(e){return"array"===e.type},t.findPropChildByName=function(e,t){return e.properties.find((e=>e.keyNode.value===t))},t.isChildOfStates=function(e){return!!e.parent&&n(e.parent)&&"States"===e.parent.keyNode.value},t.insideStateNode=function(e){var t,r,o;const i=null===(r=null===(t=e.parent)||void 0===t?void 0:t.parent)||void 0===r?void 0:r.parent;return!!i&&n(i)&&"States"===(null===(o=i.keyNode)||void 0===o?void 0:o.value)},t.findNodeAtLocation=function e(t,r){if(i(t,r)){const{children:n}=t;if(null==n?void 0:n.length){const t=n.find((e=>i(e,r)));if(t)return e(t,r)}return t}},t.findClosestAncestorStateNode=function e(t){return n(t)&&"States"===t.keyNode.value?t:t.parent?e(t.parent):void 0},t.getListOfStateNamesFromStateNode=function(e,t=!1){var r;if("States"===e.keyNode.value){const i=e.children.find(o);return null!==(r=null==i?void 0:i.children.filter((e=>n(e)&&e.colonOffset&&(t||!t&&e.colonOffset>=0))).map((e=>e.keyNode.value)))&&void 0!==r?r:[]}throw new Error("Not a state name property node")}},53:function(e,t,r){"use strict";r.r(t),r.d(t,"TextDocument",(function(){return c})),r.d(t,"Range",(function(){return p.Range})),r.d(t,"TextEdit",(function(){return p.TextEdit})),r.d(t,"Color",(function(){return p.Color})),r.d(t,"ColorInformation",(function(){return p.ColorInformation})),r.d(t,"ColorPresentation",(function(){return p.ColorPresentation})),r.d(t,"FoldingRange",(function(){return p.FoldingRange})),r.d(t,"FoldingRangeKind",(function(){return p.FoldingRangeKind})),r.d(t,"SelectionRange",(function(){return p.SelectionRange})),r.d(t,"Diagnostic",(function(){return p.Diagnostic})),r.d(t,"DiagnosticSeverity",(function(){return p.DiagnosticSeverity})),r.d(t,"CompletionItem",(function(){return p.CompletionItem})),r.d(t,"CompletionItemKind",(function(){return p.CompletionItemKind})),r.d(t,"CompletionList",(function(){return p.CompletionList})),r.d(t,"Position",(function(){return p.Position})),r.d(t,"InsertTextFormat",(function(){return p.InsertTextFormat})),r.d(t,"MarkupContent",(function(){return p.MarkupContent})),r.d(t,"MarkupKind",(function(){return p.MarkupKind})),r.d(t,"SymbolInformation",(function(){return p.SymbolInformation})),r.d(t,"SymbolKind",(function(){return p.SymbolKind})),r.d(t,"DocumentSymbol",(function(){return p.DocumentSymbol})),r.d(t,"Location",(function(){return p.Location})),r.d(t,"Hover",(function(){return p.Hover})),r.d(t,"MarkedString",(function(){return p.MarkedString})),r.d(t,"FormattingOptions",(function(){return p.FormattingOptions})),r.d(t,"ErrorCode",(function(){return u})),r.d(t,"ClientCapabilities",(function(){return l})),r.d(t,"getLanguageService",(function(){return Fe}));var n=r(12);function o(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;if(Array.isArray(e)!==Array.isArray(t))return!1;var r,n;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(!o(e[r],t[r]))return!1}else{var i=[];for(n in e)i.push(n);i.sort();var s=[];for(n in t)s.push(n);if(s.sort(),!o(i,s))return!1;for(r=0;r<i.length;r++)if(!o(e[i[r]],t[i[r]]))return!1}return!0}function i(e){return"number"==typeof e}function s(e){return void 0!==e}function a(e){return"boolean"==typeof e}var c,u,l,p=r(8),f=function(){function e(e,t,r,n){this._uri=e,this._languageId=t,this._version=r,this._content=n,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(t,r)}return this._content},e.prototype.update=function(t,r){for(var n=0,o=t;n<o.length;n++){var i=o[n];if(e.isIncremental(i)){var s=m(i.range),a=this.offsetAt(s.start),c=this.offsetAt(s.end);this._content=this._content.substring(0,a)+i.text+this._content.substring(c,this._content.length);var u=Math.max(s.start.line,0),l=Math.max(s.end.line,0),p=this._lineOffsets,f=h(i.text,!1,a);if(l-u===f.length)for(var d=0,g=f.length;d<g;d++)p[d+u+1]=f[d];else f.length<1e4?p.splice.apply(p,[u+1,l-u].concat(f)):this._lineOffsets=p=p.slice(0,u+1).concat(f,p.slice(l+1));var y=i.text.length-(c-a);if(0!==y)for(d=u+1+f.length,g=p.length;d<g;d++)p[d]=p[d]+y}else{if(!e.isFull(i))throw new Error("Unknown change event received");this._content=i.text,this._lineOffsets=void 0}}this._version=r},e.prototype.getLineOffsets=function(){return void 0===this._lineOffsets&&(this._lineOffsets=h(this._content,!0)),this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),r=0,n=t.length;if(0===n)return{line:0,character:e};for(;r<n;){var o=Math.floor((r+n)/2);t[o]>e?n=o:r=o+1}var i=r-1;return{line:i,character:e-t[i]}},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var r=t[e.line],n=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,n),r)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),e.isIncremental=function(e){var t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)},e.isFull=function(e){var t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength},e}();function d(e,t){if(e.length<=1)return e;var r=e.length/2|0,n=e.slice(0,r),o=e.slice(r);d(n,t),d(o,t);for(var i=0,s=0,a=0;i<n.length&&s<o.length;){var c=t(n[i],o[s]);e[a++]=c<=0?n[i++]:o[s++]}for(;i<n.length;)e[a++]=n[i++];for(;s<o.length;)e[a++]=o[s++];return e}function h(e,t,r){void 0===r&&(r=0);for(var n=t?[r]:[],o=0;o<e.length;o++){var i=e.charCodeAt(o);13!==i&&10!==i||(13===i&&o+1<e.length&&10===e.charCodeAt(o+1)&&o++,n.push(r+o+1))}return n}function m(e){var t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}function g(e){var t=m(e.range);return t!==e.range?{newText:e.newText,range:t}:e}!function(e){e.create=function(e,t,r,n){return new f(e,t,r,n)},e.update=function(e,t,r){if(e instanceof f)return e.update(t,r),e;throw new Error("TextDocument.update: document must be created by TextDocument.create")},e.applyEdits=function(e,t){for(var r=e.getText(),n=0,o=[],i=0,s=d(t.map(g),(function(e,t){var r=e.range.start.line-t.range.start.line;return 0===r?e.range.start.character-t.range.start.character:r}));i<s.length;i++){var a=s[i],c=e.offsetAt(a.range.start);if(c<n)throw new Error("Overlapping edit");c>n&&o.push(r.substring(n,c)),a.newText.length&&o.push(a.newText),n=e.offsetAt(a.range.end)}return o.push(r.substr(n)),o.join("")}}(c||(c={})),function(e){e[e.Undefined=0]="Undefined",e[e.EnumValueMismatch=1]="EnumValueMismatch",e[e.UnexpectedEndOfComment=257]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=258]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=259]="UnexpectedEndOfNumber",e[e.InvalidUnicode=260]="InvalidUnicode",e[e.InvalidEscapeCharacter=261]="InvalidEscapeCharacter",e[e.InvalidCharacter=262]="InvalidCharacter",e[e.PropertyExpected=513]="PropertyExpected",e[e.CommaExpected=514]="CommaExpected",e[e.ColonExpected=515]="ColonExpected",e[e.ValueExpected=516]="ValueExpected",e[e.CommaOrCloseBacketExpected=517]="CommaOrCloseBacketExpected",e[e.CommaOrCloseBraceExpected=518]="CommaOrCloseBraceExpected",e[e.TrailingComma=519]="TrailingComma",e[e.DuplicateKey=520]="DuplicateKey",e[e.CommentNotPermitted=521]="CommentNotPermitted",e[e.SchemaResolveError=768]="SchemaResolveError"}(u||(u={})),(l||(l={})).LATEST={textDocument:{completion:{completionItem:{documentationFormat:[p.MarkupKind.Markdown,p.MarkupKind.PlainText],commitCharactersSupport:!0}}}};var y,v,b=r(6),S=(y=function(e,t){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}y(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),C=b.loadMessageBundle(),O={"color-hex":{errorMessage:C("colorHexFormatWarning","Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA."),pattern:/^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/},"date-time":{errorMessage:C("dateTimeFormatWarning","String is not a RFC3339 date-time."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},date:{errorMessage:C("dateFormatWarning","String is not a RFC3339 date."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/i},time:{errorMessage:C("timeFormatWarning","String is not a RFC3339 time."),pattern:/^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},email:{errorMessage:C("emailFormatWarning","String is not an e-mail address."),pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}},T=function(){function e(e,t,r){this.offset=t,this.length=r,this.parent=e}return Object.defineProperty(e.prototype,"children",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return"type: "+this.type+" ("+this.offset+"/"+this.length+")"+(this.parent?" parent: {"+this.parent.toString()+"}":"")},e}(),P=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.type="null",n.value=null,n}return S(t,e),t}(T),x=function(e){function t(t,r,n){var o=e.call(this,t,n)||this;return o.type="boolean",o.value=r,o}return S(t,e),t}(T),R=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.type="array",n.items=[],n}return S(t,e),Object.defineProperty(t.prototype,"children",{get:function(){return this.items},enumerable:!0,configurable:!0}),t}(T),k=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.type="number",n.isInteger=!0,n.value=Number.NaN,n}return S(t,e),t}(T),N=function(e){function t(t,r,n){var o=e.call(this,t,r,n)||this;return o.type="string",o.value="",o}return S(t,e),t}(T),E=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.type="property",n.colonOffset=-1,n}return S(t,e),Object.defineProperty(t.prototype,"children",{get:function(){return this.valueNode?[this.keyNode,this.valueNode]:[this.keyNode]},enumerable:!0,configurable:!0}),t}(T),w=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.type="object",n.properties=[],n}return S(t,e),Object.defineProperty(t.prototype,"children",{get:function(){return this.properties},enumerable:!0,configurable:!0}),t}(T);function q(e){return a(e)?e?{}:{not:{}}:e}!function(e){e[e.Key=0]="Key",e[e.Enum=1]="Enum"}(v||(v={}));var _=function(){function e(e,t){void 0===e&&(e=-1),void 0===t&&(t=null),this.focusOffset=e,this.exclude=t,this.schemas=[]}return e.prototype.add=function(e){this.schemas.push(e)},e.prototype.merge=function(e){var t;(t=this.schemas).push.apply(t,e.schemas)},e.prototype.include=function(e){return(-1===this.focusOffset||j(e,this.focusOffset))&&e!==this.exclude},e.prototype.newSub=function(){return new e(-1,this.exclude)},e}(),A=function(){function e(){}return Object.defineProperty(e.prototype,"schemas",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.add=function(e){},e.prototype.merge=function(e){},e.prototype.include=function(e){return!0},e.prototype.newSub=function(){return this},e.instance=new e,e}(),D=function(){function e(){this.problems=[],this.propertiesMatches=0,this.propertiesValueMatches=0,this.primaryValueMatches=0,this.enumValueMatch=!1,this.enumValues=null}return e.prototype.hasProblems=function(){return!!this.problems.length},e.prototype.mergeAll=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];this.merge(n)}},e.prototype.merge=function(e){this.problems=this.problems.concat(e.problems)},e.prototype.mergeEnumValues=function(e){if(!this.enumValueMatch&&!e.enumValueMatch&&this.enumValues&&e.enumValues){this.enumValues=this.enumValues.concat(e.enumValues);for(var t=0,r=this.problems;t<r.length;t++){var n=r[t];n.code===u.EnumValueMismatch&&(n.message=C("enumWarning","Value is not accepted. Valid values: {0}.",this.enumValues.map((function(e){return JSON.stringify(e)})).join(", ")))}}},e.prototype.mergePropertyMatch=function(e){this.merge(e),this.propertiesMatches++,(e.enumValueMatch||!e.hasProblems()&&e.propertiesMatches)&&this.propertiesValueMatches++,e.enumValueMatch&&e.enumValues&&1===e.enumValues.length&&this.primaryValueMatches++},e.prototype.compare=function(e){var t=this.hasProblems();return t!==e.hasProblems()?t?-1:1:this.enumValueMatch!==e.enumValueMatch?e.enumValueMatch?-1:1:this.primaryValueMatches!==e.primaryValueMatches?this.primaryValueMatches-e.primaryValueMatches:this.propertiesValueMatches!==e.propertiesValueMatches?this.propertiesValueMatches-e.propertiesValueMatches:this.propertiesMatches-e.propertiesMatches},e}();function I(e){return n.getNodeValue(e)}function $(e){return n.getNodePath(e)}function j(e,t,r){return void 0===r&&(r=!1),t>=e.offset&&t<e.offset+e.length||r&&t===e.offset+e.length}var M=function(){function e(e,t,r){void 0===t&&(t=[]),void 0===r&&(r=[]),this.root=e,this.syntaxErrors=t,this.comments=r}return e.prototype.getNodeFromOffset=function(e,t){if(void 0===t&&(t=!1),this.root)return n.findNodeAtOffset(this.root,e,t)},e.prototype.visit=function(e){if(this.root){var t=function(r){var n=e(r),o=r.children;if(Array.isArray(o))for(var i=0;i<o.length&&n;i++)n=t(o[i]);return n};t(this.root)}},e.prototype.validate=function(e,t){if(this.root&&t){var r=new D;return V(this.root,t,r,A.instance),r.problems.map((function(t){var r=p.Range.create(e.positionAt(t.location.offset),e.positionAt(t.location.offset+t.location.length));return p.Diagnostic.create(r,t.message,t.severity,t.code)}))}return null},e.prototype.getMatchingSchemas=function(e,t,r){void 0===t&&(t=-1),void 0===r&&(r=null);var n=new _(t,r);return this.root&&e&&V(this.root,e,new D,n),n.schemas},e}();function V(e,t,r,n){if(e&&n.include(e)){switch(e.type){case"object":!function(e,t,r,n){for(var o=Object.create(null),s=[],c=0,u=e.properties;c<u.length;c++){o[J=(b=u[c]).keyNode.value]=b.valueNode,s.push(J)}if(Array.isArray(t.required))for(var l=0,f=t.required;l<f.length;l++){if(!o[k=f[l]]){var d=e.parent&&"property"===e.parent.type&&e.parent.keyNode,h=d?{offset:d.offset,length:d.length}:{offset:e.offset,length:1};r.problems.push({location:h,severity:p.DiagnosticSeverity.Warning,message:C("MissingRequiredPropWarning",'Missing property "{0}".',k)})}}var m=function(e){for(var t=s.indexOf(e);t>=0;)s.splice(t,1),t=s.indexOf(e)};if(t.properties)for(var g=0,y=Object.keys(t.properties);g<y.length;g++){m(k=y[g]);var v=t.properties[k];if($=o[k])if(a(v))if(v)r.propertiesMatches++,r.propertiesValueMatches++;else{var b=$.parent;r.problems.push({location:{offset:b.keyNode.offset,length:b.keyNode.length},severity:p.DiagnosticSeverity.Warning,message:t.errorMessage||C("DisallowedExtraPropWarning","Property {0} is not allowed.",k)})}else V($,v,w=new D,n),r.mergePropertyMatch(w)}if(t.patternProperties)for(var S=0,O=Object.keys(t.patternProperties);S<O.length;S++)for(var T=O[S],P=new RegExp(T),x=0,R=s.slice(0);x<R.length;x++){var k=R[x];if(P.test(k))if(m(k),$=o[k])if(a(v=t.patternProperties[T]))if(v)r.propertiesMatches++,r.propertiesValueMatches++;else{b=$.parent;r.problems.push({location:{offset:b.keyNode.offset,length:b.keyNode.length},severity:p.DiagnosticSeverity.Warning,message:t.errorMessage||C("DisallowedExtraPropWarning","Property {0} is not allowed.",k)})}else V($,v,w=new D,n),r.mergePropertyMatch(w)}if("object"==typeof t.additionalProperties)for(var N=0,E=s;N<E.length;N++){if($=o[k=E[N]]){var w=new D;V($,t.additionalProperties,w,n),r.mergePropertyMatch(w)}}else if(!1===t.additionalProperties&&s.length>0)for(var _=0,I=s;_<I.length;_++){var $;if($=o[k=I[_]]){b=$.parent;r.problems.push({location:{offset:b.keyNode.offset,length:b.keyNode.length},severity:p.DiagnosticSeverity.Warning,message:t.errorMessage||C("DisallowedExtraPropWarning","Property {0} is not allowed.",k)})}}i(t.maxProperties)&&e.properties.length>t.maxProperties&&r.problems.push({location:{offset:e.offset,length:e.length},severity:p.DiagnosticSeverity.Warning,message:C("MaxPropWarning","Object has more properties than limit of {0}.",t.maxProperties)});i(t.minProperties)&&e.properties.length<t.minProperties&&r.problems.push({location:{offset:e.offset,length:e.length},severity:p.DiagnosticSeverity.Warning,message:C("MinPropWarning","Object has fewer properties than the required number of {0}",t.minProperties)});if(t.dependencies)for(var j=0,M=Object.keys(t.dependencies);j<M.length;j++){if(o[J=M[j]]){var L=t.dependencies[J];if(Array.isArray(L))for(var F=0,W=L;F<W.length;F++){var U=W[F];o[U]?r.propertiesValueMatches++:r.problems.push({location:{offset:e.offset,length:e.length},severity:p.DiagnosticSeverity.Warning,message:C("RequiredDependentPropWarning","Object is missing property {0} required by property {1}.",U,J)})}else if(v=q(L))V(e,v,w=new D,n),r.mergePropertyMatch(w)}}var H=q(t.propertyNames);if(H)for(var B=0,G=e.properties;B<G.length;B++){var J;(J=G[B].keyNode)&&V(J,H,r,A.instance)}}(e,t,r,n);break;case"array":!function(e,t,r,n){if(Array.isArray(t.items)){for(var o=t.items,s=0;s<o.length;s++){var a=q(o[s]),c=new D;(h=e.items[s])?(V(h,a,c,n),r.mergePropertyMatch(c)):e.items.length>=o.length&&r.propertiesValueMatches++}if(e.items.length>o.length)if("object"==typeof t.additionalItems)for(var u=o.length;u<e.items.length;u++){c=new D;V(e.items[u],t.additionalItems,c,n),r.mergePropertyMatch(c)}else!1===t.additionalItems&&r.problems.push({location:{offset:e.offset,length:e.length},severity:p.DiagnosticSeverity.Warning,message:C("additionalItemsWarning","Array has too many items according to schema. Expected {0} or fewer.",o.length)})}else{var l=q(t.items);if(l)for(var f=0,d=e.items;f<d.length;f++){var h;V(h=d[f],l,c=new D,n),r.mergePropertyMatch(c)}}var m=q(t.contains);if(m){e.items.some((function(e){var t=new D;return V(e,m,t,A.instance),!t.hasProblems()}))||r.problems.push({location:{offset:e.offset,length:e.length},severity:p.DiagnosticSeverity.Warning,message:t.errorMessage||C("requiredItemMissingWarning","Array does not contain required item.")})}i(t.minItems)&&e.items.length<t.minItems&&r.problems.push({location:{offset:e.offset,length:e.length},severity:p.DiagnosticSeverity.Warning,message:C("minItemsWarning","Array has too few items. Expected {0} or more.",t.minItems)});i(t.maxItems)&&e.items.length>t.maxItems&&r.problems.push({location:{offset:e.offset,length:e.length},severity:p.DiagnosticSeverity.Warning,message:C("maxItemsWarning","Array has too many items. Expected {0} or fewer.",t.maxItems)});if(!0===t.uniqueItems){var g=I(e);g.some((function(e,t){return t!==g.lastIndexOf(e)}))&&r.problems.push({location:{offset:e.offset,length:e.length},severity:p.DiagnosticSeverity.Warning,message:C("uniqueItemsWarning","Array has duplicate items.")})}}(e,t,r,n);break;case"string":!function(e,t,r,n){i(t.minLength)&&e.value.length<t.minLength&&r.problems.push({location:{offset:e.offset,length:e.length},severity:p.DiagnosticSeverity.Warning,message:C("minLengthWarning","String is shorter than the minimum length of {0}.",t.minLength)});i(t.maxLength)&&e.value.length>t.maxLength&&r.problems.push({location:{offset:e.offset,length:e.length},severity:p.DiagnosticSeverity.Warning,message:C("maxLengthWarning","String is longer than the maximum length of {0}.",t.maxLength)});if(o=t.pattern,"string"==typeof o){new RegExp(t.pattern).test(e.value)||r.problems.push({location:{offset:e.offset,length:e.length},severity:p.DiagnosticSeverity.Warning,message:t.patternErrorMessage||t.errorMessage||C("patternWarning",'String does not match the pattern of "{0}".',t.pattern)})}var o;if(t.format)switch(t.format){case"uri":case"uri-reference":var s=void 0;if(e.value){var a=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/.exec(e.value);a?a[2]||"uri"!==t.format||(s=C("uriSchemeMissing","URI with a scheme is expected.")):s=C("uriMissing","URI is expected.")}else s=C("uriEmpty","URI expected.");s&&r.problems.push({location:{offset:e.offset,length:e.length},severity:p.DiagnosticSeverity.Warning,message:t.patternErrorMessage||t.errorMessage||C("uriFormatWarning","String is not a URI: {0}",s)});break;case"color-hex":case"date-time":case"date":case"time":case"email":var c=O[t.format];e.value&&c.pattern.exec(e.value)||r.problems.push({location:{offset:e.offset,length:e.length},severity:p.DiagnosticSeverity.Warning,message:t.patternErrorMessage||t.errorMessage||c.errorMessage})}}(e,t,r);break;case"number":!function(e,t,r,n){var o=e.value;i(t.multipleOf)&&o%t.multipleOf!=0&&r.problems.push({location:{offset:e.offset,length:e.length},severity:p.DiagnosticSeverity.Warning,message:C("multipleOfWarning","Value is not divisible by {0}.",t.multipleOf)});function s(e,t){return i(t)?t:a(t)&&t?e:void 0}function c(e,t){if(!a(t)||!t)return e}var u=s(t.minimum,t.exclusiveMinimum);i(u)&&o<=u&&r.problems.push({location:{offset:e.offset,length:e.length},severity:p.DiagnosticSeverity.Warning,message:C("exclusiveMinimumWarning","Value is below the exclusive minimum of {0}.",u)});var l=s(t.maximum,t.exclusiveMaximum);i(l)&&o>=l&&r.problems.push({location:{offset:e.offset,length:e.length},severity:p.DiagnosticSeverity.Warning,message:C("exclusiveMaximumWarning","Value is above the exclusive maximum of {0}.",l)});var f=c(t.minimum,t.exclusiveMinimum);i(f)&&o<f&&r.problems.push({location:{offset:e.offset,length:e.length},severity:p.DiagnosticSeverity.Warning,message:C("minimumWarning","Value is below the minimum of {0}.",f)});var d=c(t.maximum,t.exclusiveMaximum);i(d)&&o>d&&r.problems.push({location:{offset:e.offset,length:e.length},severity:p.DiagnosticSeverity.Warning,message:C("maximumWarning","Value is above the maximum of {0}.",d)})}(e,t,r);break;case"property":return V(e.valueNode,t,r,n)}!function(){function i(t){return e.type===t||"integer"===t&&"number"===e.type&&e.isInteger}Array.isArray(t.type)?t.type.some(i)||r.problems.push({location:{offset:e.offset,length:e.length},severity:p.DiagnosticSeverity.Warning,message:t.errorMessage||C("typeArrayMismatchWarning","Incorrect type. Expected one of {0}.",t.type.join(", "))}):t.type&&(i(t.type)||r.problems.push({location:{offset:e.offset,length:e.length},severity:p.DiagnosticSeverity.Warning,message:t.errorMessage||C("typeMismatchWarning",'Incorrect type. Expected "{0}".',t.type)}));if(Array.isArray(t.allOf))for(var a=0,c=t.allOf;a<c.length;a++){var l=c[a];V(e,q(l),r,n)}var f=q(t.not);if(f){var d=new D,h=n.newSub();V(e,f,d,h),d.hasProblems()||r.problems.push({location:{offset:e.offset,length:e.length},severity:p.DiagnosticSeverity.Warning,message:C("notSchemaWarning","Matches a schema that is not allowed.")});for(var m=0,g=h.schemas;m<g.length;m++){var y=g[m];y.inverted=!y.inverted,n.add(y)}}var v=function(t,o){for(var i=[],s=null,a=0,c=t;a<c.length;a++){var u=q(c[a]),l=new D,f=n.newSub();if(V(e,u,l,f),l.hasProblems()||i.push(u),s)if(o||l.hasProblems()||s.validationResult.hasProblems()){var d=l.compare(s.validationResult);d>0?s={schema:u,validationResult:l,matchingSchemas:f}:0===d&&(s.matchingSchemas.merge(f),s.validationResult.mergeEnumValues(l))}else s.matchingSchemas.merge(f),s.validationResult.propertiesMatches+=l.propertiesMatches,s.validationResult.propertiesValueMatches+=l.propertiesValueMatches;else s={schema:u,validationResult:l,matchingSchemas:f}}return i.length>1&&o&&r.problems.push({location:{offset:e.offset,length:1},severity:p.DiagnosticSeverity.Warning,message:C("oneOfWarning","Matches multiple schemas when only one must validate.")}),null!==s&&(r.merge(s.validationResult),r.propertiesMatches+=s.validationResult.propertiesMatches,r.propertiesValueMatches+=s.validationResult.propertiesValueMatches,n.merge(s.matchingSchemas)),i.length};Array.isArray(t.anyOf)&&v(t.anyOf,!1);Array.isArray(t.oneOf)&&v(t.oneOf,!0);var b=function(t){var o=new D,i=n.newSub();V(e,q(t),o,i),r.merge(o),r.propertiesMatches+=o.propertiesMatches,r.propertiesValueMatches+=o.propertiesValueMatches,n.merge(i)},S=q(t.if);S&&function(t,r,o){var i=q(t),s=new D,a=n.newSub();V(e,i,s,a),n.merge(a),s.hasProblems()?o&&b(o):r&&b(r)}(S,q(t.then),q(t.else));if(Array.isArray(t.enum)){for(var O=I(e),T=!1,P=0,x=t.enum;P<x.length;P++){var R=x[P];if(o(O,R)){T=!0;break}}r.enumValues=t.enum,r.enumValueMatch=T,T||r.problems.push({location:{offset:e.offset,length:e.length},severity:p.DiagnosticSeverity.Warning,code:u.EnumValueMismatch,message:t.errorMessage||C("enumWarning","Value is not accepted. Valid values: {0}.",t.enum.map((function(e){return JSON.stringify(e)})).join(", "))})}if(s(t.const)){o(O=I(e),t.const)?r.enumValueMatch=!0:(r.problems.push({location:{offset:e.offset,length:e.length},severity:p.DiagnosticSeverity.Warning,code:u.EnumValueMismatch,message:t.errorMessage||C("constWarning","Value must be {0}.",JSON.stringify(t.const))}),r.enumValueMatch=!1),r.enumValues=[t.const]}t.deprecationMessage&&e.parent&&r.problems.push({location:{offset:e.parent.offset,length:e.parent.length},severity:p.DiagnosticSeverity.Warning,message:t.deprecationMessage})}(),n.add({node:e,schema:t})}}function L(e,t){var r=[],o=-1,s=e.getText(),a=n.createScanner(s,!1),c=t&&t.collectComments?[]:void 0;function l(){for(;;){var t=a.scan();switch(h(),t){case 12:case 13:Array.isArray(c)&&c.push(p.Range.create(e.positionAt(a.getTokenOffset()),e.positionAt(a.getTokenOffset()+a.getTokenLength())));break;case 15:case 14:break;default:return t}}}function f(t,n,i,s,a){if(void 0===a&&(a=p.DiagnosticSeverity.Error),0===r.length||i!==o){var c=p.Range.create(e.positionAt(i),e.positionAt(s));r.push(p.Diagnostic.create(c,t,a,n,e.languageId)),o=i}}function d(e,t,r,n,o){void 0===r&&(r=null),void 0===n&&(n=[]),void 0===o&&(o=[]);var i=a.getTokenOffset(),c=a.getTokenOffset()+a.getTokenLength();if(i===c&&i>0){for(i--;i>0&&/\s/.test(s.charAt(i));)i--;c=i+1}if(f(e,t,i,c),r&&m(r,!1),n.length+o.length>0)for(var u=a.getToken();17!==u;){if(-1!==n.indexOf(u)){l();break}if(-1!==o.indexOf(u))break;u=l()}return r}function h(){switch(a.getTokenError()){case 4:return d(C("InvalidUnicode","Invalid unicode sequence in string."),u.InvalidUnicode),!0;case 5:return d(C("InvalidEscapeCharacter","Invalid escape character in string."),u.InvalidEscapeCharacter),!0;case 3:return d(C("UnexpectedEndOfNumber","Unexpected end of number."),u.UnexpectedEndOfNumber),!0;case 1:return d(C("UnexpectedEndOfComment","Unexpected end of comment."),u.UnexpectedEndOfComment),!0;case 2:return d(C("UnexpectedEndOfString","Unexpected end of string."),u.UnexpectedEndOfString),!0;case 6:return d(C("InvalidCharacter","Invalid characters in string. Control characters must be escaped."),u.InvalidCharacter),!0}return!1}function m(e,t){return e.length=a.getTokenOffset()+a.getTokenLength()-e.offset,t&&l(),e}function g(t,r){var n=new E(t,a.getTokenOffset()),o=y(n);if(!o){if(16!==a.getToken())return null;d(C("DoubleQuotesExpected","Property keys must be doublequoted"),u.Undefined);var i=new N(n,a.getTokenOffset(),a.getTokenLength());i.value=a.getTokenValue(),o=i,l()}n.keyNode=o;var s=r[o.value];if(s?(f(C("DuplicateKeyWarning","Duplicate object key"),u.DuplicateKey,n.keyNode.offset,n.keyNode.offset+n.keyNode.length,p.DiagnosticSeverity.Warning),"object"==typeof s&&f(C("DuplicateKeyWarning","Duplicate object key"),u.DuplicateKey,s.keyNode.offset,s.keyNode.offset+s.keyNode.length,p.DiagnosticSeverity.Warning),r[o.value]=!0):r[o.value]=n,6===a.getToken())n.colonOffset=a.getTokenOffset(),l();else if(d(C("ColonExpected","Colon expected"),u.ColonExpected),10===a.getToken()&&e.positionAt(o.offset+o.length).line<e.positionAt(a.getTokenOffset()).line)return n.length=o.length,n;var c=v(n,o.value);return c?(n.valueNode=c,n.length=c.offset+c.length-n.offset,n):d(C("ValueExpected","Value expected"),u.ValueExpected,n,[],[2,5])}function y(e){if(10!==a.getToken())return null;var t=new N(e,a.getTokenOffset());return t.value=a.getTokenValue(),m(t,!0)}function v(e,t){return function(e){if(3!==a.getToken())return null;var t=new R(e,a.getTokenOffset());l();for(var r=0,n=!1;4!==a.getToken()&&17!==a.getToken();){if(5===a.getToken()){n||d(C("ValueExpected","Value expected"),u.ValueExpected);var o=a.getTokenOffset();if(l(),4===a.getToken()){n&&f(C("TrailingComma","Trailing comma"),u.TrailingComma,o,o+1);continue}}else n&&d(C("ExpectedComma","Expected comma"),u.CommaExpected);var i=v(t,r++);i?t.items.push(i):d(C("PropertyExpected","Value expected"),u.ValueExpected,null,[],[4,5]),n=!0}return 4!==a.getToken()?d(C("ExpectedCloseBracket","Expected comma or closing bracket"),u.CommaOrCloseBacketExpected,t):m(t,!0)}(e)||function(e){if(1!==a.getToken())return null;var t=new w(e,a.getTokenOffset()),r=Object.create(null);l();for(var n=!1;2!==a.getToken()&&17!==a.getToken();){if(5===a.getToken()){n||d(C("PropertyExpected","Property expected"),u.PropertyExpected);var o=a.getTokenOffset();if(l(),2===a.getToken()){n&&f(C("TrailingComma","Trailing comma"),u.TrailingComma,o,o+1);continue}}else n&&d(C("ExpectedComma","Expected comma"),u.CommaExpected);var i=g(t,r);i?t.properties.push(i):d(C("PropertyExpected","Property expected"),u.PropertyExpected,null,[],[2,5]),n=!0}return 2!==a.getToken()?d(C("ExpectedCloseBrace","Expected comma or closing brace"),u.CommaOrCloseBraceExpected,t):m(t,!0)}(e)||y(e)||function(e){if(11!==a.getToken())return null;var t=new k(e,a.getTokenOffset());if(0===a.getTokenError()){var r=a.getTokenValue();try{var n=JSON.parse(r);if(!i(n))return d(C("InvalidNumberFormat","Invalid number format."),u.Undefined,t);t.value=n}catch(e){return d(C("InvalidNumberFormat","Invalid number format."),u.Undefined,t)}t.isInteger=-1===r.indexOf(".")}return m(t,!0)}(e)||function(e){switch(a.getToken()){case 7:return m(new P(e,a.getTokenOffset()),!0);case 8:return m(new x(e,!0,a.getTokenOffset()),!0);case 9:return m(new x(e,!1,a.getTokenOffset()),!0);default:return null}}(e)}var b=null;return 17!==l()&&((b=v(null))?17!==a.getToken()&&d(C("End of file expected","End of file expected."),u.Undefined):d(C("Invalid symbol","Expected a JSON object, array or literal."),u.Undefined)),new M(b,r,c)}function F(e,t,r){if(null!==e&&"object"==typeof e){var n=t+"\t";if(Array.isArray(e)){if(0===e.length)return"[]";for(var o="[\n",i=0;i<e.length;i++)o+=n+F(e[i],n,r),i<e.length-1&&(o+=","),o+="\n";return o+=t+"]"}var s=Object.keys(e);if(0===s.length)return"{}";for(o="{\n",i=0;i<s.length;i++){var a=s[i];o+=n+JSON.stringify(a)+": "+F(e[a],n,r),i<s.length-1&&(o+=","),o+="\n"}return o+=t+"}"}return r(e)}function W(e,t){var r=e.length-t.length;return r>0?e.lastIndexOf(t)===r:0===r&&e===t}var U=b.loadMessageBundle(),H=function(){function e(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=Promise),void 0===n&&(n={}),this.schemaService=e,this.contributions=t,this.promiseConstructor=r,this.clientCapabilities=n,this.templateVarIdCounter=0}return e.prototype.doResolve=function(e){for(var t=this.contributions.length-1;t>=0;t--)if(this.contributions[t].resolveCompletion){var r=this.contributions[t].resolveCompletion(e);if(r)return r}return this.promiseConstructor.resolve(e)},e.prototype.doComplete=function(e,t,r){var n=this,o={items:[],isIncomplete:!1},i=e.getText(),s=e.offsetAt(t),a=r.getNodeFromOffset(s,!0);if(this.isInComment(e,a?a.offset:0,s))return Promise.resolve(o);if(a&&s===a.offset+a.length&&s>0){var c=i[s-1];("object"===a.type&&"}"===c||"array"===a.type&&"]"===c)&&(a=a.parent)}var u=this.getCurrentWord(e,s),l=null;if(!a||"string"!==a.type&&"number"!==a.type&&"boolean"!==a.type&&"null"!==a.type){var f=s-u.length;f>0&&'"'===i[f-1]&&f--,l=p.Range.create(e.positionAt(f),t)}else l=p.Range.create(e.positionAt(a.offset),e.positionAt(a.offset+a.length));var d={},h={add:function(e){var t=d[e.label];t?t.documentation||(t.documentation=e.documentation):(d[e.label]=e,l&&(e.textEdit=p.TextEdit.replace(l,e.insertText)),o.items.push(e))},setAsIncomplete:function(){o.isIncomplete=!0},error:function(e){console.error(e)},log:function(e){console.log(e)},getNumberOfProposals:function(){return o.items.length}};return this.schemaService.getSchemaForResource(e.uri,r).then((function(t){var c=[],f=!0,m="",g=null;if(a&&"string"===a.type){var y=a.parent;y&&"property"===y.type&&y.keyNode===a&&(f=!y.valueNode,g=y,m=i.substr(a.offset+1,a.length-2),y&&(a=y.parent))}if(a&&"object"===a.type){if(a.offset===s)return o;a.properties.forEach((function(e){g&&g===e||(d[e.keyNode.value]=p.CompletionItem.create("__"))}));var v="";f&&(v=n.evaluateSeparatorAfter(e,e.offsetAt(l.end))),t?n.getPropertyCompletions(t,r,a,f,v,h):n.getSchemaLessPropertyCompletions(r,a,m,h);var b=$(a);n.contributions.forEach((function(t){var r=t.collectPropertyCompletions(e.uri,b,u,f,""===v,h);r&&c.push(r)})),!t&&u.length>0&&'"'!==i.charAt(s-u.length-1)&&(h.add({kind:p.CompletionItemKind.Property,label:n.getLabelForValue(u),insertText:n.getInsertTextForProperty(u,null,!1,v),insertTextFormat:p.InsertTextFormat.Snippet,documentation:""}),h.setAsIncomplete())}var S={};return t?n.getValueCompletions(t,r,a,s,e,h,S):n.getSchemaLessValueCompletions(r,a,s,e,h),n.contributions.length>0&&n.getContributedValueCompletions(r,a,s,e,h,c),n.promiseConstructor.all(c).then((function(){if(0===h.getNumberOfProposals()){var t=s;!a||"string"!==a.type&&"number"!==a.type&&"boolean"!==a.type&&"null"!==a.type||(t=a.offset+a.length);var r=n.evaluateSeparatorAfter(e,t);n.addFillerValueCompletions(S,r,h)}return o}))}))},e.prototype.getPropertyCompletions=function(e,t,r,n,o,i){var s=this;t.getMatchingSchemas(e.schema,r.offset).forEach((function(e){if(e.node===r&&!e.inverted){var t=e.schema.properties;t&&Object.keys(t).forEach((function(e){var r=t[e];if("object"==typeof r&&!r.deprecationMessage&&!r.doNotSuggest){var a={kind:p.CompletionItemKind.Property,label:s.sanitizeLabel(e),insertText:s.getInsertTextForProperty(e,r,n,o),insertTextFormat:p.InsertTextFormat.Snippet,filterText:s.getFilterTextForValue(e),documentation:s.fromMarkup(r.markdownDescription)||r.description||""};W(a.insertText,"$1"+o)&&(a.command={title:"Suggest",command:"editor.action.triggerSuggest"}),i.add(a)}}))}}))},e.prototype.getSchemaLessPropertyCompletions=function(e,t,r,n){var o=this,i=function(e){e.properties.forEach((function(e){var t=e.keyNode.value;n.add({kind:p.CompletionItemKind.Property,label:o.sanitizeLabel(t),insertText:o.getInsertTextForValue(t,""),insertTextFormat:p.InsertTextFormat.Snippet,filterText:o.getFilterTextForValue(t),documentation:""})}))};if(t.parent)if("property"===t.parent.type){var s=t.parent.keyNode.value;e.visit((function(e){return"property"===e.type&&e!==t.parent&&e.keyNode.value===s&&e.valueNode&&"object"===e.valueNode.type&&i(e.valueNode),!0}))}else"array"===t.parent.type&&t.parent.items.forEach((function(e){"object"===e.type&&e!==t&&i(e)}));else"object"===t.type&&n.add({kind:p.CompletionItemKind.Property,label:"$schema",insertText:this.getInsertTextForProperty("$schema",null,!0,""),insertTextFormat:p.InsertTextFormat.Snippet,documentation:"",filterText:this.getFilterTextForValue("$schema")})},e.prototype.getSchemaLessValueCompletions=function(e,t,r,n,o){var i=this,s=r;if(!t||"string"!==t.type&&"number"!==t.type&&"boolean"!==t.type&&"null"!==t.type||(s=t.offset+t.length,t=t.parent),!t)return o.add({kind:this.getSuggestionKind("object"),label:"Empty object",insertText:this.getInsertTextForValue({},""),insertTextFormat:p.InsertTextFormat.Snippet,documentation:""}),void o.add({kind:this.getSuggestionKind("array"),label:"Empty array",insertText:this.getInsertTextForValue([],""),insertTextFormat:p.InsertTextFormat.Snippet,documentation:""});var a=this.evaluateSeparatorAfter(n,s),c=function(e){j(e.parent,r,!0)||o.add({kind:i.getSuggestionKind(e.type),label:i.getLabelTextForMatchingNode(e,n),insertText:i.getInsertTextForMatchingNode(e,n,a),insertTextFormat:p.InsertTextFormat.Snippet,documentation:""}),"boolean"===e.type&&i.addBooleanValueCompletion(!e.value,a,o)};if("property"===t.type&&r>t.colonOffset){var u=t.valueNode;if(u&&(r>u.offset+u.length||"object"===u.type||"array"===u.type))return;var l=t.keyNode.value;e.visit((function(e){return"property"===e.type&&e.keyNode.value===l&&e.valueNode&&c(e.valueNode),!0})),"$schema"===l&&t.parent&&!t.parent.parent&&this.addDollarSchemaCompletions(a,o)}if("array"===t.type)if(t.parent&&"property"===t.parent.type){var f=t.parent.keyNode.value;e.visit((function(e){return"property"===e.type&&e.keyNode.value===f&&e.valueNode&&"array"===e.valueNode.type&&e.valueNode.items.forEach(c),!0}))}else t.items.forEach(c)},e.prototype.getValueCompletions=function(e,t,r,n,o,i,s){var a=this,c=n,u=null,l=null;if(!r||"string"!==r.type&&"number"!==r.type&&"boolean"!==r.type&&"null"!==r.type||(c=r.offset+r.length,l=r,r=r.parent),r){if("property"===r.type&&n>r.colonOffset){var p=r.valueNode;if(p&&n>p.offset+p.length)return;u=r.keyNode.value,r=r.parent}if(r&&(null!==u||"array"===r.type)){var f=this.evaluateSeparatorAfter(o,c);t.getMatchingSchemas(e.schema,r.offset,l).forEach((function(e){if(e.node===r&&!e.inverted&&e.schema){if("array"===r.type&&e.schema.items)if(Array.isArray(e.schema.items)){var t=a.findItemAtOffset(r,o,n);t<e.schema.items.length&&a.addSchemaValueCompletions(e.schema.items[t],f,i,s)}else a.addSchemaValueCompletions(e.schema.items,f,i,s);if(e.schema.properties){var c=e.schema.properties[u];c&&a.addSchemaValueCompletions(c,f,i,s)}}})),"$schema"!==u||r.parent||this.addDollarSchemaCompletions(f,i),s.boolean&&(this.addBooleanValueCompletion(!0,f,i),this.addBooleanValueCompletion(!1,f,i)),s.null&&this.addNullValueCompletion(f,i)}}else this.addSchemaValueCompletions(e.schema,"",i,s)},e.prototype.getContributedValueCompletions=function(e,t,r,n,o,i){if(t){if("string"!==t.type&&"number"!==t.type&&"boolean"!==t.type&&"null"!==t.type||(t=t.parent),"property"===t.type&&r>t.colonOffset){var s=t.keyNode.value,a=t.valueNode;if(!a||r<=a.offset+a.length){var c=$(t.parent);this.contributions.forEach((function(e){var t=e.collectValueCompletions(n.uri,c,s,o);t&&i.push(t)}))}}}else this.contributions.forEach((function(e){var t=e.collectDefaultCompletions(n.uri,o);t&&i.push(t)}))},e.prototype.addSchemaValueCompletions=function(e,t,r,n){var o=this;"object"==typeof e&&(this.addEnumValueCompletions(e,t,r),this.addDefaultValueCompletions(e,t,r),this.collectTypes(e,n),Array.isArray(e.allOf)&&e.allOf.forEach((function(e){return o.addSchemaValueCompletions(e,t,r,n)})),Array.isArray(e.anyOf)&&e.anyOf.forEach((function(e){return o.addSchemaValueCompletions(e,t,r,n)})),Array.isArray(e.oneOf)&&e.oneOf.forEach((function(e){return o.addSchemaValueCompletions(e,t,r,n)})))},e.prototype.addDefaultValueCompletions=function(e,t,r,n){var o=this;void 0===n&&(n=0);var i=!1;if(s(e.default)){for(var a=e.type,c=e.default,u=n;u>0;u--)c=[c],a="array";r.add({kind:this.getSuggestionKind(a),label:this.getLabelForValue(c),insertText:this.getInsertTextForValue(c,t),insertTextFormat:p.InsertTextFormat.Snippet,detail:U("json.suggest.default","Default value")}),i=!0}Array.isArray(e.examples)&&e.examples.forEach((function(s){for(var a=e.type,c=s,u=n;u>0;u--)c=[c],a="array";r.add({kind:o.getSuggestionKind(a),label:o.getLabelForValue(c),insertText:o.getInsertTextForValue(c,t),insertTextFormat:p.InsertTextFormat.Snippet}),i=!0})),Array.isArray(e.defaultSnippets)&&e.defaultSnippets.forEach((function(a){var c,u,l=e.type,f=a.body,d=a.label;if(s(f)){e.type;for(var h=n;h>0;h--)f=[f],"array";c=o.getInsertTextForSnippetValue(f,t),u=o.getFilterTextForSnippetValue(f),d=d||o.getLabelForSnippetValue(f)}else if("string"==typeof a.bodyText){var m="",g="",y="";for(h=n;h>0;h--)m=m+y+"[\n",g=g+"\n"+y+"]",y+="\t",l="array";c=m+y+a.bodyText.split("\n").join("\n"+y)+g+t,d=d||o.sanitizeLabel(c),u=c.replace(/[\n]/g,"")}r.add({kind:o.getSuggestionKind(l),label:d,documentation:o.fromMarkup(a.markdownDescription)||a.description,insertText:c,insertTextFormat:p.InsertTextFormat.Snippet,filterText:u}),i=!0})),i||"object"!=typeof e.items||Array.isArray(e.items)||this.addDefaultValueCompletions(e.items,t,r,n+1)},e.prototype.addEnumValueCompletions=function(e,t,r){if(s(e.const)&&r.add({kind:this.getSuggestionKind(e.type),label:this.getLabelForValue(e.const),insertText:this.getInsertTextForValue(e.const,t),insertTextFormat:p.InsertTextFormat.Snippet,documentation:this.fromMarkup(e.markdownDescription)||e.description}),Array.isArray(e.enum))for(var n=0,o=e.enum.length;n<o;n++){var i=e.enum[n],a=this.fromMarkup(e.markdownDescription)||e.description;e.markdownEnumDescriptions&&n<e.markdownEnumDescriptions.length&&this.doesSupportMarkdown()?a=this.fromMarkup(e.markdownEnumDescriptions[n]):e.enumDescriptions&&n<e.enumDescriptions.length&&(a=e.enumDescriptions[n]),r.add({kind:this.getSuggestionKind(e.type),label:this.getLabelForValue(i),insertText:this.getInsertTextForValue(i,t),insertTextFormat:p.InsertTextFormat.Snippet,documentation:a})}},e.prototype.collectTypes=function(e,t){if(!Array.isArray(e.enum)&&!s(e.const)){var r=e.type;Array.isArray(r)?r.forEach((function(e){return t[e]=!0})):t[r]=!0}},e.prototype.addFillerValueCompletions=function(e,t,r){e.object&&r.add({kind:this.getSuggestionKind("object"),label:"{}",insertText:this.getInsertTextForGuessedValue({},t),insertTextFormat:p.InsertTextFormat.Snippet,detail:U("defaults.object","New object"),documentation:""}),e.array&&r.add({kind:this.getSuggestionKind("array"),label:"[]",insertText:this.getInsertTextForGuessedValue([],t),insertTextFormat:p.InsertTextFormat.Snippet,detail:U("defaults.array","New array"),documentation:""})},e.prototype.addBooleanValueCompletion=function(e,t,r){r.add({kind:this.getSuggestionKind("boolean"),label:e?"true":"false",insertText:this.getInsertTextForValue(e,t),insertTextFormat:p.InsertTextFormat.Snippet,documentation:""})},e.prototype.addNullValueCompletion=function(e,t){t.add({kind:this.getSuggestionKind("null"),label:"null",insertText:"null"+e,insertTextFormat:p.InsertTextFormat.Snippet,documentation:""})},e.prototype.addDollarSchemaCompletions=function(e,t){var r=this;this.schemaService.getRegisteredSchemaIds((function(e){return"http"===e||"https"===e})).forEach((function(n){return t.add({kind:p.CompletionItemKind.Module,label:r.getLabelForValue(n),filterText:r.getFilterTextForValue(n),insertText:r.getInsertTextForValue(n,e),insertTextFormat:p.InsertTextFormat.Snippet,documentation:""})}))},e.prototype.sanitizeLabel=function(e){return(e=e.replace(/[\n]/g,"â†µ")).length>57&&(e=e.substr(0,57).trim()+"..."),e},e.prototype.getLabelForValue=function(e){return this.sanitizeLabel(JSON.stringify(e))},e.prototype.getFilterTextForValue=function(e){return JSON.stringify(e)},e.prototype.getFilterTextForSnippetValue=function(e){return JSON.stringify(e).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")},e.prototype.getLabelForSnippetValue=function(e){var t=JSON.stringify(e);return t=t.replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1"),this.sanitizeLabel(t)},e.prototype.getInsertTextForPlainText=function(e){return e.replace(/[\\\$\}]/g,"\\$&")},e.prototype.getInsertTextForValue=function(e,t){var r=JSON.stringify(e,null,"\t");return"{}"===r?"{$1}"+t:"[]"===r?"[$1]"+t:this.getInsertTextForPlainText(r+t)},e.prototype.getInsertTextForSnippetValue=function(e,t){return F(e,"",(function(e){return"string"==typeof e&&"^"===e[0]?e.substr(1):JSON.stringify(e)}))+t},e.prototype.getInsertTextForGuessedValue=function(e,t){switch(typeof e){case"object":return null===e?"${1:null}"+t:this.getInsertTextForValue(e,t);case"string":var r=JSON.stringify(e);return r=r.substr(1,r.length-2),'"${1:'+(r=this.getInsertTextForPlainText(r))+'}"'+t;case"number":case"boolean":return"${1:"+JSON.stringify(e)+"}"+t}return this.getInsertTextForValue(e,t)},e.prototype.getSuggestionKind=function(e){if(Array.isArray(e)){var t=e;e=t.length>0?t[0]:null}if(!e)return p.CompletionItemKind.Value;switch(e){case"string":return p.CompletionItemKind.Value;case"object":return p.CompletionItemKind.Module;case"property":return p.CompletionItemKind.Property;default:return p.CompletionItemKind.Value}},e.prototype.getLabelTextForMatchingNode=function(e,t){switch(e.type){case"array":return"[]";case"object":return"{}";default:return t.getText().substr(e.offset,e.length)}},e.prototype.getInsertTextForMatchingNode=function(e,t,r){switch(e.type){case"array":return this.getInsertTextForValue([],r);case"object":return this.getInsertTextForValue({},r);default:var n=t.getText().substr(e.offset,e.length)+r;return this.getInsertTextForPlainText(n)}},e.prototype.getInsertTextForProperty=function(e,t,r,n){var o=this.getInsertTextForValue(e,"");if(!r)return o;var i,a=o+": ",c=0;if(t){if(Array.isArray(t.defaultSnippets)){if(1===t.defaultSnippets.length){var u=t.defaultSnippets[0].body;s(u)&&(i=this.getInsertTextForSnippetValue(u,""))}c+=t.defaultSnippets.length}if(t.enum&&(i||1!==t.enum.length||(i=this.getInsertTextForGuessedValue(t.enum[0],"")),c+=t.enum.length),s(t.default)&&(i||(i=this.getInsertTextForGuessedValue(t.default,"")),c++),Array.isArray(t.examples)&&t.examples.length&&(i||(i=this.getInsertTextForGuessedValue(t.examples[0],"")),c+=t.examples.length),0===c){var l=Array.isArray(t.type)?t.type[0]:t.type;switch(l||(t.properties?l="object":t.items&&(l="array")),l){case"boolean":i="$1";break;case"string":i='"$1"';break;case"object":i="{$1}";break;case"array":i="[$1]";break;case"number":case"integer":i="${1:0}";break;case"null":i="${1:null}";break;default:return o}}}return(!i||c>1)&&(i="$1"),a+i+n},e.prototype.getCurrentWord=function(e,t){for(var r=t-1,n=e.getText();r>=0&&-1===' \t\n\r\v":{[,]}'.indexOf(n.charAt(r));)r--;return n.substring(r+1,t)},e.prototype.evaluateSeparatorAfter=function(e,t){var r=n.createScanner(e.getText(),!0);switch(r.setPosition(t),r.scan()){case 5:case 2:case 4:case 17:return"";default:return","}},e.prototype.findItemAtOffset=function(e,t,r){for(var o=n.createScanner(t.getText(),!0),i=e.items,s=i.length-1;s>=0;s--){var a=i[s];if(r>a.offset+a.length)return o.setPosition(a.offset+a.length),5===o.scan()&&r>=o.getTokenOffset()+o.getTokenLength()?s+1:s;if(r>=a.offset)return s}return 0},e.prototype.isInComment=function(e,t,r){var o=n.createScanner(e.getText(),!1);o.setPosition(t);for(var i=o.scan();17!==i&&o.getTokenOffset()+o.getTokenLength()<r;)i=o.scan();return(12===i||13===i)&&o.getTokenOffset()<=r},e.prototype.fromMarkup=function(e){if(e&&this.doesSupportMarkdown())return{kind:p.MarkupKind.Markdown,value:e}},e.prototype.doesSupportMarkdown=function(){if(!s(this.supportsMarkdown)){var e=this.clientCapabilities.textDocument&&this.clientCapabilities.textDocument.completion;this.supportsMarkdown=e&&e.completionItem&&Array.isArray(e.completionItem.documentationFormat)&&-1!==e.completionItem.documentationFormat.indexOf(p.MarkupKind.Markdown)}return this.supportsMarkdown},e.prototype.doesSupportsCommitCharacters=function(){if(!s(this.supportsCommitCharacters)){var e=this.clientCapabilities.textDocument&&this.clientCapabilities.textDocument.completion;this.supportsCommitCharacters=e&&e.completionItem&&!!e.completionItem.commitCharactersSupport}return this.supportsCommitCharacters},e}(),B=function(){function e(e,t,r){void 0===t&&(t=[]),this.schemaService=e,this.contributions=t,this.promise=r||Promise}return e.prototype.doHover=function(e,t,r){var n=e.offsetAt(t),o=r.getNodeFromOffset(n);if(!o||("object"===o.type||"array"===o.type)&&n>o.offset+1&&n<o.offset+o.length-1)return this.promise.resolve(null);var i=o;if("string"===o.type){var s=o.parent;if(s&&"property"===s.type&&s.keyNode===o&&!(o=s.valueNode))return this.promise.resolve(null)}for(var a=p.Range.create(e.positionAt(i.offset),e.positionAt(i.offset+i.length)),c=function(e){return{contents:e,range:a}},u=$(o),l=this.contributions.length-1;l>=0;l--){var f=this.contributions[l].getInfoContribution(e.uri,u);if(f)return f.then((function(e){return c(e)}))}return this.schemaService.getSchemaForResource(e.uri,r).then((function(e){if(e){var t=r.getMatchingSchemas(e.schema,o.offset),n=null,i=null,s=null,a=null;t.every((function(e){if(e.node===o&&!e.inverted&&e.schema&&(n=n||e.schema.title,i=i||e.schema.markdownDescription||G(e.schema.description),e.schema.enum)){var t=e.schema.enum.indexOf(I(o));e.schema.markdownEnumDescriptions?s=e.schema.markdownEnumDescriptions[t]:e.schema.enumDescriptions&&(s=G(e.schema.enumDescriptions[t])),s&&"string"!=typeof(a=e.schema.enum[t])&&(a=JSON.stringify(a))}return!0}));var u="";return n&&(u=G(n)),i&&(u.length>0&&(u+="\n\n"),u+=i),s&&(u.length>0&&(u+="\n\n"),u+="`"+function(e){if(-1!==e.indexOf("`"))return"`` "+e+" ``";return e}(a)+"`: "+s),c([u])}return null}))},e}();function G(e){if(e)return e.replace(/([^\n\r])(\r?\n)([^\n\r])/gm,"$1\n\n$3").replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}var J,z,K=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();if("object"==typeof process)z="win32"===process.platform;else if("object"==typeof navigator){var X=navigator.userAgent;z=X.indexOf("Windows")>=0}var Q=/^\w[\w\d+.-]*$/,Y=/^\//,Z=/^\/\//;var ee="",te="/",re=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,ne=function(){function e(e,t,r,n,o,i){void 0===i&&(i=!1),"object"==typeof e?(this.scheme=e.scheme||ee,this.authority=e.authority||ee,this.path=e.path||ee,this.query=e.query||ee,this.fragment=e.fragment||ee):(this.scheme=function(e,t){return e||t?e:"file"}(e,i),this.authority=t||ee,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==te&&(t=te+t):t=te}return t}(this.scheme,r||ee),this.query=n||ee,this.fragment=o||ee,function(e,t){if(!e.scheme&&t)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'+e.authority+'", path: "'+e.path+'", query: "'+e.query+'", fragment: "'+e.fragment+'"}');if(e.scheme&&!Q.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!Y.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(Z.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this,i))}return e.isUri=function(t){return t instanceof e||!!t&&("string"==typeof t.authority&&"string"==typeof t.fragment&&"string"==typeof t.path&&"string"==typeof t.query&&"string"==typeof t.scheme&&"function"==typeof t.fsPath&&"function"==typeof t.with&&"function"==typeof t.toString)},Object.defineProperty(e.prototype,"fsPath",{get:function(){return ue(this,!1)},enumerable:!0,configurable:!0}),e.prototype.with=function(e){if(!e)return this;var t=e.scheme,r=e.authority,n=e.path,o=e.query,i=e.fragment;return void 0===t?t=this.scheme:null===t&&(t=ee),void 0===r?r=this.authority:null===r&&(r=ee),void 0===n?n=this.path:null===n&&(n=ee),void 0===o?o=this.query:null===o&&(o=ee),void 0===i?i=this.fragment:null===i&&(i=ee),t===this.scheme&&r===this.authority&&n===this.path&&o===this.query&&i===this.fragment?this:new ie(t,r,n,o,i)},e.parse=function(e,t){void 0===t&&(t=!1);var r=re.exec(e);return r?new ie(r[2]||ee,de(r[4]||ee),de(r[5]||ee),de(r[7]||ee),de(r[9]||ee),t):new ie(ee,ee,ee,ee,ee)},e.file=function(e){var t=ee;if(z&&(e=e.replace(/\\/g,te)),e[0]===te&&e[1]===te){var r=e.indexOf(te,2);-1===r?(t=e.substring(2),e=te):(t=e.substring(2,r),e=e.substring(r)||te)}return new ie("file",t,e,ee,ee)},e.from=function(e){return new ie(e.scheme,e.authority,e.path,e.query,e.fragment)},e.prototype.toString=function(e){return void 0===e&&(e=!1),le(this,e)},e.prototype.toJSON=function(){return this},e.revive=function(t){if(t){if(t instanceof e)return t;var r=new ie(t);return r._formatted=t.external,r._fsPath=t._sep===oe?t.fsPath:null,r}return t},e}(),oe=z?1:void 0,ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._formatted=null,t._fsPath=null,t}return K(t,e),Object.defineProperty(t.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=ue(this,!1)),this._fsPath},enumerable:!0,configurable:!0}),t.prototype.toString=function(e){return void 0===e&&(e=!1),e?le(this,!0):(this._formatted||(this._formatted=le(this,!1)),this._formatted)},t.prototype.toJSON=function(){var e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=oe),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e},t}(ne),se=((J={})[58]="%3A",J[47]="%2F",J[63]="%3F",J[35]="%23",J[91]="%5B",J[93]="%5D",J[64]="%40",J[33]="%21",J[36]="%24",J[38]="%26",J[39]="%27",J[40]="%28",J[41]="%29",J[42]="%2A",J[43]="%2B",J[44]="%2C",J[59]="%3B",J[61]="%3D",J[32]="%20",J);function ae(e,t){for(var r=void 0,n=-1,o=0;o<e.length;o++){var i=e.charCodeAt(o);if(i>=97&&i<=122||i>=65&&i<=90||i>=48&&i<=57||45===i||46===i||95===i||126===i||t&&47===i)-1!==n&&(r+=encodeURIComponent(e.substring(n,o)),n=-1),void 0!==r&&(r+=e.charAt(o));else{void 0===r&&(r=e.substr(0,o));var s=se[i];void 0!==s?(-1!==n&&(r+=encodeURIComponent(e.substring(n,o)),n=-1),r+=s):-1===n&&(n=o)}}return-1!==n&&(r+=encodeURIComponent(e.substring(n))),void 0!==r?r:e}function ce(e){for(var t=void 0,r=0;r<e.length;r++){var n=e.charCodeAt(r);35===n||63===n?(void 0===t&&(t=e.substr(0,r)),t+=se[n]):void 0!==t&&(t+=e[r])}return void 0!==t?t:e}function ue(e,t){var r;return r=e.authority&&e.path.length>1&&"file"===e.scheme?"//"+e.authority+e.path:47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?t?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path,z&&(r=r.replace(/\//g,"\\")),r}function le(e,t){var r=t?ce:ae,n="",o=e.scheme,i=e.authority,s=e.path,a=e.query,c=e.fragment;if(o&&(n+=o,n+=":"),(i||"file"===o)&&(n+=te,n+=te),i){var u=i.indexOf("@");if(-1!==u){var l=i.substr(0,u);i=i.substr(u+1),-1===(u=l.indexOf(":"))?n+=r(l,!1):(n+=r(l.substr(0,u),!1),n+=":",n+=r(l.substr(u+1),!1)),n+="@"}-1===(u=(i=i.toLowerCase()).indexOf(":"))?n+=r(i,!1):(n+=r(i.substr(0,u),!1),n+=i.substr(u))}if(s){if(s.length>=3&&47===s.charCodeAt(0)&&58===s.charCodeAt(2))(p=s.charCodeAt(1))>=65&&p<=90&&(s="/"+String.fromCharCode(p+32)+":"+s.substr(3));else if(s.length>=2&&58===s.charCodeAt(1)){var p;(p=s.charCodeAt(0))>=65&&p<=90&&(s=String.fromCharCode(p+32)+":"+s.substr(2))}n+=r(s,!0)}return a&&(n+="?",n+=r(a,!1)),c&&(n+="#",n+=t?c:ae(c,!1)),n}function pe(e){try{return decodeURIComponent(e)}catch(t){return e.length>3?e.substr(0,3)+pe(e.substr(3)):e}}var fe=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function de(e){return e.match(fe)?e.replace(fe,(function(e){return pe(e)})):e}var he=b.loadMessageBundle(),me=function(){function e(e){try{this.patternRegExp=new RegExp(function(e){return e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}(e)+"$")}catch(e){this.patternRegExp=null}this.schemas=[]}return e.prototype.addSchema=function(e){this.schemas.push(e)},e.prototype.matchesPattern=function(e){return this.patternRegExp&&this.patternRegExp.test(e)},e.prototype.getSchemas=function(){return this.schemas},e}(),ge=function(){function e(e,t,r){this.service=e,this.url=t,this.dependencies={},r&&(this.unresolvedSchema=this.service.promise.resolve(new ye(r)))}return e.prototype.getUnresolvedSchema=function(){return this.unresolvedSchema||(this.unresolvedSchema=this.service.loadSchema(this.url)),this.unresolvedSchema},e.prototype.getResolvedSchema=function(){var e=this;return this.resolvedSchema||(this.resolvedSchema=this.getUnresolvedSchema().then((function(t){return e.service.resolveSchemaContent(t,e.url,e.dependencies)}))),this.resolvedSchema},e.prototype.clearSchema=function(){this.resolvedSchema=null,this.unresolvedSchema=null,this.dependencies={}},e}(),ye=function(e,t){void 0===t&&(t=[]),this.schema=e,this.errors=t},ve=function(){function e(e,t){void 0===t&&(t=[]),this.schema=e,this.errors=t}return e.prototype.getSection=function(e){return q(this.getSectionRecursive(e,this.schema))},e.prototype.getSectionRecursive=function(e,t){if(!t||"boolean"==typeof t||0===e.length)return t;var r=e.shift();if(t.properties&&(t.properties[r],1))return this.getSectionRecursive(e,t.properties[r]);if(t.patternProperties)for(var n=0,o=Object.keys(t.patternProperties);n<o.length;n++){var i=o[n];if(new RegExp(i).test(r))return this.getSectionRecursive(e,t.patternProperties[i])}else{if("object"==typeof t.additionalProperties)return this.getSectionRecursive(e,t.additionalProperties);if(r.match("[0-9]+"))if(Array.isArray(t.items)){var s=parseInt(r,10);if(!isNaN(s)&&t.items[s])return this.getSectionRecursive(e,t.items[s])}else if(t.items)return this.getSectionRecursive(e,t.items)}return null},e}(),be=function(){function e(e,t,r){this.contextService=t,this.requestService=e,this.promiseConstructor=r||Promise,this.callOnDispose=[],this.contributionSchemas={},this.contributionAssociations={},this.schemasById={},this.filePatternAssociations=[],this.filePatternAssociationById={},this.registeredSchemasIds={}}return e.prototype.getRegisteredSchemaIds=function(e){return Object.keys(this.registeredSchemasIds).filter((function(t){var r=ne.parse(t).scheme;return"schemaservice"!==r&&(!e||e(r))}))},Object.defineProperty(e.prototype,"promise",{get:function(){return this.promiseConstructor},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){for(;this.callOnDispose.length>0;)this.callOnDispose.pop()()},e.prototype.onResourceChange=function(e){for(var t=this,r=!1,n=[e=this.normalizeId(e)],o=Object.keys(this.schemasById).map((function(e){return t.schemasById[e]}));n.length;)for(var i=n.pop(),s=0;s<o.length;s++){var a=o[s];a&&(a.url===i||a.dependencies[i])&&(a.url!==i&&n.push(a.url),a.clearSchema(),o[s]=void 0,r=!0)}return r},e.prototype.normalizeId=function(e){try{return ne.parse(e).toString()}catch(t){return e}},e.prototype.setSchemaContributions=function(e){if(e.schemas){var t=e.schemas;for(var r in t){var n=this.normalizeId(r);this.contributionSchemas[n]=this.addSchemaHandle(n,t[r])}}if(e.schemaAssociations){var o=e.schemaAssociations;for(var i in o){var s=o[i];this.contributionAssociations[i]=s;for(var a=this.getOrAddFilePatternAssociation(i),c=0,u=s;c<u.length;c++){var l=u[c];r=this.normalizeId(l);a.addSchema(r)}}}},e.prototype.addSchemaHandle=function(e,t){var r=new ge(this,e,t);return this.schemasById[e]=r,r},e.prototype.getOrAddSchemaHandle=function(e,t){return this.schemasById[e]||this.addSchemaHandle(e,t)},e.prototype.getOrAddFilePatternAssociation=function(e){var t=this.filePatternAssociationById[e];return t||(t=new me(e),this.filePatternAssociationById[e]=t,this.filePatternAssociations.push(t)),t},e.prototype.registerExternalSchema=function(e,t,r){void 0===t&&(t=null);var n=this.normalizeId(e);if(this.registeredSchemasIds[n]=!0,t)for(var o=0,i=t;o<i.length;o++){var s=i[o];this.getOrAddFilePatternAssociation(s).addSchema(n)}return r?this.addSchemaHandle(n,r):this.getOrAddSchemaHandle(n)},e.prototype.clearExternalSchemas=function(){for(var e in this.schemasById={},this.filePatternAssociations=[],this.filePatternAssociationById={},this.registeredSchemasIds={},this.contributionSchemas)this.schemasById[e]=this.contributionSchemas[e],this.registeredSchemasIds[e]=!0;for(var t in this.contributionAssociations)for(var r=this.getOrAddFilePatternAssociation(t),n=0,o=this.contributionAssociations[t];n<o.length;n++){var i=o[n];e=this.normalizeId(i);r.addSchema(e)}},e.prototype.getResolvedSchema=function(e){var t=this.normalizeId(e),r=this.schemasById[t];return r?r.getResolvedSchema():this.promise.resolve(null)},e.prototype.loadSchema=function(e){if(!this.requestService){var t=he("json.schema.norequestservice","Unable to load schema from '{0}'. No schema request service available",Se(e));return this.promise.resolve(new ye({},[t]))}return this.requestService(e).then((function(t){if(!t){var r=he("json.schema.nocontent","Unable to load schema from '{0}': No content.",Se(e));return new ye({},[r])}var o,i=[];o=n.parse(t,i);var s=i.length?[he("json.schema.invalidFormat","Unable to parse content from '{0}': Parse error at offset {1}.",Se(e),i[0].offset)]:[];return new ye(o,s)}),(function(t){var r=t.toString(),n=t.toString().split("Error: ");return n.length>1&&(r=n[1]),W(r,".")&&(r=r.substr(0,r.length-1)),new ye({},[he("json.schema.nocontent","Unable to load schema from '{0}': {1}.",Se(e),r)])}))},e.prototype.resolveSchemaContent=function(e,t,r){var n=this,o=e.errors.slice(0),i=e.schema;if(i.$schema){var s=this.normalizeId(i.$schema);if("http://json-schema.org/draft-03/schema"===s)return this.promise.resolve(new ve({},[he("json.schema.draft03.notsupported","Draft-03 schemas are not supported.")]));"https://json-schema.org/draft/2019-09/schema"===s&&e.errors.push(he("json.schema.draft201909.notsupported","Draft 2019-09 schemas are not yet fully supported."))}var a=this.contextService,c=function(e,t,r,n){var i=function(e,t){if(!t)return e;var r=e;return"/"===t[0]&&(t=t.substr(1)),t.split("/").some((function(e){return!(r=r[e])})),r}(t,n);if(i)for(var s in i)i.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(e[s]=i[s]);else o.push(he("json.schema.invalidref","$ref '{0}' in '{1}' can not be resolved.",n,r))},u=function(e,t,r,i,s){a&&!/^\w+:\/\/.*/.test(t)&&(t=a.resolveRelativePath(t,i)),t=n.normalizeId(t);var u=n.getOrAddSchemaHandle(t);return u.getUnresolvedSchema().then((function(n){if(s[t]=!0,n.errors.length){var i=r?t+"#"+r:t;o.push(he("json.schema.problemloadingref","Problems loading reference '{0}': {1}",i,n.errors[0]))}return c(e,n.schema,t,r),l(e,n.schema,t,u.dependencies)}))},l=function(e,t,r,o){if(!e||"object"!=typeof e)return Promise.resolve(null);for(var i=[e],s=[],a=[],l=function(e){for(var n=[];e.$ref;){var s=e.$ref,l=s.split("#",2);if(delete e.$ref,l[0].length>0)return void a.push(u(e,l[0],l[1],r,o));-1===n.indexOf(s)&&(c(e,t,r,l[1]),n.push(s))}!function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,n=e;r<n.length;r++){var o=n[r];"object"==typeof o&&i.push(o)}}(e.items,e.additionalProperties,e.not,e.contains,e.propertyNames,e.if,e.then,e.else),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,n=e;r<n.length;r++){var o=n[r];if("object"==typeof o)for(var s in o){var a=o[s];"object"==typeof a&&i.push(a)}}}(e.definitions,e.properties,e.patternProperties,e.dependencies),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,n=e;r<n.length;r++){var o=n[r];if(Array.isArray(o))for(var s=0,a=o;s<a.length;s++){var c=a[s];"object"==typeof c&&i.push(c)}}}(e.anyOf,e.allOf,e.oneOf,e.items)};i.length;){var p=i.pop();s.indexOf(p)>=0||(s.push(p),l(p))}return n.promise.all(a)};return l(i,i,t,r).then((function(e){return new ve(i,o)}))},e.prototype.getSchemaForResource=function(e,t){if(t&&t.root&&"object"===t.root.type){var r=t.root.properties.filter((function(e){return"$schema"===e.keyNode.value&&e.valueNode&&"string"===e.valueNode.type}));if(r.length>0){var n=I(r[0].valueNode);if(n&&function(e,t){if(e.length<t.length)return!1;for(var r=0;r<t.length;r++)if(e[r]!==t[r])return!1;return!0}(n,".")&&this.contextService&&(n=this.contextService.resolveRelativePath(n,e)),n){var o=this.normalizeId(n);return this.getOrAddSchemaHandle(o).getResolvedSchema()}}}for(var i=Object.create(null),s=[],a=0,c=this.filePatternAssociations;a<c.length;a++){var u=c[a];if(u.matchesPattern(e))for(var l=0,p=u.getSchemas();l<p.length;l++){var f=p[l];i[f]||(s.push(f),i[f]=!0)}}return s.length>0?this.createCombinedSchema(e,s).getResolvedSchema():this.promise.resolve(null)},e.prototype.createCombinedSchema=function(e,t){if(1===t.length)return this.getOrAddSchemaHandle(t[0]);var r="schemaservice://combinedSchema/"+encodeURIComponent(e),n={allOf:t.map((function(e){return{$ref:e}}))};return this.addSchemaHandle(r,n)},e}();function Se(e){try{var t=ne.parse(e);if("file"===t.scheme)return t.fsPath}catch(e){}return e}var Ce=b.loadMessageBundle(),Oe=function(){function e(e,t){this.jsonSchemaService=e,this.promise=t,this.validationEnabled=!0}return e.prototype.configure=function(e){e&&(this.validationEnabled=e.validate,this.commentSeverity=e.allowComments?void 0:p.DiagnosticSeverity.Error)},e.prototype.doValidation=function(e,t,r,n){var o=this;if(!this.validationEnabled)return this.promise.resolve([]);var i=[],s={},a=function(e){var t=e.range.start.line+" "+e.range.start.character+" "+e.message;s[t]||(s[t]=!0,i.push(e))},c=function(n){var s=r?Re(r.trailingCommas):p.DiagnosticSeverity.Error,c=r?Re(r.comments):o.commentSeverity;if(n){if(n.errors.length&&t.root){var l=t.root,f="object"===l.type?l.properties[0]:null;if(f&&"$schema"===f.keyNode.value){var d=f.valueNode||f,h=p.Range.create(e.positionAt(d.offset),e.positionAt(d.offset+d.length));a(p.Diagnostic.create(h,n.errors[0],p.DiagnosticSeverity.Warning,u.SchemaResolveError))}else{h=p.Range.create(e.positionAt(l.offset),e.positionAt(l.offset+1));a(p.Diagnostic.create(h,n.errors[0],p.DiagnosticSeverity.Warning,u.SchemaResolveError))}}else{var m=t.validate(e,n.schema);m&&m.forEach(a)}Pe(n.schema)&&(c=void 0),xe(n.schema)&&(s=void 0)}for(var g=0,y=t.syntaxErrors;g<y.length;g++){var v=y[g];if(v.code===u.TrailingComma){if("number"!=typeof s)continue;v.severity=s}a(v)}if("number"==typeof c){var b=Ce("InvalidCommentToken","Comments are not permitted in JSON.");t.comments.forEach((function(e){a(p.Diagnostic.create(e,b,c,u.CommentNotPermitted))}))}return i};if(n){var l=n.id||"schemaservice://untitled/"+Te++;return this.jsonSchemaService.resolveSchemaContent(new ye(n),l,{}).then((function(e){return c(e)}))}return this.jsonSchemaService.getSchemaForResource(e.uri,t).then((function(e){return c(e)}))},e}(),Te=0;function Pe(e){if(e&&"object"==typeof e){if(a(e.allowComments))return e.allowComments;if(e.allOf)for(var t=0,r=e.allOf;t<r.length;t++){var n=Pe(r[t]);if(a(n))return n}}}function xe(e){if(e&&"object"==typeof e){if(a(e.allowTrailingCommas))return e.allowTrailingCommas;if(a(e.allowsTrailingCommas))return e.allowsTrailingCommas;if(e.allOf)for(var t=0,r=e.allOf;t<r.length;t++){var n=xe(r[t]);if(a(n))return n}}}function Re(e){switch(e){case"error":return p.DiagnosticSeverity.Error;case"warning":return p.DiagnosticSeverity.Warning;case"ignore":return}}function ke(e){return e<48?0:e<=57?e-48:(e<97&&(e+=32),e>=97&&e<=102?e-97+10:0)}function Ne(e){if("#"!==e[0])return null;switch(e.length){case 4:return{red:17*ke(e.charCodeAt(1))/255,green:17*ke(e.charCodeAt(2))/255,blue:17*ke(e.charCodeAt(3))/255,alpha:1};case 5:return{red:17*ke(e.charCodeAt(1))/255,green:17*ke(e.charCodeAt(2))/255,blue:17*ke(e.charCodeAt(3))/255,alpha:17*ke(e.charCodeAt(4))/255};case 7:return{red:(16*ke(e.charCodeAt(1))+ke(e.charCodeAt(2)))/255,green:(16*ke(e.charCodeAt(3))+ke(e.charCodeAt(4)))/255,blue:(16*ke(e.charCodeAt(5))+ke(e.charCodeAt(6)))/255,alpha:1};case 9:return{red:(16*ke(e.charCodeAt(1))+ke(e.charCodeAt(2)))/255,green:(16*ke(e.charCodeAt(3))+ke(e.charCodeAt(4)))/255,blue:(16*ke(e.charCodeAt(5))+ke(e.charCodeAt(6)))/255,alpha:(16*ke(e.charCodeAt(7))+ke(e.charCodeAt(8)))/255}}return null}var Ee=function(){function e(e){this.schemaService=e}return e.prototype.findDocumentSymbols=function(e,t,r){var n=this;void 0===r&&(r={resultLimit:Number.MAX_VALUE});var o=t.root;if(!o)return null;var i=r.resultLimit,s=e.uri;if(("vscode://defaultsettings/keybindings.json"===s||W(s.toLowerCase(),"/user/keybindings.json"))&&"array"===o.type){for(var a=[],c=0,u=o.items;c<u.length;c++){var l=u[c];if("object"===l.type)for(var f=0,d=l.properties;f<d.length;f++){var h=d[f];if("key"===h.keyNode.value&&h.valueNode){var m=p.Location.create(e.uri,we(e,l));if(a.push({name:I(h.valueNode),kind:p.SymbolKind.Function,location:m}),--i<=0)return r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(s),a}}}return a}for(var g=[{node:o,containerName:""}],y=0,v=!1,b=[],S=function(t,r){"array"===t.type?t.items.forEach((function(e){e&&g.push({node:e,containerName:r})})):"object"===t.type&&t.properties.forEach((function(t){var o=t.valueNode;if(o)if(i>0){i--;var s=p.Location.create(e.uri,we(e,t)),a=r?r+"."+t.keyNode.value:t.keyNode.value;b.push({name:n.getKeyLabel(t),kind:n.getSymbolKind(o.type),location:s,containerName:r}),g.push({node:o,containerName:a})}else v=!0}))};y<g.length;){var C=g[y++];S(C.node,C.containerName)}return v&&r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(s),b},e.prototype.findDocumentSymbols2=function(e,t,r){var n=this;void 0===r&&(r={resultLimit:Number.MAX_VALUE});var o=t.root;if(!o)return null;var i=r.resultLimit,s=e.uri;if(("vscode://defaultsettings/keybindings.json"===s||W(s.toLowerCase(),"/user/keybindings.json"))&&"array"===o.type){for(var a=[],c=0,u=o.items;c<u.length;c++){var l=u[c];if("object"===l.type)for(var f=0,d=l.properties;f<d.length;f++){var h=d[f];if("key"===h.keyNode.value&&h.valueNode){var m=we(e,l),g=we(e,h.keyNode);if(a.push({name:I(h.valueNode),kind:p.SymbolKind.Function,range:m,selectionRange:g}),--i<=0)return r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(s),a}}}return a}for(var y=[],v=[{node:o,result:y}],b=0,S=!1,C=function(t,r){"array"===t.type?t.items.forEach((function(t,o){if(t)if(i>0){i--;var s=we(e,t),a=s,c={name:String(o),kind:n.getSymbolKind(t.type),range:s,selectionRange:a,children:[]};r.push(c),v.push({result:c.children,node:t})}else S=!0})):"object"===t.type&&t.properties.forEach((function(t){var o=t.valueNode;if(o)if(i>0){i--;var s=we(e,t),a=we(e,t.keyNode),c={name:n.getKeyLabel(t),kind:n.getSymbolKind(o.type),range:s,selectionRange:a,children:[]};r.push(c),v.push({result:c.children,node:o})}else S=!0}))};b<v.length;){var O=v[b++];C(O.node,O.result)}return S&&r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(s),y},e.prototype.getSymbolKind=function(e){switch(e){case"object":return p.SymbolKind.Module;case"string":return p.SymbolKind.String;case"number":return p.SymbolKind.Number;case"array":return p.SymbolKind.Array;case"boolean":return p.SymbolKind.Boolean;default:return p.SymbolKind.Variable}},e.prototype.getKeyLabel=function(e){var t=e.keyNode.value;return t&&(t=t.replace(/[\n]/g,"â†µ")),t&&t.trim()?t:'"'+t+'"'},e.prototype.findDocumentColors=function(e,t,r){return this.schemaService.getSchemaForResource(e.uri,t).then((function(n){var o=[];if(n)for(var i=r&&"number"==typeof r.resultLimit?r.resultLimit:Number.MAX_VALUE,s={},a=0,c=t.getMatchingSchemas(n.schema);a<c.length;a++){var u=c[a];if(!u.inverted&&u.schema&&("color"===u.schema.format||"color-hex"===u.schema.format)&&u.node&&"string"===u.node.type){var l=String(u.node.offset);if(!s[l]){var p=Ne(I(u.node));if(p){var f=we(e,u.node);o.push({color:p,range:f})}if(s[l]=!0,--i<=0)return r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(e.uri),o}}}return o}))},e.prototype.getColorPresentations=function(e,t,r,n){var o,i=[],s=Math.round(255*r.red),a=Math.round(255*r.green),c=Math.round(255*r.blue);function u(e){var t=e.toString(16);return 2!==t.length?"0"+t:t}return o=1===r.alpha?"#"+u(s)+u(a)+u(c):"#"+u(s)+u(a)+u(c)+u(Math.round(255*r.alpha)),i.push({label:o,textEdit:p.TextEdit.replace(n,JSON.stringify(o))}),i},e}();function we(e,t){return p.Range.create(e.positionAt(t.offset),e.positionAt(t.offset+t.length))}var qe=b.loadMessageBundle(),_e={schemaAssociations:{},schemas:{"http://json-schema.org/draft-04/schema#":{title:qe("schema.json","Describes a JSON file using a schema. See json-schema.org for more info."),$schema:"http://json-schema.org/draft-04/schema#",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{type:"string",enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minLength:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minItems:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},uniqueItems:{type:"boolean",default:!1},maxProperties:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minProperties:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},required:{allOf:[{$ref:"#/definitions/stringArray"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{anyOf:[{type:"string",enum:["date-time","uri","email","hostname","ipv4","ipv6","regex"]},{type:"string"}]},allOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},anyOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},oneOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},not:{allOf:[{$ref:"#"}]}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}},"http://json-schema.org/draft-07/schema#":{title:qe("schema.json","Describes a JSON file using a schema. See json-schema.org for more info."),definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}},Ae={id:qe("schema.json.id","A unique identifier for the schema."),$schema:qe("schema.json.$schema","The schema to verify this document against."),title:qe("schema.json.title","A descriptive title of the element."),description:qe("schema.json.description","A long description of the element. Used in hover menus and suggestions."),default:qe("schema.json.default","A default value. Used by suggestions."),multipleOf:qe("schema.json.multipleOf","A number that should cleanly divide the current value (i.e. have no remainder)."),maximum:qe("schema.json.maximum","The maximum numerical value, inclusive by default."),exclusiveMaximum:qe("schema.json.exclusiveMaximum","Makes the maximum property exclusive."),minimum:qe("schema.json.minimum","The minimum numerical value, inclusive by default."),exclusiveMinimum:qe("schema.json.exclusiveMininum","Makes the minimum property exclusive."),maxLength:qe("schema.json.maxLength","The maximum length of a string."),minLength:qe("schema.json.minLength","The minimum length of a string."),pattern:qe("schema.json.pattern","A regular expression to match the string against. It is not implicitly anchored."),additionalItems:qe("schema.json.additionalItems","For arrays, only when items is set as an array. If it is a schema, then this schema validates items after the ones specified by the items array. If it is false, then additional items will cause validation to fail."),items:qe("schema.json.items","For arrays. Can either be a schema to validate every element against or an array of schemas to validate each item against in order (the first schema will validate the first element, the second schema will validate the second element, and so on."),maxItems:qe("schema.json.maxItems","The maximum number of items that can be inside an array. Inclusive."),minItems:qe("schema.json.minItems","The minimum number of items that can be inside an array. Inclusive."),uniqueItems:qe("schema.json.uniqueItems","If all of the items in the array must be unique. Defaults to false."),maxProperties:qe("schema.json.maxProperties","The maximum number of properties an object can have. Inclusive."),minProperties:qe("schema.json.minProperties","The minimum number of properties an object can have. Inclusive."),required:qe("schema.json.required","An array of strings that lists the names of all properties required on this object."),additionalProperties:qe("schema.json.additionalProperties","Either a schema or a boolean. If a schema, then used to validate all properties not matched by 'properties' or 'patternProperties'. If false, then any properties not matched by either will cause this schema to fail."),definitions:qe("schema.json.definitions","Not used for validation. Place subschemas here that you wish to reference inline with $ref."),properties:qe("schema.json.properties","A map of property names to schemas for each property."),patternProperties:qe("schema.json.patternProperties","A map of regular expressions on property names to schemas for matching properties."),dependencies:qe("schema.json.dependencies","A map of property names to either an array of property names or a schema. An array of property names means the property named in the key depends on the properties in the array being present in the object in order to be valid. If the value is a schema, then the schema is only applied to the object if the property in the key exists on the object."),enum:qe("schema.json.enum","The set of literal values that are valid."),type:qe("schema.json.type","Either a string of one of the basic schema types (number, integer, null, array, object, boolean, string) or an array of strings specifying a subset of those types."),format:qe("schema.json.format","Describes the format expected for the value."),allOf:qe("schema.json.allOf","An array of schemas, all of which must match."),anyOf:qe("schema.json.anyOf","An array of schemas, where at least one must match."),oneOf:qe("schema.json.oneOf","An array of schemas, exactly one of which must match."),not:qe("schema.json.not","A schema which must not match."),$id:qe("schema.json.$id","A unique identifier for the schema."),$ref:qe("schema.json.$ref","Reference a definition hosted on any location."),$comment:qe("schema.json.$comment","Comments from schema authors to readers or maintainers of the schema."),readOnly:qe("schema.json.readOnly","Indicates that the value of the instance is managed exclusively by the owning authority."),examples:qe("schema.json.examples","Sample JSON values associated with a particular schema, for the purpose of illustrating usage."),contains:qe("schema.json.contains",'An array instance is valid against "contains" if at least one of its elements is valid against the given schema.'),propertyNames:qe("schema.json.propertyNames","If the instance is an object, this keyword validates if every property name in the instance validates against the provided schema."),const:qe("schema.json.const","An instance validates successfully against this keyword if its value is equal to the value of the keyword."),contentMediaType:qe("schema.json.contentMediaType","Describes the media type of a string property."),contentEncoding:qe("schema.json.contentEncoding","Describes the content encoding of a string property."),if:qe("schema.json.if",'The validation outcome of the "if" subschema controls which of the "then" or "else" keywords are evaluated.'),then:qe("schema.json.then",'The "if" subschema is used for validation when the "if" subschema succeeds.'),else:qe("schema.json.else",'The "else" subschema is used for validation when the "if" subschema fails.')};for(var De in _e.schemas){var Ie=_e.schemas[De];for(var $e in Ie.properties){var je=Ie.properties[$e];!0===je&&(je=Ie.properties[$e]={});var Me=Ae[$e];Me?je.description=Me:console.log($e+": localize('schema.json."+$e+'\', "")')}}function Ve(e,t){var r=[],o=[],i=[],s=-1,a=Object(n.createScanner)(e.getText(),!1),c=a.scan();function u(e){r.push(e),o.push(i.length)}for(;17!==c;){switch(c){case 1:case 3:var l={startLine:h=e.positionAt(a.getTokenOffset()).line,endLine:h,kind:1===c?"object":"array"};i.push(l);break;case 2:case 4:var f=2===c?"object":"array";if(i.length>0&&i[i.length-1].kind===f){l=i.pop();var d=e.positionAt(a.getTokenOffset()).line;l&&d>l.startLine+1&&s!==l.startLine&&(l.endLine=d-1,u(l),s=l.startLine)}break;case 13:var h=e.positionAt(a.getTokenOffset()).line,m=e.positionAt(a.getTokenOffset()+a.getTokenLength()).line;1===a.getTokenError()&&h+1<e.lineCount?a.setPosition(e.offsetAt(p.Position.create(h+1,0))):h<m&&(u({startLine:h,endLine:m,kind:p.FoldingRangeKind.Comment}),s=h);break;case 12:var g=e.getText().substr(a.getTokenOffset(),a.getTokenLength()).match(/^\/\/\s*#(region\b)|(endregion\b)/);if(g){d=e.positionAt(a.getTokenOffset()).line;if(g[1]){l={startLine:d,endLine:d,kind:p.FoldingRangeKind.Region};i.push(l)}else{for(var y=i.length-1;y>=0&&i[y].kind!==p.FoldingRangeKind.Region;)y--;if(y>=0){l=i[y];i.length=y,d>l.startLine&&s!==l.startLine&&(l.endLine=d,u(l),s=l.startLine)}}}}c=a.scan()}var v=t&&t.rangeLimit;if("number"!=typeof v||r.length<=v)return r;t&&t.onRangeLimitExceeded&&t.onRangeLimitExceeded(e.uri);for(var b=[],S=0,C=o;S<C.length;S++){(R=C[S])<30&&(b[R]=(b[R]||0)+1)}var O=0,T=0;for(y=0;y<b.length;y++){var P=b[y];if(P){if(P+O>v){T=y;break}O+=P}}var x=[];for(y=0;y<r.length;y++){var R;"number"==typeof(R=o[y])&&(R<T||R===T&&O++<v)&&x.push(r[y])}return x}function Le(e,t,r){function o(t,r){return p.Range.create(e.positionAt(t),e.positionAt(r))}var i=Object(n.createScanner)(e.getText(),!0);function s(e,t){return i.setPosition(e),i.scan()===t?i.getTokenOffset()+i.getTokenLength():-1}return t.map((function(t){for(var n=e.offsetAt(t),i=r.getNodeFromOffset(n,!0),a=[];i;){switch(i.type){case"string":case"object":case"array":var c=i.offset+1,u=i.offset+i.length-1;c<u&&n>=c&&n<=u&&a.push(o(c,u)),a.push(o(i.offset,i.offset+i.length));break;case"number":case"boolean":case"null":case"property":a.push(o(i.offset,i.offset+i.length))}if("property"===i.type||i.parent&&"array"===i.parent.type){var l=s(i.offset+i.length,5);-1!==l&&a.push(o(i.offset,l))}i=i.parent}for(var f=void 0,d=a.length-1;d>=0;d--)f=p.SelectionRange.create(a[d],f);return f||(f=p.SelectionRange.create(p.Range.create(t,t))),f}))}function Fe(e){var t=e.promiseConstructor||Promise,r=new be(e.schemaRequestService,e.workspaceContext,t);r.setSchemaContributions(_e);var o=new H(r,e.contributions,t,e.clientCapabilities),i=new B(r,e.contributions,t),s=new Ee(r),a=new Oe(r,t);return{configure:function(e){r.clearExternalSchemas(),e.schemas&&e.schemas.forEach((function(e){r.registerExternalSchema(e.uri,e.fileMatch,e.schema)})),a.configure(e)},resetSchema:function(e){return r.onResourceChange(e)},doValidation:a.doValidation.bind(a),parseJSONDocument:function(e){return L(e,{collectComments:!0})},newJSONDocument:function(e,t){return function(e,t){return void 0===t&&(t=[]),new M(e,t,[])}(e,t)},doResolve:o.doResolve.bind(o),doComplete:o.doComplete.bind(o),findDocumentSymbols:s.findDocumentSymbols.bind(s),findDocumentSymbols2:s.findDocumentSymbols2.bind(s),findColorSymbols:function(e,t){return s.findDocumentColors(e,t).then((function(e){return e.map((function(e){return e.range}))}))},findDocumentColors:s.findDocumentColors.bind(s),getColorPresentations:s.getColorPresentations.bind(s),doHover:i.doHover.bind(i),getFoldingRanges:Ve,getSelectionRanges:Le,format:function(e,t,r){var o=void 0;if(t){var i=e.offsetAt(t.start);o={offset:i,length:e.offsetAt(t.end)-i}}var s={tabSize:r?r.tabSize:4,insertSpaces:!r||r.insertSpaces,eol:"\n"};return Object(n.format)(e.getText(),o,s).map((function(t){return p.TextEdit.replace(p.Range.create(e.positionAt(t.offset),e.positionAt(t.offset+t.length)),t.content)}))}}}},55:function(e,t){e.exports=require("url")},597:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(23);t.Event=n.Event;const o=r(1947),i=r(1948),s=r(1949),a=r(598),c=r(599);!function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(23));const u=r(1950);!function(e){e.uriToFilePath=u.uriToFilePath,e.resolveGlobalNodePath=u.resolveGlobalNodePath,e.resolveGlobalYarnPath=u.resolveGlobalYarnPath,e.resolve=u.resolve,e.resolveModulePath=u.resolveModulePath}(t.Files||(t.Files={}));let l=!1,p=void 0;function f(e){if(null!==e)return e}!function(){const e="--clientProcessId";function t(e){try{let t=parseInt(e);isNaN(t)||(p=setInterval((()=>{try{process.kill(t,0)}catch(e){process.exit(l?0:1)}}),3e3))}catch(e){}}for(let r=2;r<process.argv.length;r++){let n=process.argv[r];if(n===e&&r+1<process.argv.length)return void t(process.argv[r+1]);{let r=n.split("=");r[0]===e&&t(r[1])}}}();t.TextDocuments=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new n.Emitter,this._onDidOpen=new n.Emitter,this._onDidClose=new n.Emitter,this._onDidSave=new n.Emitter,this._onWillSave=new n.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map((e=>this._documents[e]))}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=n.TextDocumentSyncKind.Full,e.onDidOpenTextDocument((e=>{let t=e.textDocument,r=this._configuration.create(t.uri,t.languageId,t.version,t.text);this._documents[t.uri]=r;let n=Object.freeze({document:r});this._onDidOpen.fire(n),this._onDidChangeContent.fire(n)})),e.onDidChangeTextDocument((e=>{let t=e.textDocument,r=e.contentChanges;if(0===r.length)return;let n=this._documents[t.uri];const{version:o}=t;if(null==o)throw new Error(`Received document change event for ${t.uri} without valid version identifier`);n=this._configuration.update(n,r,o),this._documents[t.uri]=n,this._onDidChangeContent.fire(Object.freeze({document:n}))})),e.onDidCloseTextDocument((e=>{let t=this._documents[e.textDocument.uri];t&&(delete this._documents[e.textDocument.uri],this._onDidClose.fire(Object.freeze({document:t})))})),e.onWillSaveTextDocument((e=>{let t=this._documents[e.textDocument.uri];t&&this._onWillSave.fire(Object.freeze({document:t,reason:e.reason}))})),e.onWillSaveTextDocumentWaitUntil(((e,t)=>{let r=this._documents[e.textDocument.uri];return r&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:r,reason:e.reason}),t):[]})),e.onDidSaveTextDocument((e=>{let t=this._documents[e.textDocument.uri];t&&this._onDidSave.fire(Object.freeze({document:t}))}))}};t.ErrorMessageTracker=class{constructor(){this._messages=Object.create(null)}add(e){let t=this._messages[e];t||(t=0),t++,this._messages[e]=t}sendErrors(e){Object.keys(this._messages).forEach((t=>{e.window.showErrorMessage(t)}))}};class d{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(n.MessageType.Error,e)}warn(e){this.send(n.MessageType.Warning,e)}info(e){this.send(n.MessageType.Info,e)}log(e){this.send(n.MessageType.Log,e)}send(e,t){this._rawConnection&&this._rawConnection.sendNotification(n.LogMessageNotification.type,{type:e,message:t})}}const h=s.ProgressFeature(class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...t){let r={type:n.MessageType.Error,message:e,actions:t};return this._connection.sendRequest(n.ShowMessageRequest.type,r).then(f)}showWarningMessage(e,...t){let r={type:n.MessageType.Warning,message:e,actions:t};return this._connection.sendRequest(n.ShowMessageRequest.type,r).then(f)}showInformationMessage(e,...t){let r={type:n.MessageType.Info,message:e,actions:t};return this._connection.sendRequest(n.ShowMessageRequest.type,r).then(f)}});!function(e){e.create=function(){return new m}}(t.BulkRegistration||(t.BulkRegistration={}));class m{constructor(){this._registrations=[],this._registered=new Set}add(e,t){const r=a.string(e)?e:e.method;if(this._registered.has(r))throw new Error(r+" is already added to this registration");const n=c.generateUuid();this._registrations.push({id:n,method:r,registerOptions:t||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}}!function(e){e.create=function(){return new g(void 0,[])}}(t.BulkUnregistration||(t.BulkUnregistration={}));class g{constructor(e,t){this._connection=e,this._unregistrations=new Map,t.forEach((e=>{this._unregistrations.set(e.method,e)}))}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let t of this._unregistrations.values())e.push(t);let t={unregisterations:e};this._connection.sendRequest(n.UnregistrationRequest.type,t).then(void 0,(e=>{this._connection.console.info("Bulk unregistration failed.")}))}disposeSingle(e){const t=a.string(e)?e:e.method,r=this._unregistrations.get(t);if(!r)return!1;let o={unregisterations:[r]};return this._connection.sendRequest(n.UnregistrationRequest.type,o).then((()=>{this._unregistrations.delete(t)}),(e=>{this._connection.console.info(`Unregistering request handler for ${r.id} failed.`)})),!0}}class y{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,t,r){return e instanceof m?this.registerMany(e):e instanceof g?this.registerSingle1(e,t,r):this.registerSingle2(e,t)}registerSingle1(e,t,r){const o=a.string(t)?t:t.method,i=c.generateUuid();let s={registrations:[{id:i,method:o,registerOptions:r||{}}]};return e.isAttached||e.attach(this._connection),this._connection.sendRequest(n.RegistrationRequest.type,s).then((t=>(e.add({id:i,method:o}),e)),(e=>(this.connection.console.info(`Registering request handler for ${o} failed.`),Promise.reject(e))))}registerSingle2(e,t){const r=a.string(e)?e:e.method,o=c.generateUuid();let i={registrations:[{id:o,method:r,registerOptions:t||{}}]};return this._connection.sendRequest(n.RegistrationRequest.type,i).then((e=>n.Disposable.create((()=>{this.unregisterSingle(o,r)}))),(e=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(e))))}unregisterSingle(e,t){let r={unregisterations:[{id:e,method:t}]};return this._connection.sendRequest(n.UnregistrationRequest.type,r).then(void 0,(t=>{this.connection.console.info(`Unregistering request handler for ${e} failed.`)}))}registerMany(e){let t=e.asRegistrationParams();return this._connection.sendRequest(n.RegistrationRequest.type,t).then((()=>new g(this._connection,t.registrations.map((e=>({id:e.id,method:e.method}))))),(e=>(this.connection.console.info("Bulk registration failed."),Promise.reject(e))))}}const v=i.WorkspaceFoldersFeature(o.ConfigurationFeature(class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){let t=(r=e)&&r.edit?e:{edit:e};var r;return this._connection.sendRequest(n.ApplyWorkspaceEditRequest.type,t)}}));class b{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this._connection.sendNotification(n.TelemetryEventNotification.type,e)}}class S{constructor(){this._trace=n.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,t){this._trace!==n.Trace.Off&&this._connection.sendNotification(n.LogTraceNotification.type,{message:e,verbose:this._trace===n.Trace.Verbose?t:void 0})}}class C{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return s.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,t){return s.attachPartialResult(this.connection,t)}}function O(e,t){return function(r){return t(e(r))}}function T(e,t){return function(r){return t(e(r))}}function P(e,t){return function(r){return t(e(r))}}function x(e,t){return function(r){return t(e(r))}}function R(e,t){return function(r){return t(e(r))}}function k(e,t){return function(r){return t(e(r))}}function N(e,t){return function(r){return t(e(r))}}t.LanguagesImpl=C,t.combineConsoleFeatures=O,t.combineTelemetryFeatures=T,t.combineTracerFeatures=P,t.combineClientFeatures=x,t.combineWindowFeatures=R,t.combineWorkspaceFeatures=k,t.combineLanguagesFeatures=N,t.combineFeatures=function(e,t){function r(e,t,r){return e&&t?r(e,t):e||t}return{__brand:"features",console:r(e.console,t.console,O),tracer:r(e.tracer,t.tracer,P),telemetry:r(e.telemetry,t.telemetry,T),client:r(e.client,t.client,x),window:r(e.window,t.window,R),workspace:r(e.workspace,t.workspace,k)}},t.createConnection=function(e,t,r,o){let i,c,u,f;return void 0!==e&&"features"===e.__brand&&(i=e,e=t,t=r,r=o),n.ConnectionStrategy.is(e)?f=e:(c=e,u=t,f=r),function(e,t,r,o){if(!e&&!t&&process.argv.length>2){let r=void 0,o=void 0,s=process.argv.slice(2);for(let a=0;a<s.length;a++){let c=s[a];if("--node-ipc"===c){e=new n.IPCMessageReader(process),t=new n.IPCMessageWriter(process);break}if("--stdio"===c){e=process.stdin,t=process.stdout;break}if("--socket"===c){r=parseInt(s[a+1]);break}if("--pipe"===c){o=s[a+1];break}var i=c.split("=");if("--socket"===i[0]){r=parseInt(i[1]);break}if("--pipe"===i[0]){o=i[1];break}}if(r){let o=n.createServerSocketTransport(r);e=o[0],t=o[1]}else if(o){let r=n.createServerPipeTransport(o);e=r[0],t=r[1]}}var c="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+c);if(!t)throw new Error("Connection output stream is not set. "+c);if(a.func(e.read)&&a.func(e.on)){let t=e;t.on("end",(()=>{process.exit(l?0:1)})),t.on("close",(()=>{process.exit(l?0:1)}))}const u=o&&o.console?new(o.console(d)):new d,f=n.createProtocolConnection(e,t,u,r);u.rawAttach(f);const m=o&&o.tracer?new(o.tracer(S)):new S,g=o&&o.telemetry?new(o.telemetry(b)):new b,O=o&&o.client?new(o.client(y)):new y,T=o&&o.window?new(o.window(h)):new h,P=o&&o.workspace?new(o.workspace(v)):new v,x=o&&o.languages?new(o.languages(C)):new C,R=[u,m,g,O,T,P,x];function k(e){return e instanceof Promise?e:a.thenable(e)?new Promise(((t,r)=>{e.then((e=>t(e)),(e=>r(e)))})):Promise.resolve(e)}let N=void 0,E=void 0,w=void 0,q={listen:()=>f.listen(),sendRequest:(e,...t)=>f.sendRequest(a.string(e)?e:e.method,...t),onRequest:(e,t)=>f.onRequest(e,t),sendNotification:(e,t)=>{const r=a.string(e)?e:e.method;1===arguments.length?f.sendNotification(r):f.sendNotification(r,t)},onNotification:(e,t)=>f.onNotification(e,t),onProgress:f.onProgress,sendProgress:f.sendProgress,onInitialize:e=>E=e,onInitialized:e=>f.onNotification(n.InitializedNotification.type,e),onShutdown:e=>N=e,onExit:e=>w=e,get console(){return u},get telemetry(){return g},get tracer(){return m},get client(){return O},get window(){return T},get workspace(){return P},get languages(){return x},onDidChangeConfiguration:e=>f.onNotification(n.DidChangeConfigurationNotification.type,e),onDidChangeWatchedFiles:e=>f.onNotification(n.DidChangeWatchedFilesNotification.type,e),__textDocumentSync:void 0,onDidOpenTextDocument:e=>f.onNotification(n.DidOpenTextDocumentNotification.type,e),onDidChangeTextDocument:e=>f.onNotification(n.DidChangeTextDocumentNotification.type,e),onDidCloseTextDocument:e=>f.onNotification(n.DidCloseTextDocumentNotification.type,e),onWillSaveTextDocument:e=>f.onNotification(n.WillSaveTextDocumentNotification.type,e),onWillSaveTextDocumentWaitUntil:e=>f.onRequest(n.WillSaveTextDocumentWaitUntilRequest.type,e),onDidSaveTextDocument:e=>f.onNotification(n.DidSaveTextDocumentNotification.type,e),sendDiagnostics:e=>f.sendNotification(n.PublishDiagnosticsNotification.type,e),onHover:e=>f.onRequest(n.HoverRequest.type,((t,r)=>e(t,r,s.attachWorkDone(f,t),void 0))),onCompletion:e=>f.onRequest(n.CompletionRequest.type,((t,r)=>e(t,r,s.attachWorkDone(f,t),s.attachPartialResult(f,t)))),onCompletionResolve:e=>f.onRequest(n.CompletionResolveRequest.type,e),onSignatureHelp:e=>f.onRequest(n.SignatureHelpRequest.type,((t,r)=>e(t,r,s.attachWorkDone(f,t),void 0))),onDeclaration:e=>f.onRequest(n.DeclarationRequest.type,((t,r)=>e(t,r,s.attachWorkDone(f,t),s.attachPartialResult(f,t)))),onDefinition:e=>f.onRequest(n.DefinitionRequest.type,((t,r)=>e(t,r,s.attachWorkDone(f,t),s.attachPartialResult(f,t)))),onTypeDefinition:e=>f.onRequest(n.TypeDefinitionRequest.type,((t,r)=>e(t,r,s.attachWorkDone(f,t),s.attachPartialResult(f,t)))),onImplementation:e=>f.onRequest(n.ImplementationRequest.type,((t,r)=>e(t,r,s.attachWorkDone(f,t),s.attachPartialResult(f,t)))),onReferences:e=>f.onRequest(n.ReferencesRequest.type,((t,r)=>e(t,r,s.attachWorkDone(f,t),s.attachPartialResult(f,t)))),onDocumentHighlight:e=>f.onRequest(n.DocumentHighlightRequest.type,((t,r)=>e(t,r,s.attachWorkDone(f,t),s.attachPartialResult(f,t)))),onDocumentSymbol:e=>f.onRequest(n.DocumentSymbolRequest.type,((t,r)=>e(t,r,s.attachWorkDone(f,t),s.attachPartialResult(f,t)))),onWorkspaceSymbol:e=>f.onRequest(n.WorkspaceSymbolRequest.type,((t,r)=>e(t,r,s.attachWorkDone(f,t),s.attachPartialResult(f,t)))),onCodeAction:e=>f.onRequest(n.CodeActionRequest.type,((t,r)=>e(t,r,s.attachWorkDone(f,t),s.attachPartialResult(f,t)))),onCodeLens:e=>f.onRequest(n.CodeLensRequest.type,((t,r)=>e(t,r,s.attachWorkDone(f,t),s.attachPartialResult(f,t)))),onCodeLensResolve:e=>f.onRequest(n.CodeLensResolveRequest.type,((t,r)=>e(t,r))),onDocumentFormatting:e=>f.onRequest(n.DocumentFormattingRequest.type,((t,r)=>e(t,r,s.attachWorkDone(f,t),void 0))),onDocumentRangeFormatting:e=>f.onRequest(n.DocumentRangeFormattingRequest.type,((t,r)=>e(t,r,s.attachWorkDone(f,t),void 0))),onDocumentOnTypeFormatting:e=>f.onRequest(n.DocumentOnTypeFormattingRequest.type,((t,r)=>e(t,r))),onRenameRequest:e=>f.onRequest(n.RenameRequest.type,((t,r)=>e(t,r,s.attachWorkDone(f,t),void 0))),onPrepareRename:e=>f.onRequest(n.PrepareRenameRequest.type,((t,r)=>e(t,r))),onDocumentLinks:e=>f.onRequest(n.DocumentLinkRequest.type,((t,r)=>e(t,r,s.attachWorkDone(f,t),s.attachPartialResult(f,t)))),onDocumentLinkResolve:e=>f.onRequest(n.DocumentLinkResolveRequest.type,((t,r)=>e(t,r))),onDocumentColor:e=>f.onRequest(n.DocumentColorRequest.type,((t,r)=>e(t,r,s.attachWorkDone(f,t),s.attachPartialResult(f,t)))),onColorPresentation:e=>f.onRequest(n.ColorPresentationRequest.type,((t,r)=>e(t,r,s.attachWorkDone(f,t),s.attachPartialResult(f,t)))),onFoldingRanges:e=>f.onRequest(n.FoldingRangeRequest.type,((t,r)=>e(t,r,s.attachWorkDone(f,t),s.attachPartialResult(f,t)))),onSelectionRanges:e=>f.onRequest(n.SelectionRangeRequest.type,((t,r)=>e(t,r,s.attachWorkDone(f,t),s.attachPartialResult(f,t)))),onExecuteCommand:e=>f.onRequest(n.ExecuteCommandRequest.type,((t,r)=>e(t,r,s.attachWorkDone(f,t),void 0))),dispose:()=>f.dispose()};for(let e of R)e.attach(q);return f.onRequest(n.InitializeRequest.type,(e=>{const t=e.processId;a.number(t)&&void 0===p&&setInterval((()=>{try{process.kill(t,0)}catch(e){process.exit(l?0:1)}}),3e3),a.string(e.trace)&&(m.trace=n.Trace.fromString(e.trace));for(let t of R)t.initialize(e.capabilities);if(E){return k(E(e,(new n.CancellationTokenSource).token,s.attachWorkDone(f,e),void 0)).then((e=>{if(e instanceof n.ResponseError)return e;let t=e;t||(t={capabilities:{}});let r=t.capabilities;r||(r={},t.capabilities=r),void 0===r.textDocumentSync||null===r.textDocumentSync?r.textDocumentSync=a.number(q.__textDocumentSync)?q.__textDocumentSync:n.TextDocumentSyncKind.None:a.number(r.textDocumentSync)||a.number(r.textDocumentSync.change)||(r.textDocumentSync.change=a.number(q.__textDocumentSync)?q.__textDocumentSync:n.TextDocumentSyncKind.None);for(let e of R)e.fillServerCapabilities(r);return t}))}{let e={capabilities:{textDocumentSync:n.TextDocumentSyncKind.None}};for(let t of R)t.fillServerCapabilities(e.capabilities);return e}})),f.onRequest(n.ShutdownRequest.type,(()=>(l=!0,N?N((new n.CancellationTokenSource).token):void 0))),f.onNotification(n.ExitNotification.type,(()=>{try{w&&w()}finally{l?process.exit(0):process.exit(1)}})),f.onNotification(n.SetTraceNotification.type,(e=>{m.trace=n.Trace.fromString(e.value)})),q}(c,u,f,i)};const E=r(1951),w=r(1952);!function(e){e.all={__brand:"features",languages:N(E.CallHierarchyFeature,w.SemanticTokensFeature)},e.SemanticTokensBuilder=w.SemanticTokensBuilder}(t.ProposedFeatures||(t.ProposedFeatures={}))},598:function(e,t,r){"use strict";function n(e){return"string"==typeof e||e instanceof String}function o(e){return"function"==typeof e}function i(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=o,t.array=i,t.stringArray=function(e){return i(e)&&e.every((e=>n(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=function(e){return e&&o(e.then)}},599:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class o extends n{constructor(){super([o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),"-",o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),"-","4",o._randomHex(),o._randomHex(),o._randomHex(),"-",o._oneOf(o._timeHighBits),o._randomHex(),o._randomHex(),o._randomHex(),"-",o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return o._oneOf(o._chars)}}function i(){return new o}o._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],o._timeHighBits=["8","9","a","b"],t.empty=new n("00000000-0000-0000-0000-000000000000"),t.v4=i;const s=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function a(e){return s.test(e)}t.isUUID=a,t.parse=function(e){if(!a(e))throw new Error("invalid uuid");return new n(e)},t.generateUuid=function(){return i().asHex()}},6:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,i,s,a,c,u=r(2),l=r(14),p=Object.prototype.toString;function f(e){return void 0!==e}function d(e){return"[object Number]"===p.call(e)}function h(e){return"[object String]"===p.call(e)}function m(e){return JSON.parse(l.readFileSync(e,"utf8"))}function g(e,t){return c&&(e="ï¼»"+e.replace(/[aouei]/g,"$&$&")+"ï¼½"),0===t.length?e:e.replace(/\{(\d+)\}/g,(function(e,r){var n=r[0],o=t[n],i=e;return"string"==typeof o?i=o:"number"!=typeof o&&"boolean"!=typeof o&&null!=o||(i=String(o)),i}))}function y(e){return function(t,r){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return d(t)?t>=e.length?void console.error("Broken localize call found. Index out of bounds. Stacktrace is\n: "+new Error("").stack):g(e[t],n):h(r)?(console.warn("Message "+r+" didn't get externalized correctly."),g(r,n)):void console.error("Broken localize call found. Stacktrace is\n: "+new Error("").stack)}}function v(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return g(t,r)}function b(e,t){return s[e]=t,t}function S(e,t){var r,n,o,i=u.join(a.cacheRoot,e.id+"-"+e.hash+".json"),s=!1,c=!1;try{return r=JSON.parse(l.readFileSync(i,{encoding:"utf8",flag:"r"})),n=i,o=new Date,l.utimes(n,o,o,(function(){})),r}catch(e){if("ENOENT"===e.code)c=!0;else{if(!(e instanceof SyntaxError))throw e;console.log("Syntax error parsing message bundle: "+e.message+"."),l.unlink(i,(function(e){e&&console.error("Deleting corrupted bundle "+i+" failed.")})),s=!0}}if(!(r=function(e,t){var r=a.translationsConfig[e.id];if(r){var n=m(r).contents,o=m(u.join(t,"nls.metadata.json")),i=Object.create(null);for(var s in o){var c=o[s],l=n[e.outDir+"/"+s];if(l){for(var p=[],f=0;f<c.keys.length;f++){var d=c.keys[f],g=l[h(d)?d:d.key];void 0===g&&(g=c.messages[f]),p.push(g)}i[s]=p}else i[s]=c.messages}return i}}(e,t))||s)return r;if(c)try{l.writeFileSync(i,JSON.stringify(r),{encoding:"utf8",flag:"wx"})}catch(e){if("EEXIST"===e.code)return r;throw e}return r}function C(e){try{return function(e){var t=m(u.join(e,"nls.metadata.json")),r=Object.create(null);for(var n in t){var o=t[n];r[n]=o.messages}return r}(e)}catch(e){return void console.log("Generating default bundle from meta data failed.",e)}}function O(e,t){var r;if(!0===a.languagePackSupport&&void 0!==a.cacheRoot&&void 0!==a.languagePackId&&void 0!==a.translationsConfigFile&&void 0!==a.translationsConfig)try{r=S(e,t)}catch(e){console.log("Load or create bundle failed ",e)}if(!r){if(a.languagePackSupport)return C(t);var n=function(e){for(var t=a.language;t;){var r=u.join(e,"nls.bundle."+t+".json");if(l.existsSync(r))return r;var n=t.lastIndexOf("-");t=n>0?t.substring(0,n):void 0}if(void 0===t&&(r=u.join(e,"nls.bundle.json"),l.existsSync(r)))return r}(t);if(n)try{return m(n)}catch(e){console.log("Loading in the box message bundle failed.",e)}r=C(t)}return r}function T(e){if(!e)return v;var t=u.extname(e);if(t&&(e=e.substr(0,e.length-t.length)),a.messageFormat===n.both||a.messageFormat===n.bundle){var r=function(e){for(var t,r=u.dirname(e);t=u.join(r,"nls.metadata.header.json"),!l.existsSync(t);){var n=u.dirname(r);if(n===r){t=void 0;break}r=n}return t}(e);if(r){var o=u.dirname(r),i=s[o];if(void 0===i)try{var p=JSON.parse(l.readFileSync(r,"utf8"));try{var d=O(p,o);i=b(o,d?{header:p,nlsBundle:d}:null)}catch(e){console.error("Failed to load nls bundle",e),i=b(o,null)}}catch(e){console.error("Failed to read header file",e),i=b(o,null)}if(i){var h=e.substr(o.length+1).replace(/\\/g,"/"),g=i.nlsBundle[h];return void 0===g?(console.error("Messages for file "+e+" not found. See console for details."),function(){return"Messages not found."}):y(g)}}}if(a.messageFormat===n.both||a.messageFormat===n.file)try{var S=m(function(e){var t;if(a.cacheLanguageResolution&&t)t=t;else{if(c||!a.language)t=".nls.json";else for(var r=a.language;r;){var n=".nls."+r+".json";if(l.existsSync(e+n)){t=n;break}var o=r.lastIndexOf("-");o>0?r=r.substring(0,o):(t=".nls.json",r=null)}a.cacheLanguageResolution&&(t=t)}return e+t}(e));return Array.isArray(S)?y(S):f(S.messages)&&f(S.keys)?y(S.messages):(console.error("String bundle '"+e+"' uses an unsupported format."),function(){return"File bundle has unsupported format. See console for details"})}catch(e){"ENOENT"!==e.code&&console.error("Failed to load single file bundle",e)}return console.error("Failed to load message bundle for file "+e),function(){return"Failed to load message bundle. See console for details."}}!function(e){e.file="file",e.bundle="bundle",e.both="both"}(n=t.MessageFormat||(t.MessageFormat={})),function(e){e.standalone="standalone",e.languagePack="languagePack"}(o=t.BundleFormat||(t.BundleFormat={})),function(e){e.is=function(e){var t=e;return t&&f(t.key)&&f(t.comment)}}(i||(i={})),function(){if(a={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:n.bundle},h(process.env.VSCODE_NLS_CONFIG))try{var e=JSON.parse(process.env.VSCODE_NLS_CONFIG),t=void 0;if(e.availableLanguages){var r=e.availableLanguages["*"];h(r)&&(t=r)}if(h(e.locale)&&(a.locale=e.locale.toLowerCase()),void 0===t?a.language=a.locale:"en"!==t&&(a.language=t),function(e){return!0===e||!1===e}(e._languagePackSupport)&&(a.languagePackSupport=e._languagePackSupport),h(e._cacheRoot)&&(a.cacheRoot=e._cacheRoot),h(e._languagePackId)&&(a.languagePackId=e._languagePackId),h(e._translationsConfigFile)){a.translationsConfigFile=e._translationsConfigFile;try{a.translationsConfig=m(a.translationsConfigFile)}catch(t){if(e._corruptedFile){var o=u.dirname(e._corruptedFile);l.exists(o,(function(t){t&&l.writeFile(e._corruptedFile,"corrupted","utf8",(function(e){console.error(e)}))}))}}}}catch(e){}c="pseudo"===a.locale,void 0,s=Object.create(null)}(),t.loadMessageBundle=T,t.config=function(e){return e&&(h(e.locale)&&(a.locale=e.locale.toLowerCase(),a.language=a.locale,void 0,s=Object.create(null)),void 0!==e.messageFormat&&(a.messageFormat=e.messageFormat),e.bundleFormat===o.standalone&&!0===a.languagePackSupport&&(a.languagePackSupport=!1)),c="pseudo"===a.locale,T}},60:function(e,t){e.exports=require("net")},61:function(e,t,r){"use strict";function n(e){return"string"==typeof e||e instanceof String}function o(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=o,t.stringArray=function(e){return o(e)&&e.every((e=>n(e)))}},73:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.create=function(e){return{dispose:e}}}(t.Disposable||(t.Disposable={})),function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class n{add(e,t=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(this._callbacks){for(var r=!1,n=0,o=this._callbacks.length;n<o;n++)if(this._callbacks[n]===e){if(this._contexts[n]===t)return this._callbacks.splice(n,1),void this._contexts.splice(n,1);r=!0}if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...e){if(!this._callbacks)return[];for(var t=[],r=this._callbacks.slice(0),n=this._contexts.slice(0),o=0,i=r.length;o<i;o++)try{t.push(r[o].apply(n[o],e))}catch(e){console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class o{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,r)=>{let i;return this._callbacks||(this._callbacks=new n),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t),i={dispose:()=>{this._callbacks.remove(e,t),i.dispose=o._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}t.Emitter=o,o._noop=function(){}},8:function(e,t,r){"use strict";var n,o,i,s,a,c,u,l,p,f,d,h,m,g,y,v,b,S,C,O;r.r(t),r.d(t,"Position",(function(){return n})),r.d(t,"Range",(function(){return o})),r.d(t,"Location",(function(){return i})),r.d(t,"LocationLink",(function(){return s})),r.d(t,"Color",(function(){return a})),r.d(t,"ColorInformation",(function(){return c})),r.d(t,"ColorPresentation",(function(){return u})),r.d(t,"FoldingRangeKind",(function(){return l})),r.d(t,"FoldingRange",(function(){return p})),r.d(t,"DiagnosticRelatedInformation",(function(){return f})),r.d(t,"DiagnosticSeverity",(function(){return d})),r.d(t,"DiagnosticTag",(function(){return h})),r.d(t,"Diagnostic",(function(){return m})),r.d(t,"Command",(function(){return g})),r.d(t,"TextEdit",(function(){return y})),r.d(t,"TextDocumentEdit",(function(){return v})),r.d(t,"CreateFile",(function(){return b})),r.d(t,"RenameFile",(function(){return S})),r.d(t,"DeleteFile",(function(){return C})),r.d(t,"WorkspaceEdit",(function(){return O})),r.d(t,"WorkspaceChange",(function(){return Q})),r.d(t,"TextDocumentIdentifier",(function(){return T})),r.d(t,"VersionedTextDocumentIdentifier",(function(){return P})),r.d(t,"TextDocumentItem",(function(){return x})),r.d(t,"MarkupKind",(function(){return R})),r.d(t,"MarkupContent",(function(){return k})),r.d(t,"CompletionItemKind",(function(){return N})),r.d(t,"InsertTextFormat",(function(){return E})),r.d(t,"CompletionItemTag",(function(){return w})),r.d(t,"CompletionItem",(function(){return q})),r.d(t,"CompletionList",(function(){return _})),r.d(t,"MarkedString",(function(){return A})),r.d(t,"Hover",(function(){return D})),r.d(t,"ParameterInformation",(function(){return I})),r.d(t,"SignatureInformation",(function(){return $})),r.d(t,"DocumentHighlightKind",(function(){return j})),r.d(t,"DocumentHighlight",(function(){return M})),r.d(t,"SymbolKind",(function(){return V})),r.d(t,"SymbolTag",(function(){return L})),r.d(t,"SymbolInformation",(function(){return F})),r.d(t,"DocumentSymbol",(function(){return W})),r.d(t,"CodeActionKind",(function(){return U})),r.d(t,"CodeActionContext",(function(){return H})),r.d(t,"CodeAction",(function(){return B})),r.d(t,"CodeLens",(function(){return G})),r.d(t,"FormattingOptions",(function(){return J})),r.d(t,"DocumentLink",(function(){return z})),r.d(t,"SelectionRange",(function(){return K})),r.d(t,"EOL",(function(){return Z})),r.d(t,"TextDocument",(function(){return Y})),function(e){e.create=function(e,t){return{line:e,character:t}},e.is=function(e){var t=e;return ee.objectLiteral(t)&&ee.number(t.line)&&ee.number(t.character)}}(n||(n={})),function(e){e.create=function(e,t,r,o){if(ee.number(e)&&ee.number(t)&&ee.number(r)&&ee.number(o))return{start:n.create(e,t),end:n.create(r,o)};if(n.is(e)&&n.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+r+", "+o+"]")},e.is=function(e){var t=e;return ee.objectLiteral(t)&&n.is(t.start)&&n.is(t.end)}}(o||(o={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return ee.defined(t)&&o.is(t.range)&&(ee.string(t.uri)||ee.undefined(t.uri))}}(i||(i={})),function(e){e.create=function(e,t,r,n){return{targetUri:e,targetRange:t,targetSelectionRange:r,originSelectionRange:n}},e.is=function(e){var t=e;return ee.defined(t)&&o.is(t.targetRange)&&ee.string(t.targetUri)&&(o.is(t.targetSelectionRange)||ee.undefined(t.targetSelectionRange))&&(o.is(t.originSelectionRange)||ee.undefined(t.originSelectionRange))}}(s||(s={})),function(e){e.create=function(e,t,r,n){return{red:e,green:t,blue:r,alpha:n}},e.is=function(e){var t=e;return ee.number(t.red)&&ee.number(t.green)&&ee.number(t.blue)&&ee.number(t.alpha)}}(a||(a={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return o.is(t.range)&&a.is(t.color)}}(c||(c={})),function(e){e.create=function(e,t,r){return{label:e,textEdit:t,additionalTextEdits:r}},e.is=function(e){var t=e;return ee.string(t.label)&&(ee.undefined(t.textEdit)||y.is(t))&&(ee.undefined(t.additionalTextEdits)||ee.typedArray(t.additionalTextEdits,y.is))}}(u||(u={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(l||(l={})),function(e){e.create=function(e,t,r,n,o){var i={startLine:e,endLine:t};return ee.defined(r)&&(i.startCharacter=r),ee.defined(n)&&(i.endCharacter=n),ee.defined(o)&&(i.kind=o),i},e.is=function(e){var t=e;return ee.number(t.startLine)&&ee.number(t.startLine)&&(ee.undefined(t.startCharacter)||ee.number(t.startCharacter))&&(ee.undefined(t.endCharacter)||ee.number(t.endCharacter))&&(ee.undefined(t.kind)||ee.string(t.kind))}}(p||(p={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return ee.defined(t)&&i.is(t.location)&&ee.string(t.message)}}(f||(f={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(d||(d={})),function(e){e.Unnecessary=1,e.Deprecated=2}(h||(h={})),function(e){e.create=function(e,t,r,n,o,i){var s={range:e,message:t};return ee.defined(r)&&(s.severity=r),ee.defined(n)&&(s.code=n),ee.defined(o)&&(s.source=o),ee.defined(i)&&(s.relatedInformation=i),s},e.is=function(e){var t=e;return ee.defined(t)&&o.is(t.range)&&ee.string(t.message)&&(ee.number(t.severity)||ee.undefined(t.severity))&&(ee.number(t.code)||ee.string(t.code)||ee.undefined(t.code))&&(ee.string(t.source)||ee.undefined(t.source))&&(ee.undefined(t.relatedInformation)||ee.typedArray(t.relatedInformation,f.is))}}(m||(m={})),function(e){e.create=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o={title:e,command:t};return ee.defined(r)&&r.length>0&&(o.arguments=r),o},e.is=function(e){var t=e;return ee.defined(t)&&ee.string(t.title)&&ee.string(t.command)}}(g||(g={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return ee.objectLiteral(t)&&ee.string(t.newText)&&o.is(t.range)}}(y||(y={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return ee.defined(t)&&P.is(t.textDocument)&&Array.isArray(t.edits)}}(v||(v={})),function(e){e.create=function(e,t){var r={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(r.options=t),r},e.is=function(e){var t=e;return t&&"create"===t.kind&&ee.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||ee.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||ee.boolean(t.options.ignoreIfExists)))}}(b||(b={})),function(e){e.create=function(e,t,r){var n={kind:"rename",oldUri:e,newUri:t};return void 0===r||void 0===r.overwrite&&void 0===r.ignoreIfExists||(n.options=r),n},e.is=function(e){var t=e;return t&&"rename"===t.kind&&ee.string(t.oldUri)&&ee.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||ee.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||ee.boolean(t.options.ignoreIfExists)))}}(S||(S={})),function(e){e.create=function(e,t){var r={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(r.options=t),r},e.is=function(e){var t=e;return t&&"delete"===t.kind&&ee.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||ee.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||ee.boolean(t.options.ignoreIfNotExists)))}}(C||(C={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return ee.string(e.kind)?b.is(e)||S.is(e)||C.is(e):v.is(e)})))}}(O||(O={}));var T,P,x,R,k,N,E,w,q,_,A,D,I,$,j,M,V,L,F,W,U,H,B,G,J,z,K,X=function(){function e(e){this.edits=e}return e.prototype.insert=function(e,t){this.edits.push(y.insert(e,t))},e.prototype.replace=function(e,t){this.edits.push(y.replace(e,t))},e.prototype.delete=function(e){this.edits.push(y.del(e))},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e}(),Q=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),e&&(this._workspaceEdit=e,e.documentChanges?e.documentChanges.forEach((function(e){if(v.is(e)){var r=new X(e.edits);t._textEditChanges[e.textDocument.uri]=r}})):e.changes&&Object.keys(e.changes).forEach((function(r){var n=new X(e.changes[r]);t._textEditChanges[r]=n})))}return Object.defineProperty(e.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),e.prototype.getTextEditChange=function(e){if(P.is(e)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t=e;if(!(n=this._textEditChanges[t.uri])){var r={textDocument:t,edits:o=[]};this._workspaceEdit.documentChanges.push(r),n=new X(o),this._textEditChanges[t.uri]=n}return n}if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var n;if(!(n=this._textEditChanges[e])){var o=[];this._workspaceEdit.changes[e]=o,n=new X(o),this._textEditChanges[e]=n}return n},e.prototype.createFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(b.create(e,t))},e.prototype.renameFile=function(e,t,r){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(S.create(e,t,r))},e.prototype.deleteFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(C.create(e,t))},e.prototype.checkDocumentChanges=function(){if(!this._workspaceEdit||!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.")},e}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return ee.defined(t)&&ee.string(t.uri)}}(T||(T={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return ee.defined(t)&&ee.string(t.uri)&&(null===t.version||ee.number(t.version))}}(P||(P={})),function(e){e.create=function(e,t,r,n){return{uri:e,languageId:t,version:r,text:n}},e.is=function(e){var t=e;return ee.defined(t)&&ee.string(t.uri)&&ee.string(t.languageId)&&ee.number(t.version)&&ee.string(t.text)}}(x||(x={})),function(e){e.PlainText="plaintext",e.Markdown="markdown"}(R||(R={})),function(e){e.is=function(t){var r=t;return r===e.PlainText||r===e.Markdown}}(R||(R={})),function(e){e.is=function(e){var t=e;return ee.objectLiteral(e)&&R.is(t.kind)&&ee.string(t.value)}}(k||(k={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(N||(N={})),function(e){e.PlainText=1,e.Snippet=2}(E||(E={})),function(e){e.Deprecated=1}(w||(w={})),function(e){e.create=function(e){return{label:e}}}(q||(q={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(_||(_={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return ee.string(t)||ee.objectLiteral(t)&&ee.string(t.language)&&ee.string(t.value)}}(A||(A={})),function(e){e.is=function(e){var t=e;return!!t&&ee.objectLiteral(t)&&(k.is(t.contents)||A.is(t.contents)||ee.typedArray(t.contents,A.is))&&(void 0===e.range||o.is(e.range))}}(D||(D={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(I||(I={})),function(e){e.create=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o={label:e};return ee.defined(t)&&(o.documentation=t),ee.defined(r)?o.parameters=r:o.parameters=[],o}}($||($={})),function(e){e.Text=1,e.Read=2,e.Write=3}(j||(j={})),function(e){e.create=function(e,t){var r={range:e};return ee.number(t)&&(r.kind=t),r}}(M||(M={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(V||(V={})),function(e){e.Deprecated=1}(L||(L={})),function(e){e.create=function(e,t,r,n,o){var i={name:e,kind:t,location:{uri:n,range:r}};return o&&(i.containerName=o),i}}(F||(F={})),function(e){e.create=function(e,t,r,n,o,i){var s={name:e,detail:t,kind:r,range:n,selectionRange:o};return void 0!==i&&(s.children=i),s},e.is=function(e){var t=e;return t&&ee.string(t.name)&&ee.number(t.kind)&&o.is(t.range)&&o.is(t.selectionRange)&&(void 0===t.detail||ee.string(t.detail))&&(void 0===t.deprecated||ee.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))}}(W||(W={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(U||(U={})),function(e){e.create=function(e,t){var r={diagnostics:e};return null!=t&&(r.only=t),r},e.is=function(e){var t=e;return ee.defined(t)&&ee.typedArray(t.diagnostics,m.is)&&(void 0===t.only||ee.typedArray(t.only,ee.string))}}(H||(H={})),function(e){e.create=function(e,t,r){var n={title:e};return g.is(t)?n.command=t:n.edit=t,void 0!==r&&(n.kind=r),n},e.is=function(e){var t=e;return t&&ee.string(t.title)&&(void 0===t.diagnostics||ee.typedArray(t.diagnostics,m.is))&&(void 0===t.kind||ee.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||g.is(t.command))&&(void 0===t.isPreferred||ee.boolean(t.isPreferred))&&(void 0===t.edit||O.is(t.edit))}}(B||(B={})),function(e){e.create=function(e,t){var r={range:e};return ee.defined(t)&&(r.data=t),r},e.is=function(e){var t=e;return ee.defined(t)&&o.is(t.range)&&(ee.undefined(t.command)||g.is(t.command))}}(G||(G={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return ee.defined(t)&&ee.number(t.tabSize)&&ee.boolean(t.insertSpaces)}}(J||(J={})),function(e){e.create=function(e,t,r){return{range:e,target:t,data:r}},e.is=function(e){var t=e;return ee.defined(t)&&o.is(t.range)&&(ee.undefined(t.target)||ee.string(t.target))}}(z||(z={})),function(e){e.create=function(e,t){return{range:e,parent:t}},e.is=function(t){var r=t;return void 0!==r&&o.is(r.range)&&(void 0===r.parent||e.is(r.parent))}}(K||(K={}));var Y,Z=["\n","\r\n","\r"];!function(e){function t(e,r){if(e.length<=1)return e;var n=e.length/2|0,o=e.slice(0,n),i=e.slice(n);t(o,r),t(i,r);for(var s=0,a=0,c=0;s<o.length&&a<i.length;){var u=r(o[s],i[a]);e[c++]=u<=0?o[s++]:i[a++]}for(;s<o.length;)e[c++]=o[s++];for(;a<i.length;)e[c++]=i[a++];return e}e.create=function(e,t,r,n){return new te(e,t,r,n)},e.is=function(e){var t=e;return!!(ee.defined(t)&&ee.string(t.uri)&&(ee.undefined(t.languageId)||ee.string(t.languageId))&&ee.number(t.lineCount)&&ee.func(t.getText)&&ee.func(t.positionAt)&&ee.func(t.offsetAt))},e.applyEdits=function(e,r){for(var n=e.getText(),o=t(r,(function(e,t){var r=e.range.start.line-t.range.start.line;return 0===r?e.range.start.character-t.range.start.character:r})),i=n.length,s=o.length-1;s>=0;s--){var a=o[s],c=e.offsetAt(a.range.start),u=e.offsetAt(a.range.end);if(!(u<=i))throw new Error("Overlapping edit");n=n.substring(0,c)+a.newText+n.substring(u,n.length),i=c}return n}}(Y||(Y={}));var ee,te=function(){function e(e,t,r,n){this._uri=e,this._languageId=t,this._version=r,this._content=n,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(t,r)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var e=[],t=this._content,r=!0,n=0;n<t.length;n++){r&&(e.push(n),r=!1);var o=t.charAt(n);r="\r"===o||"\n"===o,"\r"===o&&n+1<t.length&&"\n"===t.charAt(n+1)&&n++}r&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),r=0,o=t.length;if(0===o)return n.create(0,e);for(;r<o;){var i=Math.floor((r+o)/2);t[i]>e?o=i:r=i+1}var s=r-1;return n.create(s,e-t[s])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var r=t[e.line],n=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,n),r)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(ee||(ee={}))},85:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={Common:{Next:!0,End:!0,Comment:!0,InputPath:!0,OutputPath:!0,Type:!0},StateTypes:{Pass:{Properties:{Result:!0,ResultPath:!0,Parameters:!0},hasCommonProperties:!0},Task:{Properties:{Resource:!0,Parameters:!0,ResultSelector:!0,ResultPath:!0,TimeoutSeconds:!0,TimeoutSecondsPath:!0,HeartbeatSeconds:!0,HeartbeatSecondsPath:!0,Retry:{"Fn:ArrayOf":"Retrier"},Catch:{"Fn:ArrayOf":"Catcher"}},hasCommonProperties:!0},Choice:{Properties:{Comment:!0,InputPath:!0,OutputPath:!0,Type:!0,Choices:{"Fn:ArrayOf":"ChoiceRule"},Default:!0}},Wait:{Properties:{Seconds:!0,Timestamp:!0,SecondsPath:!0,TimestampPath:!0},hasCommonProperties:!0},Succeed:{Properties:{Type:!0,Comment:!0,InputPath:!0,OutputPath:!0}},Fail:{Properties:{Cause:!0,Error:!0,Comment:!0,Type:!0}},Parallel:{Properties:{Branches:!0,ResultPath:!0,Parameters:!0,ResultSelector:!0,Retry:{"Fn:ArrayOf":"Retrier"},Catch:{"Fn:ArrayOf":"Catcher"}},hasCommonProperties:!0},Map:{Properties:{Iterator:!0,ItemsPath:!0,MaxConcurrency:!0,ResultPath:!0,Parameters:!0,ResultSelector:!0,Retry:{"Fn:ArrayOf":"Retrier"},Catch:{"Fn:ArrayOf":"Catcher"}},hasCommonProperties:!0}},ReferenceTypes:{ComparisonOperators:{And:{"Fn:ArrayOf":"NestedChoiceRule"},Not:{"Fn:ValueOf":"NestedChoiceRule"},Or:{"Fn:ArrayOf":"NestedChoiceRule"},BooleanEquals:!0,NumericEquals:!0,NumericGreaterThan:!0,NumericGreaterThanEquals:!0,NumericLessThan:!0,NumericLessThanEquals:!0,StringEquals:!0,StringGreaterThan:!0,StringGreaterThanEquals:!0,StringLessThan:!0,StringLessThanEquals:!0,TimestampEquals:!0,TimestampGreaterThan:!0,TimestampGreaterThanEquals:!0,TimestampLessThan:!0,TimestampLessThanEquals:!0,BooleanEqualsPath:!0,NumericEqualsPath:!0,NumericGreaterThanPath:!0,NumericGreaterThanEqualsPath:!0,NumericLessThanPath:!0,NumericLessThanEqualsPath:!0,StringEqualsPath:!0,StringGreaterThanPath:!0,StringGreaterThanEqualsPath:!0,StringLessThanPath:!0,StringLessThanEqualsPath:!0,TimestampEqualsPath:!0,TimestampGreaterThanPath:!0,TimestampGreaterThanEqualsPath:!0,TimestampLessThanPath:!0,TimestampLessThanEqualsPath:!0,StringMatches:!0,IsNull:!0,IsPresent:!0,IsNumeric:!0,IsString:!0,IsBoolean:!0,IsTimestamp:!0},ChoiceRule:{"Fn:OneOf":"ComparisonOperators",Variable:!0,Next:!0,Comment:!0},NestedChoiceRule:{"Fn:OneOf":"ComparisonOperators",Variable:!0,Comment:!0},Catcher:{ErrorEquals:!0,ResultPath:!0,Next:!0,Comment:!0},Retrier:{ErrorEquals:!0,IntervalSeconds:!0,MaxAttempts:!0,BackoffRate:!0,Comment:!0}},Root:{Comment:!0,StartAt:!0,TimeoutSeconds:!0,Version:!0,States:!0},NestedRoot:{Comment:!0,StartAt:!0,States:!0}}},90:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(73),o=r(61);let i=8192,s=Buffer.from("\r","ascii")[0],a=Buffer.from("\n","ascii")[0];class c{constructor(e="utf8"){this.encoding=e,this.index=0,this.buffer=Buffer.allocUnsafe(i)}append(e){var t=e;if("string"==typeof e){var r=e,n=Buffer.byteLength(r,this.encoding);(t=Buffer.allocUnsafe(n)).write(r,0,n,this.encoding)}if(this.buffer.length-this.index>=t.length)t.copy(this.buffer,this.index,0,t.length);else{var o=(Math.ceil((this.index+t.length)/i)+1)*i;0===this.index?(this.buffer=Buffer.allocUnsafe(o),t.copy(this.buffer,0,0,t.length)):this.buffer=Buffer.concat([this.buffer.slice(0,this.index),t],o)}this.index+=t.length}tryReadHeaders(){let e=void 0,t=0;for(;t+3<this.index&&(this.buffer[t]!==s||this.buffer[t+1]!==a||this.buffer[t+2]!==s||this.buffer[t+3]!==a);)t++;if(t+3>=this.index)return e;e=Object.create(null),this.buffer.toString("ascii",0,t).split("\r\n").forEach((t=>{let r=t.indexOf(":");if(-1===r)throw new Error("Message header must separate key and value using :");let n=t.substr(0,r),o=t.substr(r+1).trim();e[n]=o}));let r=t+4;return this.buffer=this.buffer.slice(r),this.index=this.index-r,e}tryReadContent(e){if(this.index<e)return null;let t=this.buffer.toString(this.encoding,0,e),r=e;return this.buffer.copy(this.buffer,0,r),this.index=this.index-r,t}get numberOfBytes(){return this.index}}!function(e){e.is=function(e){let t=e;return t&&o.func(t.listen)&&o.func(t.dispose)&&o.func(t.onError)&&o.func(t.onClose)&&o.func(t.onPartialMessage)}}(t.MessageReader||(t.MessageReader={}));class u{constructor(){this.errorEmitter=new n.Emitter,this.closeEmitter=new n.Emitter,this.partialMessageEmitter=new n.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error("Reader received error. Reason: "+(o.string(e.message)?e.message:"unknown"))}}t.AbstractMessageReader=u;class l extends u{constructor(e,t="utf8"){super(),this.readable=e,this.buffer=new c(t),this._partialMessageTimeout=1e4}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e,this.readable.on("data",(e=>{this.onData(e)})),this.readable.on("error",(e=>this.fireError(e))),this.readable.on("close",(()=>this.fireClose()))}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){let e=this.buffer.tryReadHeaders();if(!e)return;let t=e["Content-Length"];if(!t)throw new Error("Header must provide a Content-Length property.");let r=parseInt(t);if(isNaN(r))throw new Error("Content-Length value must be a number.");this.nextMessageLength=r}var t=this.buffer.tryReadContent(this.nextMessageLength);if(null===t)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var r=JSON.parse(t);this.callback(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=setTimeout(((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())}),this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}t.StreamMessageReader=l;t.IPCMessageReader=class extends u{constructor(e){super(),this.process=e;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose()))}listen(e){this.process.on("message",e)}};t.SocketMessageReader=class extends l{constructor(e,t="utf-8"){super(e,t)}}},91:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(73),o=r(61);let i="Content-Length: ",s="\r\n";!function(e){e.is=function(e){let t=e;return t&&o.func(t.dispose)&&o.func(t.onClose)&&o.func(t.onError)&&o.func(t.write)}}(t.MessageWriter||(t.MessageWriter={}));class a{constructor(){this.errorEmitter=new n.Emitter,this.closeEmitter=new n.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,r){this.errorEmitter.fire([this.asError(e),t,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error("Writer received error. Reason: "+(o.string(e.message)?e.message:"unknown"))}}t.AbstractMessageWriter=a;t.StreamMessageWriter=class extends a{constructor(e,t="utf8"){super(),this.writable=e,this.encoding=t,this.errorCount=0,this.writable.on("error",(e=>this.fireError(e))),this.writable.on("close",(()=>this.fireClose()))}write(e){let t=JSON.stringify(e),r=Buffer.byteLength(t,this.encoding),n=[i,r.toString(),s,s];try{this.writable.write(n.join(""),"ascii"),this.writable.write(t,this.encoding),this.errorCount=0}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}};t.IPCMessageWriter=class extends a{constructor(e){super(),this.process=e,this.errorCount=0,this.queue=[],this.sending=!1;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose))}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){try{this.process.send&&(this.sending=!0,this.process.send(e,void 0,void 0,(t=>{this.sending=!1,t?(this.errorCount++,this.fireError(t,e,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})))}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}};t.SocketMessageWriter=class extends a{constructor(e,t="utf8"){super(),this.socket=e,this.queue=[],this.sending=!1,this.encoding=t,this.errorCount=0,this.socket.on("error",(e=>this.fireError(e))),this.socket.on("close",(()=>this.fireClose()))}dispose(){super.dispose(),this.socket.destroy()}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){let t=JSON.stringify(e),r=Buffer.byteLength(t,this.encoding),n=[i,r.toString(),s,s];try{this.sending=!0,this.socket.write(n.join(""),"ascii",(r=>{r&&this.handleError(r,e);try{this.socket.write(t,this.encoding,(t=>{this.sending=!1,t?this.handleError(t,e):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(r){this.handleError(r,e)}}))}catch(t){this.handleError(t,e)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}}},95:function(e,t){e.exports=require("child_process")}});
//# sourceMappingURL=aslServer.js.map